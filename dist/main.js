(()=>{"use strict";const e=()=>{const e=["A","B","C","D","E","F","G","H","I","J"],r=["1","2","3","4","5","6","7","8","9","10"],s=[],o=[],i=((()=>{for(let t=0;t<10;t+=1){s[t]=[];for(let a=0;a<10;a+=1)s[t][a]={col:e[a],row:r[t],status:"empty",takenBy:null}}})(),(t,a)=>{const o=e.indexOf(t),i=r.indexOf(a);return-1===o||-1===i?null:s[i][o]}),l=(t,a,o,i)=>{const l=e.indexOf(t),n=r.indexOf(a);return-1===l||-1===n?null:(s[n][l].status=o,i&&(s[n][l].takenBy=i),s[n][l])};return{clearBoard:()=>{for(let e=0;e<10;e+=1)for(let t=0;t<10;t+=1)s[e][t].status="empty",s[e][t].takenBy=void 0;o.length=0},getCell:i,setCell:l,removeShip:(e,r)=>{r.array.flat().forEach((s=>{let i;"taken"===s.status&&s.takenBy.name===e.name&&(s.status="empty",s.takenBy=null),o.forEach((e=>{null===e.takenBy&&o.splice(o.indexOf(e),1)})),r===t?i="firstBoard":r===a&&(i="secondBoard");document.querySelectorAll(`#${i} .cell`).forEach((t=>{t.classList.contains("taken")&&t.getAttribute("data-shipName")===e.name.toLowerCase()&&(t.classList.remove("taken"),t.classList.add("empty"),t.removeAttribute("data-shipName"))}))}))},placeShip:(t,a,s,n)=>{t.isVertical="horizontal"!==n;const c="horizontal"===n,d=c?e:r,u=d.indexOf(c?a:s);let h=[];if(u<0||u+t.size>d.length)return!1;for(let e=0;e<t.size;e+=1){const r=c?d[u+e]:a,o=c?s:d[u+e];if("empty"!==i(r,o).status)return!1;l(r,o,"taken",t),h.push(i(r,o))}return o.push(h[0]),!0},receiveAttack:(e,t)=>{const a=i(e,t);return"taken"===a.status?(a.takenBy.hit(),l(e,t,"hit"),a.status):"empty"===a.status||"reserved"===a.status?(l(e,t,"miss"),a.status):null},receiveAround:(e,t)=>{const a=i(e,t);return"empty"===a.status?(l(e,t,"reserved"),a.status):null},reserveSpace:(e,t,a)=>{const r=e.getCell(t,a);if(r&&r.takenBy){e.array.flat().filter((e=>e.takenBy&&e.takenBy.name===r.takenBy.name)).forEach((t=>{[{col:0,row:-1},{col:0,row:1},{col:-1,row:0},{col:1,row:0},{col:-1,row:-1},{col:-1,row:1},{col:1,row:-1},{col:1,row:1}].forEach((a=>{const r=String.fromCharCode(t.col.charCodeAt(0)+a.col),s=(Number(t.row)+a.row).toString();e.getCell(r,s)&&e.receiveAround(r,s)}))}))}},hitButNotSunk:e=>e.array.flat().some((e=>"hit"===e.status&&!1===e.takenBy.isSunk())),sinkShip:(e,t,a)=>{const r=e.getCell(t,a);if(r&&r.takenBy&&r.takenBy.isSunk()){e.array.flat().filter((e=>e.takenBy&&e.takenBy.name===r.takenBy.name)).forEach((t=>{[{col:0,row:-1},{col:0,row:1},{col:-1,row:0},{col:1,row:0},{col:-1,row:-1},{col:-1,row:1},{col:1,row:-1},{col:1,row:1}].forEach((a=>{const r=String.fromCharCode(t.col.charCodeAt(0)+a.col),s=(Number(t.row)+a.row).toString();e.getCell(r,s)&&e.receiveAttack(r,s)}))}))}},allSunk:e=>{let t=e.array.flat().filter((e=>e.takenBy));return!!(t.length>0&&t.every((e=>e.takenBy.isSunk())))},array:s,canBePlaced:(t,a,s,o)=>{const l="horizontal"===o,n=l?e:r,c=n.indexOf(l?a:s);if(c<0||c+t>n.length)return!1;const d=[];for(let e=0;e<t;e+=1){const t=l?n[c+e]:a,r=l?s:n[c+e];d.push("empty"===i(t,r).status)}return d.every((e=>!0===e))},shipsPlaced:o,removeReservedSpace:e=>{e.array.flat().forEach((e=>{"reserved"===e.status&&l(e.col,e.row,"empty")}))}}},t=e(),a=e(),r=e=>{let t;return"Carrier"===e&&(t=5),"Battleship"===e&&(t=4),"Destroyer"===e&&(t=3),"Submarine"===e&&(t=3),"PatrolBoat"===e&&(t=2),{name:e,size:t,hitCount:0,isVertical:!1,rotate(){this.isVertical=!this.isVertical},hit(){this.hitCount+=1},isSunk(){return this.hitCount===t}}},s=()=>{const e=["A","B","C","D","E","F","G","H","I","J"];let t=null,a=null;let r=1,s=!0,o=!0;const i=(e,t,c,d)=>{if(d.row===c)if(s){r=1;let o=String.fromCharCode(t.charCodeAt(0)+r);for(;e.getCell(o,c)&&"hit"===e.getCell(o,c).status;)r+=1,o=String.fromCharCode(t.charCodeAt(0)+r);e.getCell(o,c)&&"hit"!==e.getCell(o,c).status&&"miss"!==e.getCell(o,c).status?(e.receiveAttack(o,c),"hit"===e.getCell(o,c).status&&(l(a),n({col:o,row:c})),r+=1):(r=1,s=!1,i(e,o,c,d))}else{r=1;let o=String.fromCharCode(t.charCodeAt(0)-r);for(;e.getCell(o,c)&&"hit"===e.getCell(o,c).status;)r+=1,o=String.fromCharCode(t.charCodeAt(0)-r);e.getCell(o,c)&&"hit"!==e.getCell(o,c).status&&"miss"!==e.getCell(o,c).status?(e.receiveAttack(o,c),"hit"===e.getCell(o,c).status&&(l(a),n({col:o,row:c})),r+=1):(r=1,s=!0,i(e,o,c,d))}else if(d.col===t)if(o){r=1;let s=(Number(c)+r).toString();for(;e.getCell(t,s)&&"hit"===e.getCell(t,s).status;)r+=1,s=(Number(c)+r).toString();e.getCell(t,s)&&"hit"!==e.getCell(t,s).status&&"miss"!==e.getCell(t,s).status?(e.receiveAttack(t,s),"hit"===e.getCell(t,s).status&&(l(a),n({col:t,row:s})),r+=1):(r=1,o=!1,i(e,t,s,d))}else{r=1;let s=(Number(c)-r).toString();for(;e.getCell(t,s)&&"hit"===e.getCell(t,s).status;)r+=1,s=(Number(c)-r).toString();e.getCell(t,s)&&"hit"!==e.getCell(t,s).status&&"miss"!==e.getCell(t,s).status?(e.receiveAttack(t,s),"hit"===e.getCell(t,s).status&&(l(a),n({col:t,row:s})),r+=1):(r=1,o=!0,i(e,t,s,d))}},l=e=>{t=e},n=e=>{a=e};return{attack:(e,t,r)=>{if("hit"!==e.getCell(t,r).status&&"miss"!==e.getCell(t,r).status){let s=e.receiveAttack(t,r);return"hit"===s&&(l(a),n({col:t,row:r})),s}return"already shot"},randomAttack:t=>{let r,s;do{r=e[Math.floor(Math.random()*e.length)],s=Math.ceil(10*Math.random()).toString()}while("hit"===t.getCell(r,s).status||"miss"===t.getCell(r,s).status);if("hit"!==t.getCell(r,s).status&&"miss"!==t.getCell(r,s).status){const e=t.receiveAttack(r,s);return"hit"===t.getCell(r,s).status&&(l(a),n({col:r,row:s})),{result:e,col:r,row:s}}return{result:"already shot",col:r,row:s}},followupAttack:(e,t,s)=>{const o=[{col:0,row:-1},{col:0,row:1},{col:-1,row:0},{col:1,row:0}].filter((a=>{const r=String.fromCharCode(t.charCodeAt(0)+a.col),o=(Number(s)+a.row).toString(),i=e.getCell(r,o);return!(!i||"miss"===i.status||"hit"===i.status)}));if(o.length>0){const i=o[Math.floor(Math.random()*o.length)],c=String.fromCharCode(t.charCodeAt(0)+i.col),d=(Number(s)+i.row).toString();e.receiveAttack(c,d),r=1,"hit"===e.getCell(c,d).status&&(l(a),n({col:c,row:d}))}},finishingAttack:i,prevHit:t,lastHit:a,getPrevHit:()=>t,getLastHit:()=>a,setPrevHit:l,setLastHit:n}};var o=function(e,t,a,r){return new(a||(a=Promise))((function(s,o){function i(e){try{n(r.next(e))}catch(e){o(e)}}function l(e){try{n(r.throw(e))}catch(e){o(e)}}function n(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,l)}n((r=r.apply(e,t||[])).next())}))};const i=(e,t,a)=>{let r,s,l,n,c=0,u=0,h=[];const f={carrier:a[0],battleship:a[1],destroyer:a[2],submarine:a[3],patrolboat:a[4]},p=document.querySelector("#firstBoard"),v=document.querySelector("#secondBoard"),g=p.querySelectorAll(".cell"),S=v.querySelectorAll(".cell"),y=[];for(let e of g)e.classList.contains("taken")||y.push(e);for(let e of S)e.classList.contains("taken")||y.push(e);document.querySelectorAll(".draggable").forEach((e=>{e.addEventListener("mousedown",w),e.addEventListener("mouseup",C),e.addEventListener("dragstart",b),e.addEventListener("dragend",E),e.addEventListener("contextmenu",M),y.forEach((e=>{e.addEventListener("contextmenu",V)}))}));let B=null;function w(a){e.removeReservedSpace(e),t.removeReservedSpace(t);const r=a.target.getAttribute("data-name");let s=e.shipsPlaced.filter((e=>r!==e.takenBy.name.toLowerCase())),o=t.shipsPlaced.filter((e=>r!==e.takenBy.name.toLowerCase()));s.forEach((t=>{e.reserveSpace(e,t.col,t.row)})),o.forEach((e=>{t.reserveSpace(t,e.col,e.row)})),d.refreshBoard(e),d.refreshBoard(t),d.createShipOverlay("first",e.shipsPlaced),d.createShipOverlay("second",t.shipsPlaced),i(e,t,m.humanShips)}function C(){e.shipsPlaced.forEach((t=>{e.reserveSpace(e,t.col,t.row)})),t.shipsPlaced.forEach((e=>{t.reserveSpace(t,e.col,e.row)})),d.refreshBoard(e),d.refreshBoard(t),d.createShipOverlay("first",e.shipsPlaced),d.createShipOverlay("second",t.shipsPlaced),i(e,t,m.humanShips)}function b(a){return o(this,void 0,void 0,(function*(){yield new Promise((e=>setTimeout(e,0)));const o=a.target;o.style.visibility="hidden",this.classList.add("dragging"),r=o.getAttribute("data-name"),s=Number(o.getAttribute("data-size")),c=a.offsetX,u=a.offsetY,l=f[r],n=l.isVertical?"vertical":"horizontal","firstBoard"===o.closest(".board").id&&e.removeShip(l,e),"secondBoard"===o.closest(".board").id&&t.removeShip(l,t)}))}function L(e){return function(t){const a=t.target;if("firstBoard"===a.closest(".board").id&&(t.preventDefault(),l)){let t=e-(l.isVertical?10*Math.floor(u/this.offsetHeight):Math.floor(c/this.offsetWidth));const a=[];for(let e=0;e<s;e++){let r=l.isVertical?t+10*e:t+e;g[r]&&(a.push(g[r]),h.push(g[r]))}A(a)&&(a.forEach((e=>{e.classList.add("highlight")})),B||(B=H(h,s)))}if("secondBoard"===a.closest(".board").id&&(t.preventDefault(),l)){let t=e-(l.isVertical?10*Math.floor(u/this.offsetHeight):Math.floor(c/this.offsetWidth));const a=[];for(let e=0;e<s;e++){let r=l.isVertical?t+10*e:t+e;S[r]&&(a.push(S[r]),h.push(S[r]))}A(a)&&(a.forEach((e=>{e.classList.add("highlight")})),B||(B=H(h,s)))}}}function k(){h.forEach((e=>{e.classList.remove("highlight")})),h=[]}function P(a){h.forEach((e=>{e.classList.remove("highlight")}));const r=H(h,s),o=a.target;"firstBoard"===o.closest(".board").id&&l&&null!==B&&(e.canBePlaced(l.size,r[0].dataset.col,r[0].dataset.row,n)?(e.placeShip(l,r[0].dataset.col,r[0].dataset.row,n),e.reserveSpace(e,r[0].dataset.col,r[0].dataset.row)):(e.placeShip(l,B[0].dataset.col,B[0].dataset.row,n),e.reserveSpace(e,B[0].dataset.col,B[0].dataset.row))),"secondBoard"===o.closest(".board").id&&l&&null!==B&&(t.canBePlaced(l.size,r[0].dataset.col,r[0].dataset.row,n)?(t.placeShip(l,r[0].dataset.col,r[0].dataset.row,n),t.reserveSpace(t,r[0].dataset.col,r[0].dataset.row)):(t.placeShip(l,B[0].dataset.col,B[0].dataset.row,n),t.reserveSpace(t,B[0].dataset.col,B[0].dataset.row))),e.removeReservedSpace(e),t.removeReservedSpace(t),e.shipsPlaced.forEach((t=>{e.reserveSpace(e,t.col,t.row)})),t.shipsPlaced.forEach((e=>{t.reserveSpace(t,e.col,e.row)})),d.refreshBoard(e),d.refreshBoard(t),d.createShipOverlay("first",e.shipsPlaced),d.createShipOverlay("second",t.shipsPlaced),i(e,t,m.humanShips),d.canBeStarted(),d.setStartMessage(),B=null}function E(a){const r=a.target;r.style.visibility="visible",this.classList.remove("dragging"),0===h.length&&("firstBoard"===r.closest(".board").id?B&&e.canBePlaced(l.size,B[0].dataset.col,B[0].dataset.row,n)&&(e.placeShip(l,B[0].dataset.col,B[0].dataset.row,n),e.reserveSpace(e,B[0].dataset.col,B[0].dataset.row),d.refreshBoard(e),d.refreshBoard(t),d.createShipOverlay("first",e.shipsPlaced),d.createShipOverlay("second",t.shipsPlaced),i(e,t,m.humanShips)):"secondBoard"===r.closest(".board").id&&B&&t.canBePlaced(l.size,B[0].dataset.col,B[0].dataset.row,n)&&(t.placeShip(l,B[0].dataset.col,B[0].dataset.row,n),t.reserveSpace(t,B[0].dataset.col,B[0].dataset.row),d.refreshBoard(e),d.refreshBoard(t),d.createShipOverlay("first",e.shipsPlaced),d.createShipOverlay("second",t.shipsPlaced),i(e,t,m.humanShips)))}function A(e){return e.every((e=>e.classList.contains("empty")))&&(e.every((t=>t.dataset.col===e[0].dataset.col))||e.every((t=>t.dataset.row===e[0].dataset.row)))&&e.length===s&&e.every((e=>e.dataset.col>="A"&&e.dataset.col<="J"))&&e.every((e=>Number(e.dataset.row)>=1&&Number(e.dataset.row)<=10))}function H(e,t){return e.slice(Math.min(e.length-t,0))}function M(a){a.preventDefault();const o=a.target;let c;"firstBoard"===o.closest(".board").id&&(c=e),"secondBoard"===o.closest(".board").id&&(c=t),r=o.getAttribute("data-name"),s=Number(o.getAttribute("data-size")),l=f[r];const u=l,h=c.shipsPlaced.filter((e=>e.takenBy.name.toLowerCase()===r));c.removeShip(l,c),c.removeReservedSpace(c),c.shipsPlaced.forEach((e=>{c.reserveSpace(c,e.col,e.row)})),u.rotate(),n=u.isVertical?"vertical":"horizontal",c.canBePlaced(u.size,h[0].col,h[0].row,n)||(u.rotate(),n=u.isVertical?"vertical":"horizontal"),c.placeShip(u,h[0].col,h[0].row,n),c.shipsPlaced.forEach((e=>{c.reserveSpace(c,e.col,e.row)})),d.refreshBoard(c),d.createShipOverlay("first",e.shipsPlaced),d.createShipOverlay("second",t.shipsPlaced),i(e,t,m.humanShips),d.canBeStarted()&&d.fillCells("second")}function V(e){e.preventDefault()}g.forEach(((e,t)=>{e.addEventListener("dragover",L(t)),e.addEventListener("dragleave",k),e.addEventListener("drop",P)})),S.forEach(((e,t)=>{e.addEventListener("dragover",L(t)),e.addEventListener("dragleave",k),e.addEventListener("drop",P)}))},l=i;var n=function(e,t,a,r){return new(a||(a=Promise))((function(s,o){function i(e){try{n(r.next(e))}catch(e){o(e)}}function l(e){try{n(r.throw(e))}catch(e){o(e)}}function n(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,l)}n((r=r.apply(e,t||[])).next())}))};const c=(()=>{const e=document.querySelector("#messageBox p"),t=document.querySelector("#boards"),a=document.querySelector("#playerVsComputer"),r=document.querySelector("#newGame"),s=document.querySelector("#computerVsComputer"),o=document.querySelector("#start"),i=document.querySelector("#randomPlacement"),d=[a,r,s,o,i],u=document.getElementsByName("speed"),h=(e,t)=>{e.array.forEach((e=>{e.forEach((e=>{const a=(e=>{const t=document.createElement("div");return t.classList.add("cell"),t.classList.add(e.status),t.setAttribute("data-col",e.col),t.setAttribute("data-row",e.row),e.takenBy&&t.setAttribute("data-shipName",e.takenBy.name.toLowerCase()),t})(e);t.append(a)}))}))},f=e=>{let t;e===m.humanGameboard?t="firstBoard":e===m.computerGameboard&&(t="secondBoard");const a=document.querySelector(`#${t}`);a.innerHTML="",h(e,a)},p=e=>{if(!e.target.classList.contains("hit")&&!e.target.classList.contains("miss")){return{col:e.target.getAttribute("data-col"),row:e.target.getAttribute("data-row")}}},v=(e,t)=>{t.classList.remove("selected"),e.classList.contains("selected")||(e.classList.add("selected"),e===a&&n(void 0,void 0,void 0,(function*(){L("first"),g(!0),d.forEach((e=>e.disabled=!0)),yield new Promise((e=>setTimeout(e,b()))),d.forEach((e=>e.disabled=!1)),g(!1),S(),y()})),e===s&&n(void 0,void 0,void 0,(function*(){g(!0),d.forEach((e=>e.disabled=!0)),yield new Promise((e=>setTimeout(e,b()))),d.forEach((e=>e.disabled=!1)),g(!1),o.disabled=!0,i.disabled=!0,s.disabled=!0})),m.restart(),w())},g=e=>{document.documentElement.classList.toggle("wait",e)},S=()=>5===m.humanGameboard.shipsPlaced.length&&0===m.computerGameboard.shipsPlaced.length?(L("second"),o.disabled=!1,!0):(o.disabled=!0,!1),y=()=>{const t="Use 'Random Placement' button, then press Start!",a="Drag and drop ships onto the left board or use 'Random Placement' button. Right click to rotate. When ready, press Start!";e.textContent!==t&&e.textContent!==a&&"Restarting..."!==e.textContent||(e.textContent=t,window.matchMedia("(min-width: 1024px)").matches&&(e.textContent=a))},B=()=>{S()&&(e.textContent="You can now begin the game. Press start!")},w=()=>{e.textContent="Restarting..."};a.addEventListener("click",(()=>{L("first"),v(a,s);document.querySelector("#secondBoard").classList.remove("start"),k("first"),o.disabled=!0,a.disabled=!0})),s.addEventListener("click",(()=>{L("first"),L("second"),v(s,a);const e=document.querySelector("#secondBoard");e.classList.remove("hide"),e.classList.add("start"),Promise.all([k("first"),k("second")]),o.disabled=!0,i.disabled=!0,s.disabled=!0})),r.addEventListener("click",(()=>n(void 0,void 0,void 0,(function*(){L("first"),s.classList.contains("selected")&&(L("second"),o.disabled=!0,i.disabled=!0,s.disabled=!0),c.removeBoardPointer(),yield n(void 0,void 0,void 0,(function*(){w(),g(!0),d.forEach((e=>e.disabled=!0)),yield m.newGame(),d.forEach((e=>e.disabled=!1)),g(!1),S(),a.classList.contains("selected")&&y()}));const e=document.querySelector("#secondBoard");e.classList.remove("hide"),a.classList.contains("selected")&&(e.classList.remove("start"),k("first"),o.disabled=!0,a.disabled=!0),s.classList.contains("selected")&&(e.classList.add("start"),i.disabled=!0,Promise.all([k("first"),k("second")]),o.disabled=!0,i.disabled=!0,s.disabled=!0)})))),o.addEventListener("click",(()=>{m.start();document.querySelector("#firstBoard").classList.add("hide");const e=document.querySelector("#secondBoard");e.classList.add("hide"),e.classList.add("start"),k("second"),o.disabled=!0,i.disabled=!0})),i.addEventListener("click",(()=>{m.computerGameboard.clearBoard(),f(m.computerGameboard),m.randomizeShipsPlacement("first",m.humanGameboard),l(m.humanGameboard,m.computerGameboard,m.humanShips),S(),B(),L("second")}));let C=1e3;u.forEach((e=>{e.addEventListener("click",(()=>{let t=e;t.checked&&(C=Number(t.value))}))}));const b=()=>C;window.addEventListener("resize",y);const L=e=>{let t;"first"===e?t=document.querySelector("#firstBoard"):"second"===e&&(t=document.querySelector("#secondBoard"));t.querySelectorAll(".cell").forEach((e=>{e.classList.add("filled")}))},k=e=>n(void 0,void 0,void 0,(function*(){let t;g(!0),"first"===e?t=document.querySelector("#firstBoard"):"second"===e&&(t=document.querySelector("#secondBoard"));const a=t.querySelectorAll(".cell");a.forEach((e=>{e.classList.add("filled")})),yield new Promise((e=>{a.forEach(((t,r)=>{setTimeout((()=>{t.classList.remove("filled"),r===a.length-1&&e()}),b()/120*r)}))})),g(!1)}));return{renderBoard:e=>{const a=document.createElement("div");a.classList.add("board"),e===m.humanGameboard?a.id="firstBoard":e===m.computerGameboard&&(a.id="secondBoard"),h(e,a),t.append(a)},refreshBoard:f,handleUserInput:()=>n(void 0,void 0,void 0,(function*(){const e=document.querySelectorAll("#secondBoard .cell");let t;do{t=yield new Promise((t=>{e.forEach((e=>{e.classList.contains("hit")||e.classList.contains("miss")||e.addEventListener("click",(e=>{t(p(e))}),{once:!0})}))}))}while(!t);return{col:t.col.toString(),row:t.row.toString()}})),pVcBtn:a,cVcBtn:s,waiting:g,setBoardPointer:e=>{const t=document.querySelector("#secondBoard");"player"===e?t.classList.add("boardOutline"):"computer"===e&&t.classList.remove("boardOutline")},removeBoardPointer:()=>{document.querySelector("#secondBoard").classList.remove("boardOutline")},createShipOverlay:(e,t)=>{t.forEach((t=>{const a=document.createElement("div"),r=t.takenBy.name.toLowerCase(),s=t.takenBy.size,o=t.takenBy.isVertical;a.classList.add("ship",r),a.setAttribute("data-size",`${s}`),a.setAttribute("data-name",`${r}`),a.setAttribute("draggable","true"),a.classList.add("draggable");const i=()=>{const e=document.querySelector("html"),t=parseFloat(window.getComputedStyle(e,null).getPropertyValue("font-size"));o?o&&(a.style.width=n/t+"rem",a.style.height=s*(n/t)+"rem"):(a.style.width=s*(n/t)+"rem",a.style.height=n/t+"rem")};let l,n=document.querySelector(".board .cell").getBoundingClientRect().width;i(),window.addEventListener("resize",(function(){n=document.querySelector(".board .cell").getBoundingClientRect().width,i()})),"first"===e?l="firstBoard":"second"===e&&(l="secondBoard");document.querySelector(`#${l} .cell[data-col="${t.col}"][data-row="${t.row}"]`).appendChild(a)}))},canBeStarted:S,setInitMessage:y,setStartMessage:B,setTurnMessagePvC:t=>{e.textContent=t?"Player's turn. Take aim and attack!":"Computer's turn. The shot is coming!"},setTurnMessageCvC:t=>{e.textContent=t?"Violet's turn":"Blue's turn"},setGameOverMessagePvC:t=>{"player"===t?e.textContent="Game over, Player wins!":"computer"===t&&(e.textContent="Game over, Computer wins!")},setGameOverMessageCvC:t=>{"player"===t?e.textContent="Game over, Blue Computer wins!":"computer"===t&&(e.textContent="Game over, Violet Computer wins!")},setRestartMessage:w,getSpeedValue:b,fillCells:L,unFillCells:k}})(),d=c;var u=function(e,t,a,r){return new(a||(a=Promise))((function(s,o){function i(e){try{n(r.next(e))}catch(e){o(e)}}function l(e){try{n(r.throw(e))}catch(e){o(e)}}function n(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,l)}n((r=r.apply(e,t||[])).next())}))};const h=(()=>{const e=s(),o=s();let i=!0,n=r("Carrier"),c=r("Battleship"),m=r("Destroyer"),f=r("Submarine"),p=r("PatrolBoat");const v=[n,c,m,f,p],g=()=>{a.placeShip(n,"A","1","horizontal"),a.placeShip(c,"A","3","horizontal"),a.placeShip(m,"A","5","horizontal"),a.placeShip(f,"A","7","horizontal"),a.placeShip(p,"A","9","horizontal"),a.reserveSpace(a,"A","1"),a.reserveSpace(a,"A","3"),a.reserveSpace(a,"A","5"),a.reserveSpace(a,"A","7"),a.reserveSpace(a,"A","9")},S=()=>a.allSunk(a)?(d.removeBoardPointer(),d.pVcBtn.classList.contains("selected")&&d.setGameOverMessagePvC("player"),d.cVcBtn.classList.contains("selected")&&d.setGameOverMessageCvC("player"),!0):!!t.allSunk(t)&&(d.removeBoardPointer(),d.pVcBtn.classList.contains("selected")&&d.setGameOverMessagePvC("computer"),d.cVcBtn.classList.contains("selected")&&d.setGameOverMessageCvC("computer"),!0),y=r=>{let s;if(r===t?s=o:r===a&&(s=e),r.hitButNotSunk(r)){if(null!==s.getPrevHit()&&null!==s.getLastHit()&&r.getCell(s.getLastHit().col,s.getLastHit().row).takenBy.hitCount>=2&&r.getCell(s.getLastHit().col,s.getLastHit().row).takenBy.hitCount<=4){if(s.finishingAttack(r,s.getLastHit().col,s.getLastHit().row,s.getPrevHit()),r.sinkShip(r,s.getLastHit().col,s.getLastHit().row),S())return}else if(1===r.getCell(s.getLastHit().col,s.getLastHit().row).takenBy.hitCount&&(s.followupAttack(r,s.getLastHit().col,s.getLastHit().row),r.sinkShip(r,s.getLastHit().col,s.getLastHit().row),S()))return}else{const{col:e,row:t}=s.randomAttack(r);if("hit"===r.getCell(e,t).status&&(s.setPrevHit(s.getLastHit()),s.setLastHit({col:e,row:t})),"hit"===r.getCell(e,t).status&&r.getCell(e,t).takenBy.isSunk()&&(r.sinkShip(r,e,t),s.setPrevHit(null),s.setLastHit(null),S()))return}},B=(e,s)=>{s.clearBoard(),(e=>{let s;e===t?(n=r("Carrier"),c=r("Battleship"),m=r("Destroyer"),f=r("Submarine"),p=r("PatrolBoat"),s=[n,c,m,f,p]):e===a&&(s=[r("Carrier"),r("Battleship"),r("Destroyer"),r("Submarine"),r("PatrolBoat")]);h.humanShips.length=0;const o=["A","B","C","D","E","F","G","H","I","J"],i=()=>o[Math.floor(Math.random()*o.length)],l=()=>Math.ceil(10*Math.random()).toString(),d=()=>Math.random()>.5?"horizontal":"vertical";s.forEach((t=>{let a=i(),r=l(),s=d(),o=e.canBePlaced(t.size,a,r,s);for(;!o;)a=i(),r=l(),s=d(),o=e.canBePlaced(t.size,a,r,s);o&&(e.placeShip(t,a,r,s),e.reserveSpace(e,a,r)),h.humanShips.push(t)}))})(s),d.refreshBoard(s),"first"===e&&d.createShipOverlay("first",s.shipsPlaced)},w=()=>{d.cVcBtn.classList.contains("selected")&&(B("first",t),B("second",a),i=!1,u(void 0,void 0,void 0,(function*(){d.removeBoardPointer();let e=!0;for(;!S()&&!i;){if(d.waiting(!0),e){if(d.setTurnMessageCvC(e),yield new Promise((e=>setTimeout(e,d.getSpeedValue()))),!d.cVcBtn.classList.contains("selected")||i)break;y(t),d.refreshBoard(t),e=!1}if(S()||i)break;if(!e){if(d.setTurnMessageCvC(e),yield new Promise((e=>setTimeout(e,d.getSpeedValue()))),!d.cVcBtn.classList.contains("selected")||i)break;y(a),d.refreshBoard(a),e=!0}}i=!1,d.waiting(!1)})),d.refreshBoard(t))},C=()=>{i=!0,e.setPrevHit(null),e.setLastHit(null),o.setPrevHit(null),o.setLastHit(null),t.clearBoard(),a.clearBoard(),g(),d.refreshBoard(t),d.refreshBoard(a),d.createShipOverlay("second",a.shipsPlaced),l(t,a,v),d.canBeStarted(),w(),v.forEach((e=>{!0===e.isVertical&&(e.isVertical=!1)}))};return{init:()=>{d.setInitMessage(),d.renderBoard(t),d.renderBoard(a),g(),d.refreshBoard(a),d.createShipOverlay("second",a.shipsPlaced),l(t,a,v),d.canBeStarted(),w(),d.unFillCells("first"),d.pVcBtn.disabled=!0},humanGameboard:t,computerGameboard:a,restart:C,newGame:()=>u(void 0,void 0,void 0,(function*(){i=!0,yield new Promise((e=>setTimeout(e,d.getSpeedValue()))),i=!1,C()})),start:()=>{d.refreshBoard(t),B("second",a),i=!1,u(void 0,void 0,void 0,(function*(){let r=!0;for(;!S()&&!i;){if(r){d.setTurnMessagePvC(r),d.setBoardPointer("player"),d.waiting(!1);const{col:t,row:s}=yield d.handleUserInput();e.attack(a,t,s),a.sinkShip(a,t,s),d.refreshBoard(a),r=!1}if(S()||i)break;if(!r){if(d.setTurnMessagePvC(r),d.setBoardPointer("computer"),d.waiting(!0),yield new Promise((e=>setTimeout(e,d.getSpeedValue()))),!d.pVcBtn.classList.contains("selected")||i)break;y(t),d.refreshBoard(t),r=!0}}i=!1,d.waiting(!1)}))},randomizeShipsPlacement:B,humanShips:v}})(),m=h;m.init()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aXAvLi9zcmMvbW9kdWxlcy9nYW1lYm9hcmQudHMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9tb2R1bGVzL3NoaXAudHMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9tb2R1bGVzL3BsYXllci50cyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL21vZHVsZXMvZHJhZ0FuZERyb3AudHMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9tb2R1bGVzL3VpLnRzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvbW9kdWxlcy9jb250cm9sbGVyLnRzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZ2FtZWJvYXJkRmFjdG9yeSA9ICgpID0+IHtcbiAgICBjb25zdCBjb2xzID0gWydBJywgJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJ107XG4gICAgY29uc3Qgcm93cyA9IFsnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnNycsICc4JywgJzknLCAnMTAnXTtcbiAgICBjb25zdCBhcnJheSA9IFtdO1xuICAgIGNvbnN0IHNoaXBzUGxhY2VkID0gW107XG4gICAgY29uc3QgZ2VuZXJhdGVBcnJheSA9ICgoKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkgKz0gMSkge1xuICAgICAgICAgICAgYXJyYXlbaV0gPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgIGFycmF5W2ldW2pdID0geyBjb2w6IGNvbHNbal0sIHJvdzogcm93c1tpXSwgc3RhdHVzOiAnZW1wdHknLCB0YWtlbkJ5OiBudWxsIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KSgpO1xuICAgIGNvbnN0IGNsZWFyQm9hcmQgPSAoKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkgKz0gMSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbaV1bal0uc3RhdHVzID0gJ2VtcHR5JztcbiAgICAgICAgICAgICAgICBhcnJheVtpXVtqXS50YWtlbkJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNoaXBzUGxhY2VkLmxlbmd0aCA9IDA7XG4gICAgfTtcbiAgICBjb25zdCBnZXRDZWxsID0gKGNvbCwgcm93KSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbEluZGV4ID0gY29scy5pbmRleE9mKGNvbCk7XG4gICAgICAgIGNvbnN0IHJvd0luZGV4ID0gcm93cy5pbmRleE9mKHJvdyk7XG4gICAgICAgIGlmIChjb2xJbmRleCA9PT0gLTEgfHwgcm93SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXlbcm93SW5kZXhdW2NvbEluZGV4XTtcbiAgICB9O1xuICAgIGNvbnN0IHNldENlbGwgPSAoY29sLCByb3csIG5ld1N0YXR1cywgbmV3VGFrZW5CeSkgPT4ge1xuICAgICAgICBjb25zdCBjb2xJbmRleCA9IGNvbHMuaW5kZXhPZihjb2wpO1xuICAgICAgICBjb25zdCByb3dJbmRleCA9IHJvd3MuaW5kZXhPZihyb3cpO1xuICAgICAgICBpZiAoY29sSW5kZXggPT09IC0xIHx8IHJvd0luZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgYXJyYXlbcm93SW5kZXhdW2NvbEluZGV4XS5zdGF0dXMgPSBuZXdTdGF0dXM7XG4gICAgICAgIGlmIChuZXdUYWtlbkJ5KSB7XG4gICAgICAgICAgICBhcnJheVtyb3dJbmRleF1bY29sSW5kZXhdLnRha2VuQnkgPSBuZXdUYWtlbkJ5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheVtyb3dJbmRleF1bY29sSW5kZXhdO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlU2hpcCA9IChzaGlwLCBnYW1lYm9hcmQpID0+IHtcbiAgICAgICAgY29uc3QgZ2FtZWJvYXJkQ2VsbHMgPSBnYW1lYm9hcmQuYXJyYXkuZmxhdCgpO1xuICAgICAgICBnYW1lYm9hcmRDZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2VsbC5zdGF0dXMgPT09ICd0YWtlbicgJiYgY2VsbC50YWtlbkJ5Lm5hbWUgPT09IHNoaXAubmFtZSkge1xuICAgICAgICAgICAgICAgIGNlbGwuc3RhdHVzID0gJ2VtcHR5JztcbiAgICAgICAgICAgICAgICBjZWxsLnRha2VuQnkgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2hpcHNQbGFjZWQuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzaGlwLnRha2VuQnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hpcHNQbGFjZWQuc3BsaWNlKHNoaXBzUGxhY2VkLmluZGV4T2Yoc2hpcCksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGV0IGJvYXJkSWQ7XG4gICAgICAgICAgICBpZiAoZ2FtZWJvYXJkID09PSBodW1hbkdhbWVib2FyZCkge1xuICAgICAgICAgICAgICAgIGJvYXJkSWQgPSAnZmlyc3RCb2FyZCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChnYW1lYm9hcmQgPT09IGNvbXB1dGVyR2FtZWJvYXJkKSB7XG4gICAgICAgICAgICAgICAgYm9hcmRJZCA9ICdzZWNvbmRCb2FyZCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYCMke2JvYXJkSWR9IC5jZWxsYCk7XG4gICAgICAgICAgICBjZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNlbGwuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YWtlbicpICYmIGNlbGwuZ2V0QXR0cmlidXRlKCdkYXRhLXNoaXBOYW1lJykgPT09IHNoaXAubmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZSgndGFrZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKCdlbXB0eScpO1xuICAgICAgICAgICAgICAgICAgICBjZWxsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1zaGlwTmFtZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHBsYWNlU2hpcCA9IChzaGlwLCBjb2wsIHJvdywgb3JpZW50YXRpb24pID0+IHtcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgICAgIHNoaXAuaXNWZXJ0aWNhbCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2hpcC5pc1ZlcnRpY2FsID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc0hvcml6b250YWwgPSBvcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnO1xuICAgICAgICBjb25zdCBjZWxscyA9IGlzSG9yaXpvbnRhbCA/IGNvbHMgOiByb3dzO1xuICAgICAgICBjb25zdCBzdGFydCA9IGNlbGxzLmluZGV4T2YoaXNIb3Jpem9udGFsID8gY29sIDogcm93KTtcbiAgICAgICAgbGV0IHNoaXBDZWxscyA9IFtdO1xuICAgICAgICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ICsgc2hpcC5zaXplID4gY2VsbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLnNpemU7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudENvbCA9IGlzSG9yaXpvbnRhbCA/IGNlbGxzW3N0YXJ0ICsgaV0gOiBjb2w7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Um93ID0gaXNIb3Jpem9udGFsID8gcm93IDogY2VsbHNbc3RhcnQgKyBpXTtcbiAgICAgICAgICAgIGlmIChnZXRDZWxsKGN1cnJlbnRDb2wsIGN1cnJlbnRSb3cpLnN0YXR1cyAhPT0gJ2VtcHR5Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldENlbGwoY3VycmVudENvbCwgY3VycmVudFJvdywgJ3Rha2VuJywgc2hpcCk7XG4gICAgICAgICAgICBzaGlwQ2VsbHMucHVzaChnZXRDZWxsKGN1cnJlbnRDb2wsIGN1cnJlbnRSb3cpKTtcbiAgICAgICAgfVxuICAgICAgICBzaGlwc1BsYWNlZC5wdXNoKHNoaXBDZWxsc1swXSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgY29uc3QgY2FuQmVQbGFjZWQgPSAoc2l6ZSwgY29sLCByb3csIG9yaWVudGF0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IG9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCc7XG4gICAgICAgIGNvbnN0IGNlbGxzID0gaXNIb3Jpem9udGFsID8gY29scyA6IHJvd3M7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gY2VsbHMuaW5kZXhPZihpc0hvcml6b250YWwgPyBjb2wgOiByb3cpO1xuICAgICAgICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ICsgc2l6ZSA+IGNlbGxzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFyZUVtcHR5ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q29sID0gaXNIb3Jpem9udGFsID8gY2VsbHNbc3RhcnQgKyBpXSA6IGNvbDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRSb3cgPSBpc0hvcml6b250YWwgPyByb3cgOiBjZWxsc1tzdGFydCArIGldO1xuICAgICAgICAgICAgYXJlRW1wdHkucHVzaChnZXRDZWxsKGN1cnJlbnRDb2wsIGN1cnJlbnRSb3cpLnN0YXR1cyA9PT0gJ2VtcHR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFyZUVtcHR5LmV2ZXJ5KChpdGVtKSA9PiBpdGVtID09PSB0cnVlKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlY2VpdmVBdHRhY2sgPSAoY29sLCByb3cpID0+IHtcbiAgICAgICAgY29uc3QgY2VsbCA9IGdldENlbGwoY29sLCByb3cpO1xuICAgICAgICBpZiAoY2VsbC5zdGF0dXMgPT09ICd0YWtlbicpIHtcbiAgICAgICAgICAgIGNlbGwudGFrZW5CeS5oaXQoKTtcbiAgICAgICAgICAgIHNldENlbGwoY29sLCByb3csICdoaXQnKTtcbiAgICAgICAgICAgIHJldHVybiBjZWxsLnN0YXR1cztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2VsbC5zdGF0dXMgPT09ICdlbXB0eScgfHwgY2VsbC5zdGF0dXMgPT09ICdyZXNlcnZlZCcpIHtcbiAgICAgICAgICAgIHNldENlbGwoY29sLCByb3csICdtaXNzJyk7XG4gICAgICAgICAgICByZXR1cm4gY2VsbC5zdGF0dXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZWNlaXZlQXJvdW5kID0gKGNvbCwgcm93KSA9PiB7XG4gICAgICAgIGNvbnN0IGNlbGwgPSBnZXRDZWxsKGNvbCwgcm93KTtcbiAgICAgICAgaWYgKGNlbGwuc3RhdHVzID09PSAnZW1wdHknKSB7XG4gICAgICAgICAgICBzZXRDZWxsKGNvbCwgcm93LCAncmVzZXJ2ZWQnKTtcbiAgICAgICAgICAgIHJldHVybiBjZWxsLnN0YXR1cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHJlc2VydmVTcGFjZSA9IChnYW1lYm9hcmQsIGNvbCwgcm93KSA9PiB7XG4gICAgICAgIGNvbnN0IGNlbGwgPSBnYW1lYm9hcmQuZ2V0Q2VsbChjb2wsIHJvdyk7XG4gICAgICAgIGlmIChjZWxsICYmIGNlbGwudGFrZW5CeSkge1xuICAgICAgICAgICAgY29uc3Qgc2hpcENlbGxzID0gZ2FtZWJvYXJkLmFycmF5LmZsYXQoKS5maWx0ZXIoKGMpID0+IGMudGFrZW5CeSAmJiBjLnRha2VuQnkubmFtZSA9PT0gY2VsbC50YWtlbkJ5Lm5hbWUpO1xuICAgICAgICAgICAgc2hpcENlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXJlY3Rpb25zID0gW1xuICAgICAgICAgICAgICAgICAgICB7IGNvbDogMCwgcm93OiAtMSB9LFxuICAgICAgICAgICAgICAgICAgICB7IGNvbDogMCwgcm93OiAxIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAtMSwgcm93OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAxLCByb3c6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgeyBjb2w6IC0xLCByb3c6IC0xIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAtMSwgcm93OiAxIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAxLCByb3c6IC0xIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAxLCByb3c6IDEgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbnMuZm9yRWFjaCgoZGlyZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NvbCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2VsbC5jb2wuY2hhckNvZGVBdCgwKSArIGRpcmVjdGlvbi5jb2wpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdSb3cgPSAoTnVtYmVyKGNlbGwucm93KSArIGRpcmVjdGlvbi5yb3cpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuZ2V0Q2VsbChuZXdDb2wsIG5ld1JvdykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVib2FyZC5yZWNlaXZlQXJvdW5kKG5ld0NvbCwgbmV3Um93KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZVJlc2VydmVkU3BhY2UgPSAoZ2FtZWJvYXJkKSA9PiB7XG4gICAgICAgIGNvbnN0IGdhbWVib2FyZENlbGxzID0gZ2FtZWJvYXJkLmFycmF5LmZsYXQoKTtcbiAgICAgICAgZ2FtZWJvYXJkQ2VsbHMuZm9yRWFjaCgoY2VsbCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNlbGwuc3RhdHVzID09PSAncmVzZXJ2ZWQnKSB7XG4gICAgICAgICAgICAgICAgc2V0Q2VsbChjZWxsLmNvbCwgY2VsbC5yb3csICdlbXB0eScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHNpbmtTaGlwID0gKGdhbWVib2FyZCwgY29sLCByb3cpID0+IHtcbiAgICAgICAgY29uc3QgY2VsbCA9IGdhbWVib2FyZC5nZXRDZWxsKGNvbCwgcm93KTtcbiAgICAgICAgaWYgKGNlbGwgJiYgY2VsbC50YWtlbkJ5ICYmIGNlbGwudGFrZW5CeS5pc1N1bmsoKSkge1xuICAgICAgICAgICAgY29uc3Qgc2hpcENlbGxzID0gZ2FtZWJvYXJkLmFycmF5LmZsYXQoKS5maWx0ZXIoKGMpID0+IGMudGFrZW5CeSAmJiBjLnRha2VuQnkubmFtZSA9PT0gY2VsbC50YWtlbkJ5Lm5hbWUpO1xuICAgICAgICAgICAgc2hpcENlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXJlY3Rpb25zID0gW1xuICAgICAgICAgICAgICAgICAgICB7IGNvbDogMCwgcm93OiAtMSB9LFxuICAgICAgICAgICAgICAgICAgICB7IGNvbDogMCwgcm93OiAxIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAtMSwgcm93OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAxLCByb3c6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgeyBjb2w6IC0xLCByb3c6IC0xIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAtMSwgcm93OiAxIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAxLCByb3c6IC0xIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAxLCByb3c6IDEgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbnMuZm9yRWFjaCgoZGlyZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NvbCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2VsbC5jb2wuY2hhckNvZGVBdCgwKSArIGRpcmVjdGlvbi5jb2wpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdSb3cgPSAoTnVtYmVyKGNlbGwucm93KSArIGRpcmVjdGlvbi5yb3cpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuZ2V0Q2VsbChuZXdDb2wsIG5ld1JvdykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKG5ld0NvbCwgbmV3Um93KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhpdEJ1dE5vdFN1bmsgPSAoZ2FtZWJvYXJkKSA9PiB7XG4gICAgICAgIGNvbnN0IGdhbWVib2FyZENlbGxzID0gZ2FtZWJvYXJkLmFycmF5LmZsYXQoKTtcbiAgICAgICAgcmV0dXJuIGdhbWVib2FyZENlbGxzLnNvbWUoKGNlbGwpID0+IHtcbiAgICAgICAgICAgIGlmIChjZWxsLnN0YXR1cyA9PT0gJ2hpdCcgJiYgY2VsbC50YWtlbkJ5LmlzU3VuaygpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGFsbFN1bmsgPSAoZ2FtZWJvYXJkKSA9PiB7XG4gICAgICAgIGNvbnN0IGdhbWVib2FyZENlbGxzID0gZ2FtZWJvYXJkLmFycmF5LmZsYXQoKTtcbiAgICAgICAgbGV0IHRha2VuQnlDZWxscyA9IGdhbWVib2FyZENlbGxzLmZpbHRlcigoY2VsbCkgPT4gY2VsbC50YWtlbkJ5KTtcbiAgICAgICAgaWYgKHRha2VuQnlDZWxscy5sZW5ndGggPiAwICYmIHRha2VuQnlDZWxscy5ldmVyeSgoY2VsbCkgPT4gY2VsbC50YWtlbkJ5LmlzU3VuaygpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGNsZWFyQm9hcmQsXG4gICAgICAgIGdldENlbGwsXG4gICAgICAgIHNldENlbGwsXG4gICAgICAgIHJlbW92ZVNoaXAsXG4gICAgICAgIHBsYWNlU2hpcCxcbiAgICAgICAgcmVjZWl2ZUF0dGFjayxcbiAgICAgICAgcmVjZWl2ZUFyb3VuZCxcbiAgICAgICAgcmVzZXJ2ZVNwYWNlLFxuICAgICAgICBoaXRCdXROb3RTdW5rLFxuICAgICAgICBzaW5rU2hpcCxcbiAgICAgICAgYWxsU3VuayxcbiAgICAgICAgYXJyYXksXG4gICAgICAgIGNhbkJlUGxhY2VkLFxuICAgICAgICBzaGlwc1BsYWNlZCxcbiAgICAgICAgcmVtb3ZlUmVzZXJ2ZWRTcGFjZSxcbiAgICB9O1xufTtcbmNvbnN0IGh1bWFuR2FtZWJvYXJkID0gZ2FtZWJvYXJkRmFjdG9yeSgpO1xuY29uc3QgY29tcHV0ZXJHYW1lYm9hcmQgPSBnYW1lYm9hcmRGYWN0b3J5KCk7XG5leHBvcnQgeyBnYW1lYm9hcmRGYWN0b3J5LCBodW1hbkdhbWVib2FyZCwgY29tcHV0ZXJHYW1lYm9hcmQgfTtcbiIsImNvbnN0IHNoaXBGYWN0b3J5ID0gKG5hbWUpID0+IHtcbiAgICBsZXQgc2l6ZTtcbiAgICBpZiAobmFtZSA9PT0gJ0NhcnJpZXInKSB7XG4gICAgICAgIHNpemUgPSA1O1xuICAgIH1cbiAgICBpZiAobmFtZSA9PT0gJ0JhdHRsZXNoaXAnKSB7XG4gICAgICAgIHNpemUgPSA0O1xuICAgIH1cbiAgICBpZiAobmFtZSA9PT0gJ0Rlc3Ryb3llcicpIHtcbiAgICAgICAgc2l6ZSA9IDM7XG4gICAgfVxuICAgIGlmIChuYW1lID09PSAnU3VibWFyaW5lJykge1xuICAgICAgICBzaXplID0gMztcbiAgICB9XG4gICAgaWYgKG5hbWUgPT09ICdQYXRyb2xCb2F0Jykge1xuICAgICAgICBzaXplID0gMjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgc2l6ZSxcbiAgICAgICAgaGl0Q291bnQ6IDAsXG4gICAgICAgIGlzVmVydGljYWw6IGZhbHNlLFxuICAgICAgICByb3RhdGUoKSB7XG4gICAgICAgICAgICB0aGlzLmlzVmVydGljYWwgPSAhdGhpcy5pc1ZlcnRpY2FsO1xuICAgICAgICB9LFxuICAgICAgICBoaXQoKSB7XG4gICAgICAgICAgICB0aGlzLmhpdENvdW50ICs9IDE7XG4gICAgICAgIH0sXG4gICAgICAgIGlzU3VuaygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhpdENvdW50ID09PSBzaXplO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgc2hpcEZhY3Rvcnk7XG4iLCJjb25zdCBwbGF5ZXJGYWN0b3J5ID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvbHMgPSBbJ0EnLCAnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onXTtcbiAgICBsZXQgcHJldkhpdCA9IG51bGw7XG4gICAgbGV0IGxhc3RIaXQgPSBudWxsO1xuICAgIGNvbnN0IGF0dGFjayA9IChnYW1lYm9hcmQsIGNvbCwgcm93KSA9PiB7XG4gICAgICAgIGlmIChnYW1lYm9hcmQuZ2V0Q2VsbChjb2wsIHJvdykuc3RhdHVzICE9PSAnaGl0JyAmJiBnYW1lYm9hcmQuZ2V0Q2VsbChjb2wsIHJvdykuc3RhdHVzICE9PSAnbWlzcycpIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBnYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhjb2wsIHJvdyk7XG4gICAgICAgICAgICBpZiAocmVzdWx0ID09PSAnaGl0Jykge1xuICAgICAgICAgICAgICAgIHNldFByZXZIaXQobGFzdEhpdCk7XG4gICAgICAgICAgICAgICAgc2V0TGFzdEhpdCh7IGNvbDogY29sLCByb3c6IHJvdyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdhbHJlYWR5IHNob3QnO1xuICAgIH07XG4gICAgY29uc3QgcmFuZG9tQXR0YWNrID0gKGdhbWVib2FyZCkgPT4ge1xuICAgICAgICBsZXQgcmFuZG9tQ29sO1xuICAgICAgICBsZXQgcmFuZG9tUm93O1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICByYW5kb21Db2wgPSBjb2xzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvbHMubGVuZ3RoKV07XG4gICAgICAgICAgICByYW5kb21Sb3cgPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIDEwKS50b1N0cmluZygpO1xuICAgICAgICB9IHdoaWxlIChnYW1lYm9hcmQuZ2V0Q2VsbChyYW5kb21Db2wsIHJhbmRvbVJvdykuc3RhdHVzID09PSAnaGl0JyB8fCBnYW1lYm9hcmQuZ2V0Q2VsbChyYW5kb21Db2wsIHJhbmRvbVJvdykuc3RhdHVzID09PSAnbWlzcycpO1xuICAgICAgICBpZiAoZ2FtZWJvYXJkLmdldENlbGwocmFuZG9tQ29sLCByYW5kb21Sb3cpLnN0YXR1cyAhPT0gJ2hpdCcgJiYgZ2FtZWJvYXJkLmdldENlbGwocmFuZG9tQ29sLCByYW5kb21Sb3cpLnN0YXR1cyAhPT0gJ21pc3MnKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBnYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhyYW5kb21Db2wsIHJhbmRvbVJvdyk7XG4gICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmdldENlbGwocmFuZG9tQ29sLCByYW5kb21Sb3cpLnN0YXR1cyA9PT0gJ2hpdCcpIHtcbiAgICAgICAgICAgICAgICBzZXRQcmV2SGl0KGxhc3RIaXQpO1xuICAgICAgICAgICAgICAgIHNldExhc3RIaXQoeyBjb2w6IHJhbmRvbUNvbCwgcm93OiByYW5kb21Sb3cgfSk7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLScpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdyYW5kb21BdHRhY2sgcHJldkhpdCcsIHByZXZIaXQpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdyYW5kb21BdHRhY2sgbGFzdEhpdCcsIGxhc3RIaXQpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdyYW5kb21BdHRhY2sgcmFuZ2UnLCByYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyByZXN1bHQsIGNvbDogcmFuZG9tQ29sLCByb3c6IHJhbmRvbVJvdyB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogJ2FscmVhZHkgc2hvdCcsIGNvbDogcmFuZG9tQ29sLCByb3c6IHJhbmRvbVJvdyB9O1xuICAgIH07XG4gICAgY29uc3QgZm9sbG93dXBBdHRhY2sgPSAoZ2FtZWJvYXJkLCBjb2wsIHJvdykgPT4ge1xuICAgICAgICBjb25zdCBkaXJlY3Rpb25zID0gW1xuICAgICAgICAgICAgeyBjb2w6IDAsIHJvdzogLTEgfSxcbiAgICAgICAgICAgIHsgY29sOiAwLCByb3c6IDEgfSxcbiAgICAgICAgICAgIHsgY29sOiAtMSwgcm93OiAwIH0sXG4gICAgICAgICAgICB7IGNvbDogMSwgcm93OiAwIH0sXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IHZhbGlkRGlyZWN0aW9ucyA9IGRpcmVjdGlvbnMuZmlsdGVyKChkaXJlY3Rpb24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29sLmNoYXJDb2RlQXQoMCkgKyBkaXJlY3Rpb24uY29sKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1JvdyA9IChOdW1iZXIocm93KSArIGRpcmVjdGlvbi5yb3cpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBjb25zdCBjZWxsID0gZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCBuZXdSb3cpO1xuICAgICAgICAgICAgaWYgKGNlbGwgJiYgY2VsbC5zdGF0dXMgIT09ICdtaXNzJyAmJiBjZWxsLnN0YXR1cyAhPT0gJ2hpdCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh2YWxpZERpcmVjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcmFuZG9tRGlyZWN0aW9uID0gdmFsaWREaXJlY3Rpb25zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHZhbGlkRGlyZWN0aW9ucy5sZW5ndGgpXTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29sLmNoYXJDb2RlQXQoMCkgKyByYW5kb21EaXJlY3Rpb24uY29sKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1JvdyA9IChOdW1iZXIocm93KSArIHJhbmRvbURpcmVjdGlvbi5yb3cpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBnYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhuZXdDb2wsIG5ld1Jvdyk7XG4gICAgICAgICAgICByYW5nZSA9IDE7XG4gICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCBuZXdSb3cpLnN0YXR1cyA9PT0gJ2hpdCcpIHtcbiAgICAgICAgICAgICAgICBzZXRQcmV2SGl0KGxhc3RIaXQpO1xuICAgICAgICAgICAgICAgIHNldExhc3RIaXQoeyBjb2w6IG5ld0NvbCwgcm93OiBuZXdSb3cgfSk7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLScpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdmb2xsb3d1cEF0dGFjayBwcmV2SGl0JywgcHJldkhpdCk7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2ZvbGxvd3VwQXR0YWNrIGxhc3RIaXQnLCBsYXN0SGl0KTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZm9sbG93dXBBdHRhY2sgcmFuZ2UnLCByYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnTmllIG1hIGRvc3TEmXBueWNoIGtpZXJ1bmvDs3cgZG8gYXRha3UnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgbGV0IHJhbmdlID0gMTtcbiAgICBsZXQgZ29SaWdodCA9IHRydWU7XG4gICAgbGV0IGdvRG93biA9IHRydWU7XG4gICAgY29uc3QgZmluaXNoaW5nQXR0YWNrID0gKGdhbWVib2FyZCwgY29sLCByb3csIHByZXZIaXQpID0+IHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3N0YXJ0IGZpbmlzaGluZ0F0dGFjayBwcmV2SGl0JywgcHJldkhpdCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdzdGFydCBmaW5pc2hpbmdBdHRhY2sgbGFzdEhpdCcsIHsgY29sLCByb3cgfSk7XG4gICAgICAgIGlmIChwcmV2SGl0LnJvdyA9PT0gcm93KSB7XG4gICAgICAgICAgICAvLyBob3Jpem9udGFsIHNoaXAgY2FzZVxuICAgICAgICAgICAgaWYgKGdvUmlnaHQpIHtcbiAgICAgICAgICAgICAgICByYW5nZSA9IDE7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2dvUmlnaHQnKTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3Q29sID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2wuY2hhckNvZGVBdCgwKSArIHJhbmdlKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCByb3cpICYmIGdhbWVib2FyZC5nZXRDZWxsKG5ld0NvbCwgcm93KS5zdGF0dXMgPT09ICdoaXQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIG5ld0NvbCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29sLmNoYXJDb2RlQXQoMCkgKyByYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuZ2V0Q2VsbChuZXdDb2wsIHJvdykgJiYgZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCByb3cpLnN0YXR1cyAhPT0gJ2hpdCcgJiYgZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCByb3cpLnN0YXR1cyAhPT0gJ21pc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgIGdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKG5ld0NvbCwgcm93KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5nZXRDZWxsKG5ld0NvbCwgcm93KS5zdGF0dXMgPT09ICdoaXQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRQcmV2SGl0KGxhc3RIaXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TGFzdEhpdCh7IGNvbDogbmV3Q29sLCByb3c6IHJvdyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncHJldkhpdCcsIHByZXZIaXQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnbGFzdEhpdCcsIGxhc3RIaXQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncmFuZ2UnLCByYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0nKTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgZ29SaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBmaW5pc2hpbmdBdHRhY2soZ2FtZWJvYXJkLCBuZXdDb2wsIHJvdywgcHJldkhpdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UgPSAxO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdnb0xlZnQnKTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3Q29sID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2wuY2hhckNvZGVBdCgwKSAtIHJhbmdlKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCByb3cpICYmIGdhbWVib2FyZC5nZXRDZWxsKG5ld0NvbCwgcm93KS5zdGF0dXMgPT09ICdoaXQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIG5ld0NvbCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29sLmNoYXJDb2RlQXQoMCkgLSByYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuZ2V0Q2VsbChuZXdDb2wsIHJvdykgJiYgZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCByb3cpLnN0YXR1cyAhPT0gJ2hpdCcgJiYgZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCByb3cpLnN0YXR1cyAhPT0gJ21pc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgIGdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKG5ld0NvbCwgcm93KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5nZXRDZWxsKG5ld0NvbCwgcm93KS5zdGF0dXMgPT09ICdoaXQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRQcmV2SGl0KGxhc3RIaXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TGFzdEhpdCh7IGNvbDogbmV3Q29sLCByb3c6IHJvdyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncHJldkhpdCcsIHByZXZIaXQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnbGFzdEhpdCcsIGxhc3RIaXQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncmFuZ2UnLCByYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0nKTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgZ29SaWdodCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGluZ0F0dGFjayhnYW1lYm9hcmQsIG5ld0NvbCwgcm93LCBwcmV2SGl0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJldkhpdC5jb2wgPT09IGNvbCkge1xuICAgICAgICAgICAgLy8gdmVydGljYWwgc2hpcCBjYXNlXG4gICAgICAgICAgICBpZiAoZ29Eb3duKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UgPSAxO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdnb0Rvd24nKTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3Um93ID0gKE51bWJlcihyb3cpICsgcmFuZ2UpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGdhbWVib2FyZC5nZXRDZWxsKGNvbCwgbmV3Um93KSAmJiBnYW1lYm9hcmQuZ2V0Q2VsbChjb2wsIG5ld1Jvdykuc3RhdHVzID09PSAnaGl0Jykge1xuICAgICAgICAgICAgICAgICAgICByYW5nZSArPSAxO1xuICAgICAgICAgICAgICAgICAgICBuZXdSb3cgPSAoTnVtYmVyKHJvdykgKyByYW5nZSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5nZXRDZWxsKGNvbCwgbmV3Um93KSAmJiBnYW1lYm9hcmQuZ2V0Q2VsbChjb2wsIG5ld1Jvdykuc3RhdHVzICE9PSAnaGl0JyAmJiBnYW1lYm9hcmQuZ2V0Q2VsbChjb2wsIG5ld1Jvdykuc3RhdHVzICE9PSAnbWlzcycpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2FtZWJvYXJkLnJlY2VpdmVBdHRhY2soY29sLCBuZXdSb3cpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmdldENlbGwoY29sLCBuZXdSb3cpLnN0YXR1cyA9PT0gJ2hpdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFByZXZIaXQobGFzdEhpdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRMYXN0SGl0KHsgY29sOiBjb2wsIHJvdzogbmV3Um93IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdwcmV2SGl0JywgcHJldkhpdCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdsYXN0SGl0JywgbGFzdEhpdCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdyYW5nZScsIHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLScpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZSArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSAxO1xuICAgICAgICAgICAgICAgICAgICBnb0Rvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoaW5nQXR0YWNrKGdhbWVib2FyZCwgY29sLCBuZXdSb3csIHByZXZIaXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJhbmdlID0gMTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZ29VcCcpO1xuICAgICAgICAgICAgICAgIGxldCBuZXdSb3cgPSAoTnVtYmVyKHJvdykgLSByYW5nZSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoZ2FtZWJvYXJkLmdldENlbGwoY29sLCBuZXdSb3cpICYmIGdhbWVib2FyZC5nZXRDZWxsKGNvbCwgbmV3Um93KS5zdGF0dXMgPT09ICdoaXQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIG5ld1JvdyA9IChOdW1iZXIocm93KSAtIHJhbmdlKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmdldENlbGwoY29sLCBuZXdSb3cpICYmIGdhbWVib2FyZC5nZXRDZWxsKGNvbCwgbmV3Um93KS5zdGF0dXMgIT09ICdoaXQnICYmIGdhbWVib2FyZC5nZXRDZWxsKGNvbCwgbmV3Um93KS5zdGF0dXMgIT09ICdtaXNzJykge1xuICAgICAgICAgICAgICAgICAgICBnYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhjb2wsIG5ld1Jvdyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuZ2V0Q2VsbChjb2wsIG5ld1Jvdykuc3RhdHVzID09PSAnaGl0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UHJldkhpdChsYXN0SGl0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldExhc3RIaXQoeyBjb2w6IGNvbCwgcm93OiBuZXdSb3cgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3ByZXZIaXQnLCBwcmV2SGl0KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2xhc3RIaXQnLCBsYXN0SGl0KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3JhbmdlJywgcmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tLS0tJyk7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGdvRG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGluZ0F0dGFjayhnYW1lYm9hcmQsIGNvbCwgbmV3Um93LCBwcmV2SGl0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGdldFByZXZIaXQgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBwcmV2SGl0O1xuICAgIH07XG4gICAgY29uc3QgZ2V0TGFzdEhpdCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGxhc3RIaXQ7XG4gICAgfTtcbiAgICBjb25zdCBzZXRQcmV2SGl0ID0gKG5ld1ByZXZIaXQpID0+IHtcbiAgICAgICAgcHJldkhpdCA9IG5ld1ByZXZIaXQ7XG4gICAgfTtcbiAgICBjb25zdCBzZXRMYXN0SGl0ID0gKG5ld0xhc3RIaXQpID0+IHtcbiAgICAgICAgbGFzdEhpdCA9IG5ld0xhc3RIaXQ7XG4gICAgfTtcbiAgICByZXR1cm4geyBhdHRhY2ssIHJhbmRvbUF0dGFjaywgZm9sbG93dXBBdHRhY2ssIGZpbmlzaGluZ0F0dGFjaywgcHJldkhpdCwgbGFzdEhpdCwgZ2V0UHJldkhpdCwgZ2V0TGFzdEhpdCwgc2V0UHJldkhpdCwgc2V0TGFzdEhpdCB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IHBsYXllckZhY3Rvcnk7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB1aSBmcm9tICcuL3VpJztcbmltcG9ydCBjb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlcic7XG5jb25zdCBkcmFnQW5kRHJvcCA9IChmaXJzdEdhbWVib2FyZCwgc2Vjb25kR2FtZWJvYXJkLCBzaGlwcykgPT4ge1xuICAgIGxldCBzaGlwTmFtZTtcbiAgICBsZXQgc2hpcFNpemU7XG4gICAgbGV0IGdyYWJQb2ludFggPSAwO1xuICAgIGxldCBncmFiUG9pbnRZID0gMDtcbiAgICBsZXQgc2hpcE9iajtcbiAgICBsZXQgb3JpZW50YXRpb247XG4gICAgbGV0IGhpZ2hsaWdodGVkQ2VsbHMgPSBbXTtcbiAgICBjb25zdCBzaGlwTmFtZVRvT2JqID0ge1xuICAgICAgICBjYXJyaWVyOiBzaGlwc1swXSxcbiAgICAgICAgYmF0dGxlc2hpcDogc2hpcHNbMV0sXG4gICAgICAgIGRlc3Ryb3llcjogc2hpcHNbMl0sXG4gICAgICAgIHN1Ym1hcmluZTogc2hpcHNbM10sXG4gICAgICAgIHBhdHJvbGJvYXQ6IHNoaXBzWzRdLFxuICAgIH07XG4gICAgY29uc3QgZmlyc3RCb2FyZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlyc3RCb2FyZCcpO1xuICAgIGNvbnN0IHNlY29uZEJvYXJkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZWNvbmRCb2FyZCcpO1xuICAgIGNvbnN0IGZpcnN0Qm9hcmRDZWxscyA9IGZpcnN0Qm9hcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jZWxsJyk7XG4gICAgY29uc3Qgc2Vjb25kQm9hcmRDZWxscyA9IHNlY29uZEJvYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2VsbCcpO1xuICAgIGNvbnN0IG5vblNoaXBDZWxscyA9IFtdO1xuICAgIGZvciAobGV0IGNlbGwgb2YgZmlyc3RCb2FyZENlbGxzKSB7XG4gICAgICAgIGlmICghY2VsbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Rha2VuJykpIHtcbiAgICAgICAgICAgIG5vblNoaXBDZWxscy5wdXNoKGNlbGwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGNlbGwgb2Ygc2Vjb25kQm9hcmRDZWxscykge1xuICAgICAgICBpZiAoIWNlbGwuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YWtlbicpKSB7XG4gICAgICAgICAgICBub25TaGlwQ2VsbHMucHVzaChjZWxsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBkcmFnZ2FibGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRyYWdnYWJsZScpO1xuICAgIGRyYWdnYWJsZXMuZm9yRWFjaCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICAgIGRyYWdnYWJsZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVNb3VzZWRvd24pO1xuICAgICAgICBkcmFnZ2FibGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGhhbmRsZU1vdXNldXApO1xuICAgICAgICBkcmFnZ2FibGUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgaGFuZGxlRHJhZ1N0YXJ0KTtcbiAgICAgICAgZHJhZ2dhYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCBoYW5kbGVEcmFnRW5kKTtcbiAgICAgICAgZHJhZ2dhYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgaGFuZGxlUm90YXRlKTtcbiAgICAgICAgbm9uU2hpcENlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgICAgIGNlbGwuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBibG9ja1JpZ2h0Q2xpY2spO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBsZXQgbGFzdERyYWdnZWQgPSBudWxsO1xuICAgIGZ1bmN0aW9uIGhhbmRsZU1vdXNlZG93bihlKSB7XG4gICAgICAgIGZpcnN0R2FtZWJvYXJkLnJlbW92ZVJlc2VydmVkU3BhY2UoZmlyc3RHYW1lYm9hcmQpO1xuICAgICAgICBzZWNvbmRHYW1lYm9hcmQucmVtb3ZlUmVzZXJ2ZWRTcGFjZShzZWNvbmRHYW1lYm9hcmQpO1xuICAgICAgICBjb25zdCB0YXJnZXRTaGlwTmFtZSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1uYW1lJyk7XG4gICAgICAgIGxldCB1cGRhdGVkU2hpcHNQbGFjZWRGaXJzdCA9IGZpcnN0R2FtZWJvYXJkLnNoaXBzUGxhY2VkLmZpbHRlcigoc2hpcCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldFNoaXBOYW1lICE9PSBzaGlwLnRha2VuQnkubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IHVwZGF0ZWRTaGlwc1BsYWNlZFRlbXAgPSBzZWNvbmRHYW1lYm9hcmQuc2hpcHNQbGFjZWQuZmlsdGVyKChzaGlwKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0U2hpcE5hbWUgIT09IHNoaXAudGFrZW5CeS5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB1cGRhdGVkU2hpcHNQbGFjZWRGaXJzdC5mb3JFYWNoKChzaGlwKSA9PiB7XG4gICAgICAgICAgICBmaXJzdEdhbWVib2FyZC5yZXNlcnZlU3BhY2UoZmlyc3RHYW1lYm9hcmQsIHNoaXAuY29sLCBzaGlwLnJvdyk7XG4gICAgICAgIH0pO1xuICAgICAgICB1cGRhdGVkU2hpcHNQbGFjZWRUZW1wLmZvckVhY2goKHNoaXApID0+IHtcbiAgICAgICAgICAgIHNlY29uZEdhbWVib2FyZC5yZXNlcnZlU3BhY2Uoc2Vjb25kR2FtZWJvYXJkLCBzaGlwLmNvbCwgc2hpcC5yb3cpO1xuICAgICAgICB9KTtcbiAgICAgICAgdWkucmVmcmVzaEJvYXJkKGZpcnN0R2FtZWJvYXJkKTtcbiAgICAgICAgdWkucmVmcmVzaEJvYXJkKHNlY29uZEdhbWVib2FyZCk7XG4gICAgICAgIHVpLmNyZWF0ZVNoaXBPdmVybGF5KCdmaXJzdCcsIGZpcnN0R2FtZWJvYXJkLnNoaXBzUGxhY2VkKTtcbiAgICAgICAgdWkuY3JlYXRlU2hpcE92ZXJsYXkoJ3NlY29uZCcsIHNlY29uZEdhbWVib2FyZC5zaGlwc1BsYWNlZCk7XG4gICAgICAgIGRyYWdBbmREcm9wKGZpcnN0R2FtZWJvYXJkLCBzZWNvbmRHYW1lYm9hcmQsIGNvbnRyb2xsZXIuaHVtYW5TaGlwcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZU1vdXNldXAoKSB7XG4gICAgICAgIGZpcnN0R2FtZWJvYXJkLnNoaXBzUGxhY2VkLmZvckVhY2goKHNoaXApID0+IHtcbiAgICAgICAgICAgIGZpcnN0R2FtZWJvYXJkLnJlc2VydmVTcGFjZShmaXJzdEdhbWVib2FyZCwgc2hpcC5jb2wsIHNoaXAucm93KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlY29uZEdhbWVib2FyZC5zaGlwc1BsYWNlZC5mb3JFYWNoKChzaGlwKSA9PiB7XG4gICAgICAgICAgICBzZWNvbmRHYW1lYm9hcmQucmVzZXJ2ZVNwYWNlKHNlY29uZEdhbWVib2FyZCwgc2hpcC5jb2wsIHNoaXAucm93KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHVpLnJlZnJlc2hCb2FyZChmaXJzdEdhbWVib2FyZCk7XG4gICAgICAgIHVpLnJlZnJlc2hCb2FyZChzZWNvbmRHYW1lYm9hcmQpO1xuICAgICAgICB1aS5jcmVhdGVTaGlwT3ZlcmxheSgnZmlyc3QnLCBmaXJzdEdhbWVib2FyZC5zaGlwc1BsYWNlZCk7XG4gICAgICAgIHVpLmNyZWF0ZVNoaXBPdmVybGF5KCdzZWNvbmQnLCBzZWNvbmRHYW1lYm9hcmQuc2hpcHNQbGFjZWQpO1xuICAgICAgICBkcmFnQW5kRHJvcChmaXJzdEdhbWVib2FyZCwgc2Vjb25kR2FtZWJvYXJkLCBjb250cm9sbGVyLmh1bWFuU2hpcHMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVEcmFnU3RhcnQoZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgeWllbGQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMCkpO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICAgICAgICB0YXJnZXQuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdkcmFnZ2luZycpO1xuICAgICAgICAgICAgc2hpcE5hbWUgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnKTtcbiAgICAgICAgICAgIHNoaXBTaXplID0gTnVtYmVyKHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2l6ZScpKTtcbiAgICAgICAgICAgIGdyYWJQb2ludFggPSBlLm9mZnNldFg7XG4gICAgICAgICAgICBncmFiUG9pbnRZID0gZS5vZmZzZXRZO1xuICAgICAgICAgICAgc2hpcE9iaiA9IHNoaXBOYW1lVG9PYmpbc2hpcE5hbWVdO1xuICAgICAgICAgICAgb3JpZW50YXRpb24gPSBzaGlwT2JqLmlzVmVydGljYWwgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xuICAgICAgICAgICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuYm9hcmQnKS5pZCA9PT0gJ2ZpcnN0Qm9hcmQnKSB7XG4gICAgICAgICAgICAgICAgZmlyc3RHYW1lYm9hcmQucmVtb3ZlU2hpcChzaGlwT2JqLCBmaXJzdEdhbWVib2FyZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5ib2FyZCcpLmlkID09PSAnc2Vjb25kQm9hcmQnKSB7XG4gICAgICAgICAgICAgICAgc2Vjb25kR2FtZWJvYXJkLnJlbW92ZVNoaXAoc2hpcE9iaiwgc2Vjb25kR2FtZWJvYXJkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZURyYWdPdmVyKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICAgICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5ib2FyZCcpLmlkID09PSAnZmlyc3RCb2FyZCcpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgaWYgKHNoaXBPYmopIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0Q2VsbCA9IGluZGV4IC0gKHNoaXBPYmouaXNWZXJ0aWNhbCA/IE1hdGguZmxvb3IoZ3JhYlBvaW50WSAvIHRoaXMub2Zmc2V0SGVpZ2h0KSAqIDEwIDogTWF0aC5mbG9vcihncmFiUG9pbnRYIC8gdGhpcy5vZmZzZXRXaWR0aCkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b0hpZ2hsaWdodCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjZWxsSW5kZXggPSBzaGlwT2JqLmlzVmVydGljYWwgPyBzdGFydENlbGwgKyBpICogMTAgOiBzdGFydENlbGwgKyBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0Qm9hcmRDZWxsc1tjZWxsSW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9IaWdobGlnaHQucHVzaChmaXJzdEJvYXJkQ2VsbHNbY2VsbEluZGV4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0ZWRDZWxscy5wdXNoKGZpcnN0Qm9hcmRDZWxsc1tjZWxsSW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZFBsYWNlbWVudCh0b0hpZ2hsaWdodCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvSGlnaGxpZ2h0LmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxhc3REcmFnZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdERyYWdnZWQgPSBnZXRMYXN0U2hpcFNpemVFbGVtZW50cyhoaWdobGlnaHRlZENlbGxzLCBzaGlwU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFx0Y29uc29sZS5sb2coJ3NoaXAgaXMgb24gdGhlIGVkZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmJvYXJkJykuaWQgPT09ICdzZWNvbmRCb2FyZCcpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgaWYgKHNoaXBPYmopIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0Q2VsbCA9IGluZGV4IC0gKHNoaXBPYmouaXNWZXJ0aWNhbCA/IE1hdGguZmxvb3IoZ3JhYlBvaW50WSAvIHRoaXMub2Zmc2V0SGVpZ2h0KSAqIDEwIDogTWF0aC5mbG9vcihncmFiUG9pbnRYIC8gdGhpcy5vZmZzZXRXaWR0aCkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b0hpZ2hsaWdodCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjZWxsSW5kZXggPSBzaGlwT2JqLmlzVmVydGljYWwgPyBzdGFydENlbGwgKyBpICogMTAgOiBzdGFydENlbGwgKyBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlY29uZEJvYXJkQ2VsbHNbY2VsbEluZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvSGlnaGxpZ2h0LnB1c2goc2Vjb25kQm9hcmRDZWxsc1tjZWxsSW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRlZENlbGxzLnB1c2goc2Vjb25kQm9hcmRDZWxsc1tjZWxsSW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZFBsYWNlbWVudCh0b0hpZ2hsaWdodCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvSGlnaGxpZ2h0LmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxhc3REcmFnZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdERyYWdnZWQgPSBnZXRMYXN0U2hpcFNpemVFbGVtZW50cyhoaWdobGlnaHRlZENlbGxzLCBzaGlwU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFx0Y29uc29sZS5sb2coJ3NoaXAgaXMgb24gdGhlIGVkZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlRHJhZ0xlYXZlKCkge1xuICAgICAgICBoaWdobGlnaHRlZENlbGxzLmZvckVhY2goKGhpZ2hsaWdodGVkQ2VsbCkgPT4ge1xuICAgICAgICAgICAgaGlnaGxpZ2h0ZWRDZWxsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgaGlnaGxpZ2h0ZWRDZWxscyA9IFtdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVEcm9wKGUpIHtcbiAgICAgICAgaGlnaGxpZ2h0ZWRDZWxscy5mb3JFYWNoKChoaWdobGlnaHRlZENlbGwpID0+IHtcbiAgICAgICAgICAgIGhpZ2hsaWdodGVkQ2VsbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGxhc3QgPSBnZXRMYXN0U2hpcFNpemVFbGVtZW50cyhoaWdobGlnaHRlZENlbGxzLCBzaGlwU2l6ZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5ib2FyZCcpLmlkID09PSAnZmlyc3RCb2FyZCcpIHtcbiAgICAgICAgICAgIGlmIChzaGlwT2JqICYmIGxhc3REcmFnZ2VkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0R2FtZWJvYXJkLmNhbkJlUGxhY2VkKHNoaXBPYmouc2l6ZSwgbGFzdFswXS5kYXRhc2V0LmNvbCwgbGFzdFswXS5kYXRhc2V0LnJvdywgb3JpZW50YXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0R2FtZWJvYXJkLnBsYWNlU2hpcChzaGlwT2JqLCBsYXN0WzBdLmRhdGFzZXQuY29sLCBsYXN0WzBdLmRhdGFzZXQucm93LCBvcmllbnRhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0R2FtZWJvYXJkLnJlc2VydmVTcGFjZShmaXJzdEdhbWVib2FyZCwgbGFzdFswXS5kYXRhc2V0LmNvbCwgbGFzdFswXS5kYXRhc2V0LnJvdyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmaXJzdEdhbWVib2FyZC5wbGFjZVNoaXAoc2hpcE9iaiwgbGFzdERyYWdnZWRbMF0uZGF0YXNldC5jb2wsIGxhc3REcmFnZ2VkWzBdLmRhdGFzZXQucm93LCBvcmllbnRhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0R2FtZWJvYXJkLnJlc2VydmVTcGFjZShmaXJzdEdhbWVib2FyZCwgbGFzdERyYWdnZWRbMF0uZGF0YXNldC5jb2wsIGxhc3REcmFnZ2VkWzBdLmRhdGFzZXQucm93KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuYm9hcmQnKS5pZCA9PT0gJ3NlY29uZEJvYXJkJykge1xuICAgICAgICAgICAgaWYgKHNoaXBPYmogJiYgbGFzdERyYWdnZWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2Vjb25kR2FtZWJvYXJkLmNhbkJlUGxhY2VkKHNoaXBPYmouc2l6ZSwgbGFzdFswXS5kYXRhc2V0LmNvbCwgbGFzdFswXS5kYXRhc2V0LnJvdywgb3JpZW50YXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZEdhbWVib2FyZC5wbGFjZVNoaXAoc2hpcE9iaiwgbGFzdFswXS5kYXRhc2V0LmNvbCwgbGFzdFswXS5kYXRhc2V0LnJvdywgb3JpZW50YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBzZWNvbmRHYW1lYm9hcmQucmVzZXJ2ZVNwYWNlKHNlY29uZEdhbWVib2FyZCwgbGFzdFswXS5kYXRhc2V0LmNvbCwgbGFzdFswXS5kYXRhc2V0LnJvdyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWNvbmRHYW1lYm9hcmQucGxhY2VTaGlwKHNoaXBPYmosIGxhc3REcmFnZ2VkWzBdLmRhdGFzZXQuY29sLCBsYXN0RHJhZ2dlZFswXS5kYXRhc2V0LnJvdywgb3JpZW50YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBzZWNvbmRHYW1lYm9hcmQucmVzZXJ2ZVNwYWNlKHNlY29uZEdhbWVib2FyZCwgbGFzdERyYWdnZWRbMF0uZGF0YXNldC5jb2wsIGxhc3REcmFnZ2VkWzBdLmRhdGFzZXQucm93KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmlyc3RHYW1lYm9hcmQucmVtb3ZlUmVzZXJ2ZWRTcGFjZShmaXJzdEdhbWVib2FyZCk7XG4gICAgICAgIHNlY29uZEdhbWVib2FyZC5yZW1vdmVSZXNlcnZlZFNwYWNlKHNlY29uZEdhbWVib2FyZCk7XG4gICAgICAgIGZpcnN0R2FtZWJvYXJkLnNoaXBzUGxhY2VkLmZvckVhY2goKHNoaXApID0+IHtcbiAgICAgICAgICAgIGZpcnN0R2FtZWJvYXJkLnJlc2VydmVTcGFjZShmaXJzdEdhbWVib2FyZCwgc2hpcC5jb2wsIHNoaXAucm93KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlY29uZEdhbWVib2FyZC5zaGlwc1BsYWNlZC5mb3JFYWNoKChzaGlwKSA9PiB7XG4gICAgICAgICAgICBzZWNvbmRHYW1lYm9hcmQucmVzZXJ2ZVNwYWNlKHNlY29uZEdhbWVib2FyZCwgc2hpcC5jb2wsIHNoaXAucm93KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHVpLnJlZnJlc2hCb2FyZChmaXJzdEdhbWVib2FyZCk7XG4gICAgICAgIHVpLnJlZnJlc2hCb2FyZChzZWNvbmRHYW1lYm9hcmQpO1xuICAgICAgICB1aS5jcmVhdGVTaGlwT3ZlcmxheSgnZmlyc3QnLCBmaXJzdEdhbWVib2FyZC5zaGlwc1BsYWNlZCk7XG4gICAgICAgIHVpLmNyZWF0ZVNoaXBPdmVybGF5KCdzZWNvbmQnLCBzZWNvbmRHYW1lYm9hcmQuc2hpcHNQbGFjZWQpO1xuICAgICAgICBkcmFnQW5kRHJvcChmaXJzdEdhbWVib2FyZCwgc2Vjb25kR2FtZWJvYXJkLCBjb250cm9sbGVyLmh1bWFuU2hpcHMpO1xuICAgICAgICB1aS5jYW5CZVN0YXJ0ZWQoKTtcbiAgICAgICAgdWkuc2V0U3RhcnRNZXNzYWdlKCk7XG4gICAgICAgIGxhc3REcmFnZ2VkID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlRHJhZ0VuZChlKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICB0YXJnZXQuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZycpO1xuICAgICAgICBpZiAoaGlnaGxpZ2h0ZWRDZWxscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmJvYXJkJykuaWQgPT09ICdmaXJzdEJvYXJkJykge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0RHJhZ2dlZCAmJiBmaXJzdEdhbWVib2FyZC5jYW5CZVBsYWNlZChzaGlwT2JqLnNpemUsIGxhc3REcmFnZ2VkWzBdLmRhdGFzZXQuY29sLCBsYXN0RHJhZ2dlZFswXS5kYXRhc2V0LnJvdywgb3JpZW50YXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0R2FtZWJvYXJkLnBsYWNlU2hpcChzaGlwT2JqLCBsYXN0RHJhZ2dlZFswXS5kYXRhc2V0LmNvbCwgbGFzdERyYWdnZWRbMF0uZGF0YXNldC5yb3csIG9yaWVudGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RHYW1lYm9hcmQucmVzZXJ2ZVNwYWNlKGZpcnN0R2FtZWJvYXJkLCBsYXN0RHJhZ2dlZFswXS5kYXRhc2V0LmNvbCwgbGFzdERyYWdnZWRbMF0uZGF0YXNldC5yb3cpO1xuICAgICAgICAgICAgICAgICAgICB1aS5yZWZyZXNoQm9hcmQoZmlyc3RHYW1lYm9hcmQpO1xuICAgICAgICAgICAgICAgICAgICB1aS5yZWZyZXNoQm9hcmQoc2Vjb25kR2FtZWJvYXJkKTtcbiAgICAgICAgICAgICAgICAgICAgdWkuY3JlYXRlU2hpcE92ZXJsYXkoJ2ZpcnN0JywgZmlyc3RHYW1lYm9hcmQuc2hpcHNQbGFjZWQpO1xuICAgICAgICAgICAgICAgICAgICB1aS5jcmVhdGVTaGlwT3ZlcmxheSgnc2Vjb25kJywgc2Vjb25kR2FtZWJvYXJkLnNoaXBzUGxhY2VkKTtcbiAgICAgICAgICAgICAgICAgICAgZHJhZ0FuZERyb3AoZmlyc3RHYW1lYm9hcmQsIHNlY29uZEdhbWVib2FyZCwgY29udHJvbGxlci5odW1hblNoaXBzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0YXJnZXQuY2xvc2VzdCgnLmJvYXJkJykuaWQgPT09ICdzZWNvbmRCb2FyZCcpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdERyYWdnZWQgJiYgc2Vjb25kR2FtZWJvYXJkLmNhbkJlUGxhY2VkKHNoaXBPYmouc2l6ZSwgbGFzdERyYWdnZWRbMF0uZGF0YXNldC5jb2wsIGxhc3REcmFnZ2VkWzBdLmRhdGFzZXQucm93LCBvcmllbnRhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kR2FtZWJvYXJkLnBsYWNlU2hpcChzaGlwT2JqLCBsYXN0RHJhZ2dlZFswXS5kYXRhc2V0LmNvbCwgbGFzdERyYWdnZWRbMF0uZGF0YXNldC5yb3csIG9yaWVudGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kR2FtZWJvYXJkLnJlc2VydmVTcGFjZShzZWNvbmRHYW1lYm9hcmQsIGxhc3REcmFnZ2VkWzBdLmRhdGFzZXQuY29sLCBsYXN0RHJhZ2dlZFswXS5kYXRhc2V0LnJvdyk7XG4gICAgICAgICAgICAgICAgICAgIHVpLnJlZnJlc2hCb2FyZChmaXJzdEdhbWVib2FyZCk7XG4gICAgICAgICAgICAgICAgICAgIHVpLnJlZnJlc2hCb2FyZChzZWNvbmRHYW1lYm9hcmQpO1xuICAgICAgICAgICAgICAgICAgICB1aS5jcmVhdGVTaGlwT3ZlcmxheSgnZmlyc3QnLCBmaXJzdEdhbWVib2FyZC5zaGlwc1BsYWNlZCk7XG4gICAgICAgICAgICAgICAgICAgIHVpLmNyZWF0ZVNoaXBPdmVybGF5KCdzZWNvbmQnLCBzZWNvbmRHYW1lYm9hcmQuc2hpcHNQbGFjZWQpO1xuICAgICAgICAgICAgICAgICAgICBkcmFnQW5kRHJvcChmaXJzdEdhbWVib2FyZCwgc2Vjb25kR2FtZWJvYXJkLCBjb250cm9sbGVyLmh1bWFuU2hpcHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpc1ZhbGlkUGxhY2VtZW50KHRvSGlnaGxpZ2h0KSB7XG4gICAgICAgIHJldHVybiAodG9IaWdobGlnaHQuZXZlcnkoKGNlbGwpID0+IGNlbGwuY2xhc3NMaXN0LmNvbnRhaW5zKCdlbXB0eScpKSAmJlxuICAgICAgICAgICAgKHRvSGlnaGxpZ2h0LmV2ZXJ5KChjZWxsKSA9PiBjZWxsLmRhdGFzZXQuY29sID09PSB0b0hpZ2hsaWdodFswXS5kYXRhc2V0LmNvbCkgfHxcbiAgICAgICAgICAgICAgICB0b0hpZ2hsaWdodC5ldmVyeSgoY2VsbCkgPT4gY2VsbC5kYXRhc2V0LnJvdyA9PT0gdG9IaWdobGlnaHRbMF0uZGF0YXNldC5yb3cpKSAmJlxuICAgICAgICAgICAgdG9IaWdobGlnaHQubGVuZ3RoID09PSBzaGlwU2l6ZSAmJlxuICAgICAgICAgICAgdG9IaWdobGlnaHQuZXZlcnkoKGNlbGwpID0+IGNlbGwuZGF0YXNldC5jb2wgPj0gJ0EnICYmIGNlbGwuZGF0YXNldC5jb2wgPD0gJ0onKSAmJlxuICAgICAgICAgICAgdG9IaWdobGlnaHQuZXZlcnkoKGNlbGwpID0+IE51bWJlcihjZWxsLmRhdGFzZXQucm93KSA+PSAxICYmIE51bWJlcihjZWxsLmRhdGFzZXQucm93KSA8PSAxMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRMYXN0U2hpcFNpemVFbGVtZW50cyhoaWdobGlnaHRlZENlbGxzLCBzaGlwU2l6ZSkge1xuICAgICAgICByZXR1cm4gaGlnaGxpZ2h0ZWRDZWxscy5zbGljZShNYXRoLm1pbihoaWdobGlnaHRlZENlbGxzLmxlbmd0aCAtIHNoaXBTaXplLCAwKSk7XG4gICAgfVxuICAgIGZpcnN0Qm9hcmRDZWxscy5mb3JFYWNoKChjZWxsLCBpbmRleCkgPT4ge1xuICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgaGFuZGxlRHJhZ092ZXIoaW5kZXgpKTtcbiAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBoYW5kbGVEcmFnTGVhdmUpO1xuICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBoYW5kbGVEcm9wKTtcbiAgICB9KTtcbiAgICBzZWNvbmRCb2FyZENlbGxzLmZvckVhY2goKGNlbGwsIGluZGV4KSA9PiB7XG4gICAgICAgIGNlbGwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBoYW5kbGVEcmFnT3ZlcihpbmRleCkpO1xuICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGhhbmRsZURyYWdMZWF2ZSk7XG4gICAgICAgIGNlbGwuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGhhbmRsZURyb3ApO1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGhhbmRsZVJvdGF0ZShlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICAgIGxldCBnYW1lYm9hcmQ7XG4gICAgICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmJvYXJkJykuaWQgPT09ICdmaXJzdEJvYXJkJykge1xuICAgICAgICAgICAgZ2FtZWJvYXJkID0gZmlyc3RHYW1lYm9hcmQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuYm9hcmQnKS5pZCA9PT0gJ3NlY29uZEJvYXJkJykge1xuICAgICAgICAgICAgZ2FtZWJvYXJkID0gc2Vjb25kR2FtZWJvYXJkO1xuICAgICAgICB9XG4gICAgICAgIHNoaXBOYW1lID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1uYW1lJyk7XG4gICAgICAgIHNoaXBTaXplID0gTnVtYmVyKHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2l6ZScpKTtcbiAgICAgICAgc2hpcE9iaiA9IHNoaXBOYW1lVG9PYmpbc2hpcE5hbWVdO1xuICAgICAgICBjb25zdCB0ZW1wU2hpcCA9IHNoaXBPYmo7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBnYW1lYm9hcmQuc2hpcHNQbGFjZWQuZmlsdGVyKChzaGlwKSA9PiBzaGlwLnRha2VuQnkubmFtZS50b0xvd2VyQ2FzZSgpID09PSBzaGlwTmFtZSk7XG4gICAgICAgIGdhbWVib2FyZC5yZW1vdmVTaGlwKHNoaXBPYmosIGdhbWVib2FyZCk7XG4gICAgICAgIGdhbWVib2FyZC5yZW1vdmVSZXNlcnZlZFNwYWNlKGdhbWVib2FyZCk7XG4gICAgICAgIGdhbWVib2FyZC5zaGlwc1BsYWNlZC5mb3JFYWNoKChzaGlwKSA9PiB7XG4gICAgICAgICAgICBnYW1lYm9hcmQucmVzZXJ2ZVNwYWNlKGdhbWVib2FyZCwgc2hpcC5jb2wsIHNoaXAucm93KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRlbXBTaGlwLnJvdGF0ZSgpO1xuICAgICAgICBvcmllbnRhdGlvbiA9IHRlbXBTaGlwLmlzVmVydGljYWwgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xuICAgICAgICBpZiAoZ2FtZWJvYXJkLmNhbkJlUGxhY2VkKHRlbXBTaGlwLnNpemUsIGN1cnJlbnRbMF0uY29sLCBjdXJyZW50WzBdLnJvdywgb3JpZW50YXRpb24pKSB7XG4gICAgICAgICAgICBnYW1lYm9hcmQucGxhY2VTaGlwKHRlbXBTaGlwLCBjdXJyZW50WzBdLmNvbCwgY3VycmVudFswXS5yb3csIG9yaWVudGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRlbXBTaGlwLnJvdGF0ZSgpO1xuICAgICAgICAgICAgb3JpZW50YXRpb24gPSB0ZW1wU2hpcC5pc1ZlcnRpY2FsID8gJ3ZlcnRpY2FsJyA6ICdob3Jpem9udGFsJztcbiAgICAgICAgICAgIGdhbWVib2FyZC5wbGFjZVNoaXAodGVtcFNoaXAsIGN1cnJlbnRbMF0uY29sLCBjdXJyZW50WzBdLnJvdywgb3JpZW50YXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGdhbWVib2FyZC5zaGlwc1BsYWNlZC5mb3JFYWNoKChzaGlwKSA9PiB7XG4gICAgICAgICAgICBnYW1lYm9hcmQucmVzZXJ2ZVNwYWNlKGdhbWVib2FyZCwgc2hpcC5jb2wsIHNoaXAucm93KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHVpLnJlZnJlc2hCb2FyZChnYW1lYm9hcmQpO1xuICAgICAgICB1aS5jcmVhdGVTaGlwT3ZlcmxheSgnZmlyc3QnLCBmaXJzdEdhbWVib2FyZC5zaGlwc1BsYWNlZCk7XG4gICAgICAgIHVpLmNyZWF0ZVNoaXBPdmVybGF5KCdzZWNvbmQnLCBzZWNvbmRHYW1lYm9hcmQuc2hpcHNQbGFjZWQpO1xuICAgICAgICBkcmFnQW5kRHJvcChmaXJzdEdhbWVib2FyZCwgc2Vjb25kR2FtZWJvYXJkLCBjb250cm9sbGVyLmh1bWFuU2hpcHMpO1xuICAgICAgICBpZiAodWkuY2FuQmVTdGFydGVkKCkpIHtcbiAgICAgICAgICAgIHVpLmZpbGxDZWxscygnc2Vjb25kJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYmxvY2tSaWdodENsaWNrKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbn07XG5leHBvcnQgZGVmYXVsdCBkcmFnQW5kRHJvcDtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IGRyYWdBbmREcm9wIGZyb20gJy4vZHJhZ0FuZERyb3AnO1xuaW1wb3J0IGNvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyJztcbmNvbnN0IHVpID0gKCgpID0+IHtcbiAgICBjb25zdCBzdGF0dXNCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVzc2FnZUJveCBwJyk7XG4gICAgY29uc3QgYm9hcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2JvYXJkcycpO1xuICAgIGNvbnN0IHBWY0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwbGF5ZXJWc0NvbXB1dGVyJyk7XG4gICAgY29uc3QgbmV3R2FtZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuZXdHYW1lJyk7XG4gICAgY29uc3QgY1ZjQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbXB1dGVyVnNDb21wdXRlcicpO1xuICAgIGNvbnN0IHN0YXJ0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N0YXJ0Jyk7XG4gICAgY29uc3QgcmFuZG9tQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JhbmRvbVBsYWNlbWVudCcpO1xuICAgIGNvbnN0IGFsbEJ0bnMgPSBbcFZjQnRuLCBuZXdHYW1lQnRuLCBjVmNCdG4sIHN0YXJ0QnRuLCByYW5kb21CdG5dO1xuICAgIGNvbnN0IHNwZWVkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCdzcGVlZCcpO1xuICAgIGNvbnN0IGNyZWF0ZUNlbGwgPSAoY2VsbCkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY2VsbCcpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2VsbC5zdGF0dXMpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1jb2wnLCBjZWxsLmNvbCk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXJvdycsIGNlbGwucm93KTtcbiAgICAgICAgaWYgKGNlbGwudGFrZW5CeSkge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2hpcE5hbWUnLCBjZWxsLnRha2VuQnkubmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlckNlbGxzID0gKGdhbWVib2FyZCwgYm9hcmQpID0+IHtcbiAgICAgICAgZ2FtZWJvYXJkLmFycmF5LmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgICAgICAgcm93LmZvckVhY2goKGNvbCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBjcmVhdGVDZWxsKGNvbCk7XG4gICAgICAgICAgICAgICAgYm9hcmQuYXBwZW5kKGNlbGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgcmVuZGVyQm9hcmQgPSAoZ2FtZWJvYXJkKSA9PiB7XG4gICAgICAgIGNvbnN0IGJvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGJvYXJkLmNsYXNzTGlzdC5hZGQoJ2JvYXJkJyk7XG4gICAgICAgIGlmIChnYW1lYm9hcmQgPT09IGNvbnRyb2xsZXIuaHVtYW5HYW1lYm9hcmQpIHtcbiAgICAgICAgICAgIGJvYXJkLmlkID0gJ2ZpcnN0Qm9hcmQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdhbWVib2FyZCA9PT0gY29udHJvbGxlci5jb21wdXRlckdhbWVib2FyZCkge1xuICAgICAgICAgICAgYm9hcmQuaWQgPSAnc2Vjb25kQm9hcmQnO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlckNlbGxzKGdhbWVib2FyZCwgYm9hcmQpO1xuICAgICAgICBib2FyZHMuYXBwZW5kKGJvYXJkKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlZnJlc2hCb2FyZCA9IChnYW1lYm9hcmQpID0+IHtcbiAgICAgICAgbGV0IGJvYXJkSWQ7XG4gICAgICAgIGlmIChnYW1lYm9hcmQgPT09IGNvbnRyb2xsZXIuaHVtYW5HYW1lYm9hcmQpIHtcbiAgICAgICAgICAgIGJvYXJkSWQgPSAnZmlyc3RCb2FyZCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ2FtZWJvYXJkID09PSBjb250cm9sbGVyLmNvbXB1dGVyR2FtZWJvYXJkKSB7XG4gICAgICAgICAgICBib2FyZElkID0gJ3NlY29uZEJvYXJkJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2JvYXJkSWR9YCk7XG4gICAgICAgIGJvYXJkLmlubmVySFRNTCA9ICcnO1xuICAgICAgICByZW5kZXJDZWxscyhnYW1lYm9hcmQsIGJvYXJkKTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFVzZXJJbnB1dCA9IChlKSA9PiB7XG4gICAgICAgIGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaXQnKSAmJiAhZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtaXNzJykpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTtcbiAgICAgICAgICAgIGNvbnN0IHJvdyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTtcbiAgICAgICAgICAgIHJldHVybiB7IGNvbCwgcm93IH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZVVzZXJJbnB1dCA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBjb25zdCBjZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNzZWNvbmRCb2FyZCAuY2VsbCcpO1xuICAgICAgICBsZXQgdXNlcklucHV0O1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB1c2VySW5wdXQgPSB5aWVsZCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjZWxsLmNsYXNzTGlzdC5jb250YWlucygnaGl0JykgJiYgIWNlbGwuY2xhc3NMaXN0LmNvbnRhaW5zKCdtaXNzJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZ2V0VXNlcklucHV0KGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gd2hpbGUgKCF1c2VySW5wdXQpO1xuICAgICAgICBjb25zdCBjb2wgPSB1c2VySW5wdXQuY29sLnRvU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IHJvdyA9IHVzZXJJbnB1dC5yb3cudG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIHsgY29sLCByb3cgfTtcbiAgICB9KTtcbiAgICBjb25zdCBoYW5kbGVQdkMgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgZmlsbENlbGxzKCdmaXJzdCcpO1xuICAgICAgICB3YWl0aW5nKHRydWUpO1xuICAgICAgICBhbGxCdG5zLmZvckVhY2goKGJ0bikgPT4gKGJ0bi5kaXNhYmxlZCA9IHRydWUpKTtcbiAgICAgICAgeWllbGQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZ2V0U3BlZWRWYWx1ZSgpKSk7XG4gICAgICAgIGFsbEJ0bnMuZm9yRWFjaCgoYnRuKSA9PiAoYnRuLmRpc2FibGVkID0gZmFsc2UpKTtcbiAgICAgICAgd2FpdGluZyhmYWxzZSk7XG4gICAgICAgIGNhbkJlU3RhcnRlZCgpO1xuICAgICAgICBzZXRJbml0TWVzc2FnZSgpO1xuICAgIH0pO1xuICAgIGNvbnN0IGhhbmRsZU5ld0dhbWUgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgc2V0UmVzdGFydE1lc3NhZ2UoKTtcbiAgICAgICAgd2FpdGluZyh0cnVlKTtcbiAgICAgICAgYWxsQnRucy5mb3JFYWNoKChidG4pID0+IChidG4uZGlzYWJsZWQgPSB0cnVlKSk7XG4gICAgICAgIHlpZWxkIGNvbnRyb2xsZXIubmV3R2FtZSgpO1xuICAgICAgICBhbGxCdG5zLmZvckVhY2goKGJ0bikgPT4gKGJ0bi5kaXNhYmxlZCA9IGZhbHNlKSk7XG4gICAgICAgIHdhaXRpbmcoZmFsc2UpO1xuICAgICAgICBjYW5CZVN0YXJ0ZWQoKTtcbiAgICAgICAgaWYgKHBWY0J0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgICAgIHNldEluaXRNZXNzYWdlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBoYW5kbGVDdkMgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgd2FpdGluZyh0cnVlKTtcbiAgICAgICAgYWxsQnRucy5mb3JFYWNoKChidG4pID0+IChidG4uZGlzYWJsZWQgPSB0cnVlKSk7XG4gICAgICAgIHlpZWxkIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGdldFNwZWVkVmFsdWUoKSkpO1xuICAgICAgICBhbGxCdG5zLmZvckVhY2goKGJ0bikgPT4gKGJ0bi5kaXNhYmxlZCA9IGZhbHNlKSk7XG4gICAgICAgIHdhaXRpbmcoZmFsc2UpO1xuICAgICAgICBzdGFydEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHJhbmRvbUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGNWY0J0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgY29uc3QgaGFuZGxlR2FtZU1vZGUgPSAoc2VsZWN0ZWRFbGVtZW50LCBkZXNlbGVjdGVkRWxlbWVudCkgPT4ge1xuICAgICAgICBkZXNlbGVjdGVkRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICBpZiAoIXNlbGVjdGVkRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudCA9PT0gcFZjQnRuKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlUHZDKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRFbGVtZW50ID09PSBjVmNCdG4pIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVDdkMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRyb2xsZXIucmVzdGFydCgpO1xuICAgICAgICAgICAgc2V0UmVzdGFydE1lc3NhZ2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgd2FpdGluZyA9IChib29sKSA9PiB7XG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCd3YWl0JywgYm9vbCk7XG4gICAgfTtcbiAgICBjb25zdCBzZXRCb2FyZFBvaW50ZXIgPSAod2hpY2gpID0+IHtcbiAgICAgICAgY29uc3Qgc2Vjb25kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NlY29uZEJvYXJkJyk7XG4gICAgICAgIGlmICh3aGljaCA9PT0gJ3BsYXllcicpIHtcbiAgICAgICAgICAgIHNlY29uZC5jbGFzc0xpc3QuYWRkKCdib2FyZE91dGxpbmUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh3aGljaCA9PT0gJ2NvbXB1dGVyJykge1xuICAgICAgICAgICAgc2Vjb25kLmNsYXNzTGlzdC5yZW1vdmUoJ2JvYXJkT3V0bGluZScpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVCb2FyZFBvaW50ZXIgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlY29uZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZWNvbmRCb2FyZCcpO1xuICAgICAgICBzZWNvbmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9hcmRPdXRsaW5lJyk7XG4gICAgfTtcbiAgICBjb25zdCBjcmVhdGVTaGlwT3ZlcmxheSA9IChnYW1lYm9hcmROYW1lLCBzaGlwcykgPT4ge1xuICAgICAgICBzaGlwcy5mb3JFYWNoKChmaXJzdENlbGwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNoaXBFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBjb25zdCBzaGlwTmFtZSA9IGZpcnN0Q2VsbC50YWtlbkJ5Lm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGNvbnN0IHNoaXBTaXplID0gZmlyc3RDZWxsLnRha2VuQnkuc2l6ZTtcbiAgICAgICAgICAgIGNvbnN0IGlzVmVydGljYWwgPSBmaXJzdENlbGwudGFrZW5CeS5pc1ZlcnRpY2FsO1xuICAgICAgICAgICAgc2hpcEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2hpcCcsIHNoaXBOYW1lKTtcbiAgICAgICAgICAgIHNoaXBFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1zaXplJywgYCR7c2hpcFNpemV9YCk7XG4gICAgICAgICAgICBzaGlwRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScsIGAke3NoaXBOYW1lfWApO1xuICAgICAgICAgICAgc2hpcEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpO1xuICAgICAgICAgICAgc2hpcEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZHJhZ2dhYmxlJyk7XG4gICAgICAgICAgICBjb25zdCBzZXRTaGlwU3R5bGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaHRtbEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdEZvbnRTaXplID0gcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShodG1sRWxlbWVudCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSgnZm9udC1zaXplJykpO1xuICAgICAgICAgICAgICAgIGlmICghaXNWZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgICAgICBzaGlwRWxlbWVudC5zdHlsZS53aWR0aCA9IHNoaXBTaXplICogKGNlbGxTaXplIC8gcm9vdEZvbnRTaXplKSArICdyZW0nO1xuICAgICAgICAgICAgICAgICAgICBzaGlwRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBjZWxsU2l6ZSAvIHJvb3RGb250U2l6ZSArICdyZW0nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoaXBFbGVtZW50LnN0eWxlLndpZHRoID0gY2VsbFNpemUgLyByb290Rm9udFNpemUgKyAncmVtJztcbiAgICAgICAgICAgICAgICAgICAgc2hpcEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gc2hpcFNpemUgKiAoY2VsbFNpemUgLyByb290Rm9udFNpemUpICsgJ3JlbSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxldCBjZWxsU2l6ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib2FyZCAuY2VsbCcpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuICAgICAgICAgICAgc2V0U2hpcFN0eWxlKCk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNlbGxTaXplID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvYXJkIC5jZWxsJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgICAgICAgICAgICAgc2V0U2hpcFN0eWxlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxldCBib2FyZDtcbiAgICAgICAgICAgIGlmIChnYW1lYm9hcmROYW1lID09PSAnZmlyc3QnKSB7XG4gICAgICAgICAgICAgICAgYm9hcmQgPSAnZmlyc3RCb2FyZCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChnYW1lYm9hcmROYW1lID09PSAnc2Vjb25kJykge1xuICAgICAgICAgICAgICAgIGJvYXJkID0gJ3NlY29uZEJvYXJkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZpcnN0Q2VsbEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtib2FyZH0gLmNlbGxbZGF0YS1jb2w9XCIke2ZpcnN0Q2VsbC5jb2x9XCJdW2RhdGEtcm93PVwiJHtmaXJzdENlbGwucm93fVwiXWApO1xuICAgICAgICAgICAgZmlyc3RDZWxsRWxlbWVudC5hcHBlbmRDaGlsZChzaGlwRWxlbWVudCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgY2FuQmVTdGFydGVkID0gKCkgPT4ge1xuICAgICAgICBpZiAoY29udHJvbGxlci5odW1hbkdhbWVib2FyZC5zaGlwc1BsYWNlZC5sZW5ndGggPT09IDUgJiYgY29udHJvbGxlci5jb21wdXRlckdhbWVib2FyZC5zaGlwc1BsYWNlZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGZpbGxDZWxscygnc2Vjb25kJyk7XG4gICAgICAgICAgICBzdGFydEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdGFydEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldEluaXRNZXNzYWdlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBzdGF0dXNUZXh0TW9iaWxlID0gXCJVc2UgJ1JhbmRvbSBQbGFjZW1lbnQnIGJ1dHRvbiwgdGhlbiBwcmVzcyBTdGFydCFcIjtcbiAgICAgICAgY29uc3Qgc3RhdHVzVGV4dERlc2t0b3AgPSBcIkRyYWcgYW5kIGRyb3Agc2hpcHMgb250byB0aGUgbGVmdCBib2FyZCBvciB1c2UgJ1JhbmRvbSBQbGFjZW1lbnQnIGJ1dHRvbi4gUmlnaHQgY2xpY2sgdG8gcm90YXRlLiBXaGVuIHJlYWR5LCBwcmVzcyBTdGFydCFcIjtcbiAgICAgICAgaWYgKHN0YXR1c0JveC50ZXh0Q29udGVudCA9PT0gc3RhdHVzVGV4dE1vYmlsZSB8fCBzdGF0dXNCb3gudGV4dENvbnRlbnQgPT09IHN0YXR1c1RleHREZXNrdG9wIHx8IHN0YXR1c0JveC50ZXh0Q29udGVudCA9PT0gJ1Jlc3RhcnRpbmcuLi4nKSB7XG4gICAgICAgICAgICBzdGF0dXNCb3gudGV4dENvbnRlbnQgPSBzdGF0dXNUZXh0TW9iaWxlO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcykge1xuICAgICAgICAgICAgICAgIHN0YXR1c0JveC50ZXh0Q29udGVudCA9IHN0YXR1c1RleHREZXNrdG9wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRTdGFydE1lc3NhZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmIChjYW5CZVN0YXJ0ZWQoKSkge1xuICAgICAgICAgICAgc3RhdHVzQm94LnRleHRDb250ZW50ID0gJ1lvdSBjYW4gbm93IGJlZ2luIHRoZSBnYW1lLiBQcmVzcyBzdGFydCEnO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRUdXJuTWVzc2FnZVB2QyA9IChpc1BsYXllclR1cm4pID0+IHtcbiAgICAgICAgaWYgKGlzUGxheWVyVHVybikge1xuICAgICAgICAgICAgc3RhdHVzQm94LnRleHRDb250ZW50ID0gXCJQbGF5ZXIncyB0dXJuLiBUYWtlIGFpbSBhbmQgYXR0YWNrIVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdHVzQm94LnRleHRDb250ZW50ID0gXCJDb21wdXRlcidzIHR1cm4uIFRoZSBzaG90IGlzIGNvbWluZyFcIjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2V0VHVybk1lc3NhZ2VDdkMgPSAoaXNQbGF5ZXJUdXJuKSA9PiB7XG4gICAgICAgIGlmIChpc1BsYXllclR1cm4pIHtcbiAgICAgICAgICAgIHN0YXR1c0JveC50ZXh0Q29udGVudCA9IFwiVmlvbGV0J3MgdHVyblwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdHVzQm94LnRleHRDb250ZW50ID0gXCJCbHVlJ3MgdHVyblwiO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRHYW1lT3Zlck1lc3NhZ2VQdkMgPSAod2hvKSA9PiB7XG4gICAgICAgIGlmICh3aG8gPT09ICdwbGF5ZXInKSB7XG4gICAgICAgICAgICBzdGF0dXNCb3gudGV4dENvbnRlbnQgPSAnR2FtZSBvdmVyLCBQbGF5ZXIgd2lucyEnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHdobyA9PT0gJ2NvbXB1dGVyJykge1xuICAgICAgICAgICAgc3RhdHVzQm94LnRleHRDb250ZW50ID0gJ0dhbWUgb3ZlciwgQ29tcHV0ZXIgd2lucyEnO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRHYW1lT3Zlck1lc3NhZ2VDdkMgPSAod2hvKSA9PiB7XG4gICAgICAgIGlmICh3aG8gPT09ICdwbGF5ZXInKSB7XG4gICAgICAgICAgICBzdGF0dXNCb3gudGV4dENvbnRlbnQgPSAnR2FtZSBvdmVyLCBCbHVlIENvbXB1dGVyIHdpbnMhJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh3aG8gPT09ICdjb21wdXRlcicpIHtcbiAgICAgICAgICAgIHN0YXR1c0JveC50ZXh0Q29udGVudCA9ICdHYW1lIG92ZXIsIFZpb2xldCBDb21wdXRlciB3aW5zISc7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldFJlc3RhcnRNZXNzYWdlID0gKCkgPT4ge1xuICAgICAgICBzdGF0dXNCb3gudGV4dENvbnRlbnQgPSAnUmVzdGFydGluZy4uLic7XG4gICAgfTtcbiAgICBwVmNCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGZpbGxDZWxscygnZmlyc3QnKTtcbiAgICAgICAgaGFuZGxlR2FtZU1vZGUocFZjQnRuLCBjVmNCdG4pO1xuICAgICAgICBjb25zdCBzZWNvbmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2Vjb25kQm9hcmQnKTtcbiAgICAgICAgc2Vjb25kLmNsYXNzTGlzdC5yZW1vdmUoJ3N0YXJ0Jyk7XG4gICAgICAgIHVuRmlsbENlbGxzKCdmaXJzdCcpO1xuICAgICAgICBzdGFydEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHBWY0J0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgY1ZjQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBmaWxsQ2VsbHMoJ2ZpcnN0Jyk7XG4gICAgICAgIGZpbGxDZWxscygnc2Vjb25kJyk7XG4gICAgICAgIGhhbmRsZUdhbWVNb2RlKGNWY0J0biwgcFZjQnRuKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NlY29uZEJvYXJkJyk7XG4gICAgICAgIHNlY29uZC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XG4gICAgICAgIHNlY29uZC5jbGFzc0xpc3QuYWRkKCdzdGFydCcpO1xuICAgICAgICBQcm9taXNlLmFsbChbdW5GaWxsQ2VsbHMoJ2ZpcnN0JyksIHVuRmlsbENlbGxzKCdzZWNvbmQnKV0pO1xuICAgICAgICBzdGFydEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHJhbmRvbUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGNWY0J0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgbmV3R2FtZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBmaWxsQ2VsbHMoJ2ZpcnN0Jyk7XG4gICAgICAgIGlmIChjVmNCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgICAgICBmaWxsQ2VsbHMoJ3NlY29uZCcpO1xuICAgICAgICAgICAgc3RhcnRCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmFuZG9tQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNWY0J0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdWkucmVtb3ZlQm9hcmRQb2ludGVyKCk7XG4gICAgICAgIHlpZWxkIGhhbmRsZU5ld0dhbWUoKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NlY29uZEJvYXJkJyk7XG4gICAgICAgIHNlY29uZC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XG4gICAgICAgIGlmIChwVmNCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgICAgICBzZWNvbmQuY2xhc3NMaXN0LnJlbW92ZSgnc3RhcnQnKTtcbiAgICAgICAgICAgIHVuRmlsbENlbGxzKCdmaXJzdCcpO1xuICAgICAgICAgICAgc3RhcnRCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgcFZjQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY1ZjQnRuLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgc2Vjb25kLmNsYXNzTGlzdC5hZGQoJ3N0YXJ0Jyk7XG4gICAgICAgICAgICByYW5kb21CdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgUHJvbWlzZS5hbGwoW3VuRmlsbENlbGxzKCdmaXJzdCcpLCB1bkZpbGxDZWxscygnc2Vjb25kJyldKTtcbiAgICAgICAgICAgIHN0YXJ0QnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJhbmRvbUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICBjVmNCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSkpO1xuICAgIHN0YXJ0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb250cm9sbGVyLnN0YXJ0KCk7XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpcnN0Qm9hcmQnKTtcbiAgICAgICAgZmlyc3QuY2xhc3NMaXN0LmFkZCgnaGlkZScpO1xuICAgICAgICBjb25zdCBzZWNvbmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2Vjb25kQm9hcmQnKTtcbiAgICAgICAgc2Vjb25kLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTtcbiAgICAgICAgc2Vjb25kLmNsYXNzTGlzdC5hZGQoJ3N0YXJ0Jyk7XG4gICAgICAgIHVuRmlsbENlbGxzKCdzZWNvbmQnKTtcbiAgICAgICAgc3RhcnRCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICByYW5kb21CdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0pO1xuICAgIHJhbmRvbUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29udHJvbGxlci5jb21wdXRlckdhbWVib2FyZC5jbGVhckJvYXJkKCk7XG4gICAgICAgIHJlZnJlc2hCb2FyZChjb250cm9sbGVyLmNvbXB1dGVyR2FtZWJvYXJkKTtcbiAgICAgICAgY29udHJvbGxlci5yYW5kb21pemVTaGlwc1BsYWNlbWVudCgnZmlyc3QnLCBjb250cm9sbGVyLmh1bWFuR2FtZWJvYXJkKTtcbiAgICAgICAgZHJhZ0FuZERyb3AoY29udHJvbGxlci5odW1hbkdhbWVib2FyZCwgY29udHJvbGxlci5jb21wdXRlckdhbWVib2FyZCwgY29udHJvbGxlci5odW1hblNoaXBzKTtcbiAgICAgICAgY2FuQmVTdGFydGVkKCk7XG4gICAgICAgIHNldFN0YXJ0TWVzc2FnZSgpO1xuICAgICAgICBmaWxsQ2VsbHMoJ3NlY29uZCcpO1xuICAgIH0pO1xuICAgIGxldCBzcGVlZFZhbHVlID0gMTAwMDtcbiAgICBzcGVlZHMuZm9yRWFjaCgoc3BlZWQpID0+IHtcbiAgICAgICAgc3BlZWQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgaW5wdXQgPSBzcGVlZDtcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgc3BlZWRWYWx1ZSA9IE51bWJlcihpbnB1dC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnN0IGdldFNwZWVkVmFsdWUgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBzcGVlZFZhbHVlO1xuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHNldEluaXRNZXNzYWdlKTtcbiAgICBjb25zdCBmaWxsQ2VsbHMgPSAoaW5wdXQpID0+IHtcbiAgICAgICAgbGV0IGJvYXJkO1xuICAgICAgICBpZiAoaW5wdXQgPT09ICdmaXJzdCcpIHtcbiAgICAgICAgICAgIGJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpcnN0Qm9hcmQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbnB1dCA9PT0gJ3NlY29uZCcpIHtcbiAgICAgICAgICAgIGJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NlY29uZEJvYXJkJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2VsbHMgPSBib2FyZC5xdWVyeVNlbGVjdG9yQWxsKCcuY2VsbCcpO1xuICAgICAgICBjZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ2ZpbGxlZCcpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHVuRmlsbENlbGxzID0gKGlucHV0KSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgd2FpdGluZyh0cnVlKTtcbiAgICAgICAgbGV0IGJvYXJkO1xuICAgICAgICBpZiAoaW5wdXQgPT09ICdmaXJzdCcpIHtcbiAgICAgICAgICAgIGJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpcnN0Qm9hcmQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbnB1dCA9PT0gJ3NlY29uZCcpIHtcbiAgICAgICAgICAgIGJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NlY29uZEJvYXJkJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2VsbHMgPSBib2FyZC5xdWVyeVNlbGVjdG9yQWxsKCcuY2VsbCcpO1xuICAgICAgICBjZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ2ZpbGxlZCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgeWllbGQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGNlbGxzLmZvckVhY2goKGNlbGwsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZSgnZmlsbGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gY2VsbHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgKGdldFNwZWVkVmFsdWUoKSAvIDEyMCkgKiBpbmRleCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHdhaXRpbmcoZmFsc2UpO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlckJvYXJkLFxuICAgICAgICByZWZyZXNoQm9hcmQsXG4gICAgICAgIGhhbmRsZVVzZXJJbnB1dCxcbiAgICAgICAgcFZjQnRuLFxuICAgICAgICBjVmNCdG4sXG4gICAgICAgIHdhaXRpbmcsXG4gICAgICAgIHNldEJvYXJkUG9pbnRlcixcbiAgICAgICAgcmVtb3ZlQm9hcmRQb2ludGVyLFxuICAgICAgICBjcmVhdGVTaGlwT3ZlcmxheSxcbiAgICAgICAgY2FuQmVTdGFydGVkLFxuICAgICAgICBzZXRJbml0TWVzc2FnZSxcbiAgICAgICAgc2V0U3RhcnRNZXNzYWdlLFxuICAgICAgICBzZXRUdXJuTWVzc2FnZVB2QyxcbiAgICAgICAgc2V0VHVybk1lc3NhZ2VDdkMsXG4gICAgICAgIHNldEdhbWVPdmVyTWVzc2FnZVB2QyxcbiAgICAgICAgc2V0R2FtZU92ZXJNZXNzYWdlQ3ZDLFxuICAgICAgICBzZXRSZXN0YXJ0TWVzc2FnZSxcbiAgICAgICAgZ2V0U3BlZWRWYWx1ZSxcbiAgICAgICAgZmlsbENlbGxzLFxuICAgICAgICB1bkZpbGxDZWxscyxcbiAgICB9O1xufSkoKTtcbmV4cG9ydCBkZWZhdWx0IHVpO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBodW1hbkdhbWVib2FyZCwgY29tcHV0ZXJHYW1lYm9hcmQgfSBmcm9tICcuL2dhbWVib2FyZCc7XG5pbXBvcnQgc2hpcEZhY3RvcnkgZnJvbSAnLi9zaGlwJztcbmltcG9ydCBwbGF5ZXJGYWN0b3J5IGZyb20gJy4vcGxheWVyJztcbmltcG9ydCB1aSBmcm9tICcuL3VpJztcbmltcG9ydCBkcmFnQW5kRHJvcCBmcm9tICcuL2RyYWdBbmREcm9wJztcbmNvbnN0IGNvbnRyb2xsZXIgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGh1bWFuID0gcGxheWVyRmFjdG9yeSgpO1xuICAgIGNvbnN0IGNvbXB1dGVyID0gcGxheWVyRmFjdG9yeSgpO1xuICAgIGxldCBpc1N0b3BwZWQgPSB0cnVlO1xuICAgIGxldCBodW1hbkNhcnJpZXIgPSBzaGlwRmFjdG9yeSgnQ2FycmllcicpO1xuICAgIGxldCBodW1hbkJhdHRsZXNoaXAgPSBzaGlwRmFjdG9yeSgnQmF0dGxlc2hpcCcpO1xuICAgIGxldCBodW1hbkRlc3Ryb3llciA9IHNoaXBGYWN0b3J5KCdEZXN0cm95ZXInKTtcbiAgICBsZXQgaHVtYW5TdWJtYXJpbmUgPSBzaGlwRmFjdG9yeSgnU3VibWFyaW5lJyk7XG4gICAgbGV0IGh1bWFuUGF0cm9sYm9hdCA9IHNoaXBGYWN0b3J5KCdQYXRyb2xCb2F0Jyk7XG4gICAgY29uc3QgaHVtYW5TaGlwcyA9IFtodW1hbkNhcnJpZXIsIGh1bWFuQmF0dGxlc2hpcCwgaHVtYW5EZXN0cm95ZXIsIGh1bWFuU3VibWFyaW5lLCBodW1hblBhdHJvbGJvYXRdO1xuICAgIGNvbnN0IHBvcHVsYXRlU2hpcHMgPSAoKSA9PiB7XG4gICAgICAgIGNvbXB1dGVyR2FtZWJvYXJkLnBsYWNlU2hpcChodW1hbkNhcnJpZXIsICdBJywgJzEnLCAnaG9yaXpvbnRhbCcpO1xuICAgICAgICBjb21wdXRlckdhbWVib2FyZC5wbGFjZVNoaXAoaHVtYW5CYXR0bGVzaGlwLCAnQScsICczJywgJ2hvcml6b250YWwnKTtcbiAgICAgICAgY29tcHV0ZXJHYW1lYm9hcmQucGxhY2VTaGlwKGh1bWFuRGVzdHJveWVyLCAnQScsICc1JywgJ2hvcml6b250YWwnKTtcbiAgICAgICAgY29tcHV0ZXJHYW1lYm9hcmQucGxhY2VTaGlwKGh1bWFuU3VibWFyaW5lLCAnQScsICc3JywgJ2hvcml6b250YWwnKTtcbiAgICAgICAgY29tcHV0ZXJHYW1lYm9hcmQucGxhY2VTaGlwKGh1bWFuUGF0cm9sYm9hdCwgJ0EnLCAnOScsICdob3Jpem9udGFsJyk7XG4gICAgICAgIGNvbXB1dGVyR2FtZWJvYXJkLnJlc2VydmVTcGFjZShjb21wdXRlckdhbWVib2FyZCwgJ0EnLCAnMScpO1xuICAgICAgICBjb21wdXRlckdhbWVib2FyZC5yZXNlcnZlU3BhY2UoY29tcHV0ZXJHYW1lYm9hcmQsICdBJywgJzMnKTtcbiAgICAgICAgY29tcHV0ZXJHYW1lYm9hcmQucmVzZXJ2ZVNwYWNlKGNvbXB1dGVyR2FtZWJvYXJkLCAnQScsICc1Jyk7XG4gICAgICAgIGNvbXB1dGVyR2FtZWJvYXJkLnJlc2VydmVTcGFjZShjb21wdXRlckdhbWVib2FyZCwgJ0EnLCAnNycpO1xuICAgICAgICBjb21wdXRlckdhbWVib2FyZC5yZXNlcnZlU3BhY2UoY29tcHV0ZXJHYW1lYm9hcmQsICdBJywgJzknKTtcbiAgICB9O1xuICAgIGNvbnN0IGlzR2FtZU92ZXIgPSAoKSA9PiB7XG4gICAgICAgIGlmIChjb21wdXRlckdhbWVib2FyZC5hbGxTdW5rKGNvbXB1dGVyR2FtZWJvYXJkKSkge1xuICAgICAgICAgICAgdWkucmVtb3ZlQm9hcmRQb2ludGVyKCk7XG4gICAgICAgICAgICBpZiAodWkucFZjQnRuLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgICAgIHVpLnNldEdhbWVPdmVyTWVzc2FnZVB2QygncGxheWVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodWkuY1ZjQnRuLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgICAgIHVpLnNldEdhbWVPdmVyTWVzc2FnZUN2QygncGxheWVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnQWxsIGNvbXB1dGVyIHNoaXBzIGFyZSBzdW5rLiBIdW1hbiBwbGF5ZXIgd29uIScpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGh1bWFuR2FtZWJvYXJkLmFsbFN1bmsoaHVtYW5HYW1lYm9hcmQpKSB7XG4gICAgICAgICAgICB1aS5yZW1vdmVCb2FyZFBvaW50ZXIoKTtcbiAgICAgICAgICAgIGlmICh1aS5wVmNCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgICAgICAgICAgdWkuc2V0R2FtZU92ZXJNZXNzYWdlUHZDKCdjb21wdXRlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVpLmNWY0J0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgICAgICAgICB1aS5zZXRHYW1lT3Zlck1lc3NhZ2VDdkMoJ2NvbXB1dGVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnQWxsIGh1bWFuIHNoaXBzIGFyZSBzdW5rLiBDb21wdXRlciBwbGF5ZXIgd29uIScpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgY29uc3QgY29tcHV0ZXJBSSA9IChnYW1lYm9hcmQpID0+IHtcbiAgICAgICAgbGV0IHBsYXllcjtcbiAgICAgICAgaWYgKGdhbWVib2FyZCA9PT0gaHVtYW5HYW1lYm9hcmQpIHtcbiAgICAgICAgICAgIHBsYXllciA9IGNvbXB1dGVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdhbWVib2FyZCA9PT0gY29tcHV0ZXJHYW1lYm9hcmQpIHtcbiAgICAgICAgICAgIHBsYXllciA9IGh1bWFuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnYW1lYm9hcmQuaGl0QnV0Tm90U3VuayhnYW1lYm9hcmQpKSB7XG4gICAgICAgICAgICBpZiAocGxheWVyLmdldFByZXZIaXQoKSAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIHBsYXllci5nZXRMYXN0SGl0KCkgIT09IG51bGwgJiZcbiAgICAgICAgICAgICAgICBnYW1lYm9hcmQuZ2V0Q2VsbChwbGF5ZXIuZ2V0TGFzdEhpdCgpLmNvbCwgcGxheWVyLmdldExhc3RIaXQoKS5yb3cpLnRha2VuQnkuaGl0Q291bnQgPj0gMiAmJlxuICAgICAgICAgICAgICAgIGdhbWVib2FyZC5nZXRDZWxsKHBsYXllci5nZXRMYXN0SGl0KCkuY29sLCBwbGF5ZXIuZ2V0TGFzdEhpdCgpLnJvdykudGFrZW5CeS5oaXRDb3VudCA8PSA0KSB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0ZJTklTSDogPj0gMiB0cmFmaWVuaWEgdyBzdGF0ZWsnLCBwbGF5ZXIuZ2V0UHJldkhpdCgpKTtcbiAgICAgICAgICAgICAgICBwbGF5ZXIuZmluaXNoaW5nQXR0YWNrKGdhbWVib2FyZCwgcGxheWVyLmdldExhc3RIaXQoKS5jb2wsIHBsYXllci5nZXRMYXN0SGl0KCkucm93LCBwbGF5ZXIuZ2V0UHJldkhpdCgpKTtcbiAgICAgICAgICAgICAgICBnYW1lYm9hcmQuc2lua1NoaXAoZ2FtZWJvYXJkLCBwbGF5ZXIuZ2V0TGFzdEhpdCgpLmNvbCwgcGxheWVyLmdldExhc3RIaXQoKS5yb3cpO1xuICAgICAgICAgICAgICAgIGlmIChpc0dhbWVPdmVyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVib2FyZC5nZXRDZWxsKHBsYXllci5nZXRMYXN0SGl0KCkuY29sLCBwbGF5ZXIuZ2V0TGFzdEhpdCgpLnJvdykudGFrZW5CeS5oaXRDb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHBsYXllci5mb2xsb3d1cEF0dGFjayhnYW1lYm9hcmQsIHBsYXllci5nZXRMYXN0SGl0KCkuY29sLCBwbGF5ZXIuZ2V0TGFzdEhpdCgpLnJvdyk7XG4gICAgICAgICAgICAgICAgZ2FtZWJvYXJkLnNpbmtTaGlwKGdhbWVib2FyZCwgcGxheWVyLmdldExhc3RIaXQoKS5jb2wsIHBsYXllci5nZXRMYXN0SGl0KCkucm93KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNHYW1lT3ZlcigpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB7IGNvbCwgcm93IH0gPSBwbGF5ZXIucmFuZG9tQXR0YWNrKGdhbWVib2FyZCk7XG4gICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmdldENlbGwoY29sLCByb3cpLnN0YXR1cyA9PT0gJ2hpdCcpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc2V0UHJldkhpdChwbGF5ZXIuZ2V0TGFzdEhpdCgpKTtcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc2V0TGFzdEhpdCh7IGNvbCwgcm93IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5nZXRDZWxsKGNvbCwgcm93KS5zdGF0dXMgPT09ICdoaXQnICYmIGdhbWVib2FyZC5nZXRDZWxsKGNvbCwgcm93KS50YWtlbkJ5LmlzU3VuaygpKSB7XG4gICAgICAgICAgICAgICAgZ2FtZWJvYXJkLnNpbmtTaGlwKGdhbWVib2FyZCwgY29sLCByb3cpO1xuICAgICAgICAgICAgICAgIHBsYXllci5zZXRQcmV2SGl0KG51bGwpO1xuICAgICAgICAgICAgICAgIHBsYXllci5zZXRMYXN0SGl0KG51bGwpO1xuICAgICAgICAgICAgICAgIGlmIChpc0dhbWVPdmVyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcGxheWVyVnNDb21wdXRlck1vZGUgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgbGV0IGlzUGxheWVyVHVybiA9IHRydWU7XG4gICAgICAgIHdoaWxlICghaXNHYW1lT3ZlcigpICYmICFpc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGlmIChpc1BsYXllclR1cm4pIHtcbiAgICAgICAgICAgICAgICB1aS5zZXRUdXJuTWVzc2FnZVB2Qyhpc1BsYXllclR1cm4pO1xuICAgICAgICAgICAgICAgIHVpLnNldEJvYXJkUG9pbnRlcigncGxheWVyJyk7XG4gICAgICAgICAgICAgICAgdWkud2FpdGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjb2wsIHJvdyB9ID0geWllbGQgdWkuaGFuZGxlVXNlcklucHV0KCk7XG4gICAgICAgICAgICAgICAgaHVtYW4uYXR0YWNrKGNvbXB1dGVyR2FtZWJvYXJkLCBjb2wsIHJvdyk7XG4gICAgICAgICAgICAgICAgY29tcHV0ZXJHYW1lYm9hcmQuc2lua1NoaXAoY29tcHV0ZXJHYW1lYm9hcmQsIGNvbCwgcm93KTtcbiAgICAgICAgICAgICAgICB1aS5yZWZyZXNoQm9hcmQoY29tcHV0ZXJHYW1lYm9hcmQpO1xuICAgICAgICAgICAgICAgIGlzUGxheWVyVHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzR2FtZU92ZXIoKSB8fCBpc1N0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNQbGF5ZXJUdXJuKSB7XG4gICAgICAgICAgICAgICAgdWkuc2V0VHVybk1lc3NhZ2VQdkMoaXNQbGF5ZXJUdXJuKTtcbiAgICAgICAgICAgICAgICB1aS5zZXRCb2FyZFBvaW50ZXIoJ2NvbXB1dGVyJyk7XG4gICAgICAgICAgICAgICAgdWkud2FpdGluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICB5aWVsZCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCB1aS5nZXRTcGVlZFZhbHVlKCkpKTtcbiAgICAgICAgICAgICAgICBpZiAoIXVpLnBWY0J0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHwgaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb21wdXRlckFJKGh1bWFuR2FtZWJvYXJkKTtcbiAgICAgICAgICAgICAgICB1aS5yZWZyZXNoQm9hcmQoaHVtYW5HYW1lYm9hcmQpO1xuICAgICAgICAgICAgICAgIGlzUGxheWVyVHVybiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHVpLndhaXRpbmcoZmFsc2UpO1xuICAgIH0pO1xuICAgIGNvbnN0IGNvbXB1dGVyVnNDb21wdXRlck1vZGUgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgdWkucmVtb3ZlQm9hcmRQb2ludGVyKCk7XG4gICAgICAgIGxldCBpc1BsYXllclR1cm4gPSB0cnVlO1xuICAgICAgICB3aGlsZSAoIWlzR2FtZU92ZXIoKSAmJiAhaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB1aS53YWl0aW5nKHRydWUpO1xuICAgICAgICAgICAgaWYgKGlzUGxheWVyVHVybikge1xuICAgICAgICAgICAgICAgIHVpLnNldFR1cm5NZXNzYWdlQ3ZDKGlzUGxheWVyVHVybik7XG4gICAgICAgICAgICAgICAgeWllbGQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdWkuZ2V0U3BlZWRWYWx1ZSgpKSk7XG4gICAgICAgICAgICAgICAgaWYgKCF1aS5jVmNCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8IGlzU3RvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29tcHV0ZXJBSShodW1hbkdhbWVib2FyZCk7XG4gICAgICAgICAgICAgICAgdWkucmVmcmVzaEJvYXJkKGh1bWFuR2FtZWJvYXJkKTtcbiAgICAgICAgICAgICAgICBpc1BsYXllclR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0dhbWVPdmVyKCkgfHwgaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzUGxheWVyVHVybikge1xuICAgICAgICAgICAgICAgIHVpLnNldFR1cm5NZXNzYWdlQ3ZDKGlzUGxheWVyVHVybik7XG4gICAgICAgICAgICAgICAgeWllbGQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdWkuZ2V0U3BlZWRWYWx1ZSgpKSk7XG4gICAgICAgICAgICAgICAgaWYgKCF1aS5jVmNCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8IGlzU3RvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29tcHV0ZXJBSShjb21wdXRlckdhbWVib2FyZCk7XG4gICAgICAgICAgICAgICAgdWkucmVmcmVzaEJvYXJkKGNvbXB1dGVyR2FtZWJvYXJkKTtcbiAgICAgICAgICAgICAgICBpc1BsYXllclR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB1aS53YWl0aW5nKGZhbHNlKTtcbiAgICB9KTtcbiAgICBjb25zdCByYW5kb21QbGFjZW1lbnQgPSAoZ2FtZWJvYXJkKSA9PiB7XG4gICAgICAgIGxldCBhbGxTaGlwcztcbiAgICAgICAgaWYgKGdhbWVib2FyZCA9PT0gaHVtYW5HYW1lYm9hcmQpIHtcbiAgICAgICAgICAgIGh1bWFuQ2FycmllciA9IHNoaXBGYWN0b3J5KCdDYXJyaWVyJyk7XG4gICAgICAgICAgICBodW1hbkJhdHRsZXNoaXAgPSBzaGlwRmFjdG9yeSgnQmF0dGxlc2hpcCcpO1xuICAgICAgICAgICAgaHVtYW5EZXN0cm95ZXIgPSBzaGlwRmFjdG9yeSgnRGVzdHJveWVyJyk7XG4gICAgICAgICAgICBodW1hblN1Ym1hcmluZSA9IHNoaXBGYWN0b3J5KCdTdWJtYXJpbmUnKTtcbiAgICAgICAgICAgIGh1bWFuUGF0cm9sYm9hdCA9IHNoaXBGYWN0b3J5KCdQYXRyb2xCb2F0Jyk7XG4gICAgICAgICAgICBhbGxTaGlwcyA9IFtodW1hbkNhcnJpZXIsIGh1bWFuQmF0dGxlc2hpcCwgaHVtYW5EZXN0cm95ZXIsIGh1bWFuU3VibWFyaW5lLCBodW1hblBhdHJvbGJvYXRdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdhbWVib2FyZCA9PT0gY29tcHV0ZXJHYW1lYm9hcmQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVyQ2FycmllciA9IHNoaXBGYWN0b3J5KCdDYXJyaWVyJyk7XG4gICAgICAgICAgICBjb25zdCBjb21wdXRlckJhdHRsZXNoaXAgPSBzaGlwRmFjdG9yeSgnQmF0dGxlc2hpcCcpO1xuICAgICAgICAgICAgY29uc3QgY29tcHV0ZXJEZXN0cm95ZXIgPSBzaGlwRmFjdG9yeSgnRGVzdHJveWVyJyk7XG4gICAgICAgICAgICBjb25zdCBjb21wdXRlclN1Ym1hcmluZSA9IHNoaXBGYWN0b3J5KCdTdWJtYXJpbmUnKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVyUGF0cm9sYm9hdCA9IHNoaXBGYWN0b3J5KCdQYXRyb2xCb2F0Jyk7XG4gICAgICAgICAgICBhbGxTaGlwcyA9IFtjb21wdXRlckNhcnJpZXIsIGNvbXB1dGVyQmF0dGxlc2hpcCwgY29tcHV0ZXJEZXN0cm95ZXIsIGNvbXB1dGVyU3VibWFyaW5lLCBjb21wdXRlclBhdHJvbGJvYXRdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRyb2xsZXIuaHVtYW5TaGlwcy5sZW5ndGggPSAwO1xuICAgICAgICBjb25zdCBjb2xzID0gWydBJywgJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJ107XG4gICAgICAgIGNvbnN0IHJhbmRvbUNvbCA9ICgpID0+IGNvbHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY29scy5sZW5ndGgpXTtcbiAgICAgICAgY29uc3QgcmFuZG9tUm93ID0gKCkgPT4gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiAxMCkudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgcmFuZG9tT3JpZW50YXRpb24gPSAoKSA9PiAoTWF0aC5yYW5kb20oKSA+IDAuNSA/ICdob3Jpem9udGFsJyA6ICd2ZXJ0aWNhbCcpO1xuICAgICAgICBhbGxTaGlwcy5mb3JFYWNoKChzaGlwKSA9PiB7XG4gICAgICAgICAgICBsZXQgY29sID0gcmFuZG9tQ29sKCk7XG4gICAgICAgICAgICBsZXQgcm93ID0gcmFuZG9tUm93KCk7XG4gICAgICAgICAgICBsZXQgb3JpZW50YXRpb24gPSByYW5kb21PcmllbnRhdGlvbigpO1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGdhbWVib2FyZC5jYW5CZVBsYWNlZChzaGlwLnNpemUsIGNvbCwgcm93LCBvcmllbnRhdGlvbik7XG4gICAgICAgICAgICB3aGlsZSAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGNvbCA9IHJhbmRvbUNvbCgpO1xuICAgICAgICAgICAgICAgIHJvdyA9IHJhbmRvbVJvdygpO1xuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID0gcmFuZG9tT3JpZW50YXRpb24oKTtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBnYW1lYm9hcmQuY2FuQmVQbGFjZWQoc2hpcC5zaXplLCBjb2wsIHJvdywgb3JpZW50YXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGdhbWVib2FyZC5wbGFjZVNoaXAoc2hpcCwgY29sLCByb3csIG9yaWVudGF0aW9uKTtcbiAgICAgICAgICAgICAgICBnYW1lYm9hcmQucmVzZXJ2ZVNwYWNlKGdhbWVib2FyZCwgY29sLCByb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udHJvbGxlci5odW1hblNoaXBzLnB1c2goc2hpcCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgcmFuZG9taXplU2hpcHNQbGFjZW1lbnQgPSAoZ2FtZWJvYXJkTmFtZSwgZ2FtZWJvYXJkKSA9PiB7XG4gICAgICAgIGdhbWVib2FyZC5jbGVhckJvYXJkKCk7XG4gICAgICAgIHJhbmRvbVBsYWNlbWVudChnYW1lYm9hcmQpO1xuICAgICAgICB1aS5yZWZyZXNoQm9hcmQoZ2FtZWJvYXJkKTtcbiAgICAgICAgaWYgKGdhbWVib2FyZE5hbWUgPT09ICdmaXJzdCcpIHtcbiAgICAgICAgICAgIHVpLmNyZWF0ZVNoaXBPdmVybGF5KCdmaXJzdCcsIGdhbWVib2FyZC5zaGlwc1BsYWNlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlc2V0T3JpZW50YXRpb24gPSAoKSA9PiB7XG4gICAgICAgIGh1bWFuU2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICAgICAgICAgICAgaWYgKHNoaXAuaXNWZXJ0aWNhbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHNoaXAuaXNWZXJ0aWNhbCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHBpY2tHYW1lTW9kZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHVpLmNWY0J0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgICAgIHJhbmRvbWl6ZVNoaXBzUGxhY2VtZW50KCdmaXJzdCcsIGh1bWFuR2FtZWJvYXJkKTtcbiAgICAgICAgICAgIHJhbmRvbWl6ZVNoaXBzUGxhY2VtZW50KCdzZWNvbmQnLCBjb21wdXRlckdhbWVib2FyZCk7XG4gICAgICAgICAgICBpc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbXB1dGVyVnNDb21wdXRlck1vZGUoKTtcbiAgICAgICAgICAgIHVpLnJlZnJlc2hCb2FyZChodW1hbkdhbWVib2FyZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHN0YXJ0ID0gKCkgPT4ge1xuICAgICAgICB1aS5yZWZyZXNoQm9hcmQoaHVtYW5HYW1lYm9hcmQpO1xuICAgICAgICByYW5kb21pemVTaGlwc1BsYWNlbWVudCgnc2Vjb25kJywgY29tcHV0ZXJHYW1lYm9hcmQpO1xuICAgICAgICBpc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgcGxheWVyVnNDb21wdXRlck1vZGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlc3RhcnQgPSAoKSA9PiB7XG4gICAgICAgIGlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIGh1bWFuLnNldFByZXZIaXQobnVsbCk7XG4gICAgICAgIGh1bWFuLnNldExhc3RIaXQobnVsbCk7XG4gICAgICAgIGNvbXB1dGVyLnNldFByZXZIaXQobnVsbCk7XG4gICAgICAgIGNvbXB1dGVyLnNldExhc3RIaXQobnVsbCk7XG4gICAgICAgIGh1bWFuR2FtZWJvYXJkLmNsZWFyQm9hcmQoKTtcbiAgICAgICAgY29tcHV0ZXJHYW1lYm9hcmQuY2xlYXJCb2FyZCgpO1xuICAgICAgICBwb3B1bGF0ZVNoaXBzKCk7XG4gICAgICAgIHVpLnJlZnJlc2hCb2FyZChodW1hbkdhbWVib2FyZCk7XG4gICAgICAgIHVpLnJlZnJlc2hCb2FyZChjb21wdXRlckdhbWVib2FyZCk7XG4gICAgICAgIHVpLmNyZWF0ZVNoaXBPdmVybGF5KCdzZWNvbmQnLCBjb21wdXRlckdhbWVib2FyZC5zaGlwc1BsYWNlZCk7XG4gICAgICAgIGRyYWdBbmREcm9wKGh1bWFuR2FtZWJvYXJkLCBjb21wdXRlckdhbWVib2FyZCwgaHVtYW5TaGlwcyk7XG4gICAgICAgIHVpLmNhbkJlU3RhcnRlZCgpO1xuICAgICAgICBwaWNrR2FtZU1vZGUoKTtcbiAgICAgICAgcmVzZXRPcmllbnRhdGlvbigpO1xuICAgIH07XG4gICAgY29uc3QgbmV3R2FtZSA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBpc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICB5aWVsZCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCB1aS5nZXRTcGVlZFZhbHVlKCkpKTtcbiAgICAgICAgaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHJlc3RhcnQoKTtcbiAgICB9KTtcbiAgICBjb25zdCBpbml0ID0gKCkgPT4ge1xuICAgICAgICB1aS5zZXRJbml0TWVzc2FnZSgpO1xuICAgICAgICB1aS5yZW5kZXJCb2FyZChodW1hbkdhbWVib2FyZCk7XG4gICAgICAgIHVpLnJlbmRlckJvYXJkKGNvbXB1dGVyR2FtZWJvYXJkKTtcbiAgICAgICAgcG9wdWxhdGVTaGlwcygpO1xuICAgICAgICB1aS5yZWZyZXNoQm9hcmQoY29tcHV0ZXJHYW1lYm9hcmQpO1xuICAgICAgICB1aS5jcmVhdGVTaGlwT3ZlcmxheSgnc2Vjb25kJywgY29tcHV0ZXJHYW1lYm9hcmQuc2hpcHNQbGFjZWQpO1xuICAgICAgICBkcmFnQW5kRHJvcChodW1hbkdhbWVib2FyZCwgY29tcHV0ZXJHYW1lYm9hcmQsIGh1bWFuU2hpcHMpO1xuICAgICAgICB1aS5jYW5CZVN0YXJ0ZWQoKTtcbiAgICAgICAgcGlja0dhbWVNb2RlKCk7XG4gICAgICAgIHVpLnVuRmlsbENlbGxzKCdmaXJzdCcpO1xuICAgICAgICB1aS5wVmNCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIHsgaW5pdCwgaHVtYW5HYW1lYm9hcmQsIGNvbXB1dGVyR2FtZWJvYXJkLCByZXN0YXJ0LCBuZXdHYW1lLCBzdGFydCwgcmFuZG9taXplU2hpcHNQbGFjZW1lbnQsIGh1bWFuU2hpcHMgfTtcbn0pKCk7XG5leHBvcnQgZGVmYXVsdCBjb250cm9sbGVyO1xuIiwiaW1wb3J0ICdub3JtYWxpemUuY3NzJztcbmltcG9ydCAnLi9zdHlsZS9zdHlsZS5jc3MnO1xuaW1wb3J0IGNvbnRyb2xsZXIgZnJvbSAnLi9tb2R1bGVzL2NvbnRyb2xsZXInO1xuY29udHJvbGxlci5pbml0KCk7XG4iXSwibmFtZXMiOlsiZ2FtZWJvYXJkRmFjdG9yeSIsImNvbHMiLCJyb3dzIiwiYXJyYXkiLCJzaGlwc1BsYWNlZCIsImdldENlbGwiLCJpIiwiaiIsImNvbCIsInJvdyIsInN0YXR1cyIsInRha2VuQnkiLCJjb2xJbmRleCIsImluZGV4T2YiLCJyb3dJbmRleCIsInNldENlbGwiLCJuZXdTdGF0dXMiLCJuZXdUYWtlbkJ5IiwiY2xlYXJCb2FyZCIsInVuZGVmaW5lZCIsImxlbmd0aCIsInJlbW92ZVNoaXAiLCJzaGlwIiwiZ2FtZWJvYXJkIiwiZmxhdCIsImZvckVhY2giLCJjZWxsIiwiYm9hcmRJZCIsIm5hbWUiLCJzcGxpY2UiLCJodW1hbkdhbWVib2FyZCIsImNvbXB1dGVyR2FtZWJvYXJkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJnZXRBdHRyaWJ1dGUiLCJ0b0xvd2VyQ2FzZSIsInJlbW92ZSIsImFkZCIsInJlbW92ZUF0dHJpYnV0ZSIsInBsYWNlU2hpcCIsIm9yaWVudGF0aW9uIiwiaXNWZXJ0aWNhbCIsImlzSG9yaXpvbnRhbCIsImNlbGxzIiwic3RhcnQiLCJzaGlwQ2VsbHMiLCJzaXplIiwiY3VycmVudENvbCIsImN1cnJlbnRSb3ciLCJwdXNoIiwicmVjZWl2ZUF0dGFjayIsImhpdCIsInJlY2VpdmVBcm91bmQiLCJyZXNlcnZlU3BhY2UiLCJmaWx0ZXIiLCJjIiwiZGlyZWN0aW9uIiwibmV3Q29sIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiY2hhckNvZGVBdCIsIm5ld1JvdyIsIk51bWJlciIsInRvU3RyaW5nIiwiaGl0QnV0Tm90U3VuayIsInNvbWUiLCJpc1N1bmsiLCJzaW5rU2hpcCIsImFsbFN1bmsiLCJ0YWtlbkJ5Q2VsbHMiLCJldmVyeSIsImNhbkJlUGxhY2VkIiwiYXJlRW1wdHkiLCJpdGVtIiwicmVtb3ZlUmVzZXJ2ZWRTcGFjZSIsImhpdENvdW50Iiwicm90YXRlIiwidGhpcyIsInByZXZIaXQiLCJsYXN0SGl0IiwicmFuZ2UiLCJnb1JpZ2h0IiwiZ29Eb3duIiwiZmluaXNoaW5nQXR0YWNrIiwic2V0UHJldkhpdCIsInNldExhc3RIaXQiLCJuZXdQcmV2SGl0IiwibmV3TGFzdEhpdCIsImF0dGFjayIsInJlc3VsdCIsInJhbmRvbUF0dGFjayIsInJhbmRvbUNvbCIsInJhbmRvbVJvdyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImNlaWwiLCJmb2xsb3d1cEF0dGFjayIsInZhbGlkRGlyZWN0aW9ucyIsInJhbmRvbURpcmVjdGlvbiIsImdldFByZXZIaXQiLCJnZXRMYXN0SGl0IiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwiZG9uZSIsInRoZW4iLCJhcHBseSIsImRyYWdBbmREcm9wIiwiZmlyc3RHYW1lYm9hcmQiLCJzZWNvbmRHYW1lYm9hcmQiLCJzaGlwcyIsInNoaXBOYW1lIiwic2hpcFNpemUiLCJzaGlwT2JqIiwiZ3JhYlBvaW50WCIsImdyYWJQb2ludFkiLCJoaWdobGlnaHRlZENlbGxzIiwic2hpcE5hbWVUb09iaiIsImNhcnJpZXIiLCJiYXR0bGVzaGlwIiwiZGVzdHJveWVyIiwic3VibWFyaW5lIiwicGF0cm9sYm9hdCIsImZpcnN0Qm9hcmRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsInNlY29uZEJvYXJkRWxlbWVudCIsImZpcnN0Qm9hcmRDZWxscyIsInNlY29uZEJvYXJkQ2VsbHMiLCJub25TaGlwQ2VsbHMiLCJkcmFnZ2FibGUiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlTW91c2Vkb3duIiwiaGFuZGxlTW91c2V1cCIsImhhbmRsZURyYWdTdGFydCIsImhhbmRsZURyYWdFbmQiLCJoYW5kbGVSb3RhdGUiLCJibG9ja1JpZ2h0Q2xpY2siLCJsYXN0RHJhZ2dlZCIsInRhcmdldFNoaXBOYW1lIiwidGFyZ2V0IiwidXBkYXRlZFNoaXBzUGxhY2VkRmlyc3QiLCJ1cGRhdGVkU2hpcHNQbGFjZWRUZW1wIiwicmVmcmVzaEJvYXJkIiwiY3JlYXRlU2hpcE92ZXJsYXkiLCJodW1hblNoaXBzIiwic2V0VGltZW91dCIsInN0eWxlIiwidmlzaWJpbGl0eSIsIm9mZnNldFgiLCJvZmZzZXRZIiwiY2xvc2VzdCIsImlkIiwiaGFuZGxlRHJhZ092ZXIiLCJpbmRleCIsInByZXZlbnREZWZhdWx0Iiwic3RhcnRDZWxsIiwib2Zmc2V0SGVpZ2h0Iiwib2Zmc2V0V2lkdGgiLCJ0b0hpZ2hsaWdodCIsImNlbGxJbmRleCIsImlzVmFsaWRQbGFjZW1lbnQiLCJnZXRMYXN0U2hpcFNpemVFbGVtZW50cyIsImhhbmRsZURyYWdMZWF2ZSIsImhpZ2hsaWdodGVkQ2VsbCIsImhhbmRsZURyb3AiLCJsYXN0IiwiZGF0YXNldCIsImNhbkJlU3RhcnRlZCIsInNldFN0YXJ0TWVzc2FnZSIsInNsaWNlIiwibWluIiwidGVtcFNoaXAiLCJjdXJyZW50IiwiZmlsbENlbGxzIiwidWkiLCJzdGF0dXNCb3giLCJib2FyZHMiLCJwVmNCdG4iLCJuZXdHYW1lQnRuIiwiY1ZjQnRuIiwic3RhcnRCdG4iLCJyYW5kb21CdG4iLCJhbGxCdG5zIiwic3BlZWRzIiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJyZW5kZXJDZWxscyIsImJvYXJkIiwiZWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjcmVhdGVDZWxsIiwiYXBwZW5kIiwiaW5uZXJIVE1MIiwiZ2V0VXNlcklucHV0IiwiaGFuZGxlR2FtZU1vZGUiLCJzZWxlY3RlZEVsZW1lbnQiLCJkZXNlbGVjdGVkRWxlbWVudCIsIndhaXRpbmciLCJidG4iLCJkaXNhYmxlZCIsImdldFNwZWVkVmFsdWUiLCJzZXRJbml0TWVzc2FnZSIsInJlc3RhcnQiLCJzZXRSZXN0YXJ0TWVzc2FnZSIsImJvb2wiLCJkb2N1bWVudEVsZW1lbnQiLCJ0b2dnbGUiLCJzdGF0dXNUZXh0TW9iaWxlIiwic3RhdHVzVGV4dERlc2t0b3AiLCJ0ZXh0Q29udGVudCIsIndpbmRvdyIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwidW5GaWxsQ2VsbHMiLCJzZWNvbmQiLCJhbGwiLCJyZW1vdmVCb2FyZFBvaW50ZXIiLCJuZXdHYW1lIiwicmFuZG9taXplU2hpcHNQbGFjZW1lbnQiLCJzcGVlZFZhbHVlIiwic3BlZWQiLCJpbnB1dCIsImNoZWNrZWQiLCJyZW5kZXJCb2FyZCIsImhhbmRsZVVzZXJJbnB1dCIsInVzZXJJbnB1dCIsIm9uY2UiLCJzZXRCb2FyZFBvaW50ZXIiLCJ3aGljaCIsImdhbWVib2FyZE5hbWUiLCJmaXJzdENlbGwiLCJzaGlwRWxlbWVudCIsInNldFNoaXBTdHlsZSIsImh0bWxFbGVtZW50Iiwicm9vdEZvbnRTaXplIiwicGFyc2VGbG9hdCIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwid2lkdGgiLCJjZWxsU2l6ZSIsImhlaWdodCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImFwcGVuZENoaWxkIiwic2V0VHVybk1lc3NhZ2VQdkMiLCJpc1BsYXllclR1cm4iLCJzZXRUdXJuTWVzc2FnZUN2QyIsInNldEdhbWVPdmVyTWVzc2FnZVB2QyIsIndobyIsInNldEdhbWVPdmVyTWVzc2FnZUN2QyIsImNvbnRyb2xsZXIiLCJodW1hbiIsInBsYXllciIsImNvbXB1dGVyIiwiaXNTdG9wcGVkIiwiaHVtYW5DYXJyaWVyIiwiaHVtYW5CYXR0bGVzaGlwIiwiaHVtYW5EZXN0cm95ZXIiLCJodW1hblN1Ym1hcmluZSIsImh1bWFuUGF0cm9sYm9hdCIsInBvcHVsYXRlU2hpcHMiLCJpc0dhbWVPdmVyIiwiY29tcHV0ZXJBSSIsImFsbFNoaXBzIiwicmFuZG9tT3JpZW50YXRpb24iLCJyYW5kb21QbGFjZW1lbnQiLCJwaWNrR2FtZU1vZGUiLCJpbml0Il0sInNvdXJjZVJvb3QiOiIifQ==