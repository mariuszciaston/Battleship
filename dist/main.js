(()=>{"use strict";const t=()=>{const t=["A","B","C","D","E","F","G","H","I","J"],e=["1","2","3","4","5","6","7","8","9","10"],o=[],r=(r,l)=>{const s=t.indexOf(r),a=e.indexOf(l);return-1===s||-1===a?null:o[a][s]},l=(r,l,s,a)=>{const n=t.indexOf(r),i=e.indexOf(l);return-1===n||-1===i?null:(o[i][n].status=s,a&&(o[i][n].takenBy=a),o[i][n])};return(()=>{for(let r=0;r<10;r+=1){o[r]=[];for(let l=0;l<10;l+=1)o[r][l]={col:t[l],row:e[r],status:"empty",takenBy:void 0}}})(),{clearBoard:()=>{for(let t=0;t<10;t+=1)for(let e=0;e<10;e+=1)o[t][e].status="empty",o[t][e].takenBy=void 0},getCell:r,setCell:l,placeShip:(o,s,a,n)=>{const i="horizontal"===n,c=i?t:e,u=c.indexOf(i?s:a);if(u<0||u+o.size>c.length)return!1;for(let t=0;t<o.size;t+=1){const e=i?c[u+t]:s,n=i?a:c[u+t];if("empty"!==r(e,n).status)return!1;l(e,n,"taken",o)}return!0},receiveAttack:(t,e)=>{const o=r(t,e);return"taken"===o.status?(o.takenBy.hit(),l(t,e,"hit"),o.status):"empty"===o.status?(l(t,e,"miss"),o.status):null},sinkShip:(t,e,o)=>{const r=t.getCell(e,o);if(r&&r.takenBy&&r.takenBy.isSunk()){t.array.flat().filter((t=>t.takenBy&&t.takenBy.name===r.takenBy.name)).forEach((e=>{[{col:0,row:-1},{col:0,row:1},{col:-1,row:0},{col:1,row:0},{col:-1,row:-1},{col:-1,row:1},{col:1,row:-1},{col:1,row:1}].forEach((o=>{const r=String.fromCharCode(e.col.charCodeAt(0)+o.col),l=(Number(e.row)+o.row).toString();t.getCell(r,l)&&t.receiveAttack(r,l)}))}))}},allSunk:()=>{for(let t=0;t<10;t+=1)for(let e=0;e<10;e+=1)if("taken"===o[t][e].status&&!o[t][e].takenBy.isSunk())return!1;return!0},array:o}},e=t=>{let e;return"Carrier"===t&&(e=5),"Battleship"===t&&(e=4),"Destroyer"===t&&(e=3),"Submarine"===t&&(e=3),"Patrol Boat"===t&&(e=2),{name:t,size:e,hitCount:0,isVertical:!1,rotate(){this.isVertical=!this.isVertical},hit(){this.hitCount+=1},isSunk(){return this.hitCount===e}}},o=()=>{const t=["A","B","C","D","E","F","G","H","I","J"];let e=null,o=null;e={col:"C",row:"5"},o={col:"B",row:"5"};let r=1,l=!1;const s=(t,a,n)=>{if(e.row===o.row)if(l){r=1,console.log("goRight");let i=String.fromCharCode(a.charCodeAt(0)+r);for(;t.getCell(i,n)&&"hit"===t.getCell(i,n).status;)r+=1,i=String.fromCharCode(a.charCodeAt(0)+r);if(t.getCell(i,n)&&"hit"!==t.getCell(i,n).status&&"miss"!==t.getCell(i,n).status){t.receiveAttack(i,n);const l=t.getCell(i,n);"hit"===l.status&&(e=o,o={col:l.col,row:l.row}),console.log("prevHit",e),console.log("lastHit",o),console.log("range",r),console.log("---------------"),r+=1}t.getCell(i,n)&&"miss"!==t.getCell(i,n).status||(r=1,l=!1),t.getCell(i,n)||s(t,i,n)}else{r=1,console.log("goLeft");let i=String.fromCharCode(a.charCodeAt(0)-r);for(;t.getCell(i,n)&&"hit"===t.getCell(i,n).status;)r+=1,i=String.fromCharCode(a.charCodeAt(0)-r);if(t.getCell(i,n)&&"hit"!==t.getCell(i,n).status&&"miss"!==t.getCell(i,n).status){t.receiveAttack(i,n);const l=t.getCell(i,n);"hit"===l.status&&(e=o,o={col:l.col,row:l.row}),console.log("prevHit",e),console.log("lastHit",o),console.log("range",r),console.log("---------------"),r+=1}t.getCell(i,n)&&"miss"!==t.getCell(i,n).status||(r=1,l=!0),t.getCell(i,n)||s(t,i,n)}};return{attack:(t,e,o)=>"hit"!==t.getCell(e,o).status&&"miss"!==t.getCell(e,o).status?t.receiveAttack(e,o):"already shot",randomAttack:r=>{let l,s;do{l=t[Math.floor(Math.random()*t.length)],s=Math.ceil(10*Math.random()).toString()}while("hit"===r.getCell(l,s).status||"miss"===r.getCell(l,s).status);if("hit"!==r.getCell(l,s).status&&"miss"!==r.getCell(l,s).status){const t=r.receiveAttack(l,s),a=r.getCell(l,s);return"hit"===a.status&&(e=o,o={col:a.col,row:a.row}),{result:t,col:l,row:s}}return{result:"already shot",col:l,row:s}},followupAttack:(t,l,s)=>{const a=[{col:0,row:-1},{col:0,row:1},{col:-1,row:0},{col:1,row:0}].filter((e=>{const o=String.fromCharCode(l.charCodeAt(0)+e.col),r=(Number(s)+e.row).toString(),a=t.getCell(o,r);return!(!a||"miss"===a.status||"hit"===a.status)}));if(a.length>0){const n=a[Math.floor(Math.random()*a.length)],i=String.fromCharCode(l.charCodeAt(0)+n.col),c=(Number(s)+n.row).toString();t.receiveAttack(i,c),r=1;const u=t.getCell(i,c);"hit"===u.status&&(e=o,o={col:u.col,row:u.row}),console.log("prevHit",e),console.log("lastHit",o),console.log("range",r),console.log("---------------")}else console.log("Nie ma dostępnych kierunków do ataku")},finishingAttack:s,prevHit:e,lastHit:o}};var r=function(t,e,o,r){return new(o||(o=Promise))((function(l,s){function a(t){try{i(r.next(t))}catch(t){s(t)}}function n(t){try{i(r.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?l(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,n)}i((r=r.apply(t,e||[])).next())}))};const l=(()=>{const t=document.querySelector("#wrapper"),e=document.createElement("div");e.id="boards",t.prepend(e);const o=document.querySelector("#playerVsComputer"),l=document.querySelector("#computerVsComputer"),s=document.querySelector("#newGame"),a=(t,e)=>{t.array.forEach((t=>{t.forEach((t=>{const o=(t=>{const e=document.createElement("div");return e.classList.add("cell"),e.classList.add(t.status),e.setAttribute("data-col",t.col),e.setAttribute("data-row",t.row),e})(t);e.append(o)}))}))},i=t=>{if(!t.target.classList.contains("hit")&&!t.target.classList.contains("miss")){return{col:t.target.getAttribute("data-col"),row:t.target.getAttribute("data-row")}}};const c=(t,e)=>{e.classList.remove("selected"),t.classList.contains("selected")||(t.classList.add("selected"),n.restart())};return o.addEventListener("click",(()=>c(o,l))),l.addEventListener("click",(()=>c(l,o))),s.addEventListener("click",(()=>r(void 0,void 0,void 0,(function*(){s.disabled=!0,s.textContent="Restarting",yield n.newGame(),s.textContent="New Game",s.disabled=!1})))),{renderBoard:t=>{const o=document.createElement("div");o.classList.add("board"),t===n.humanGameboard?o.id="firstBoard":t===n.computerGameboard&&(o.id="secondBoard"),a(t,o),e.append(o)},refreshBoard:t=>{const e=t===n.humanGameboard?"firstBoard":"secondBoard",o=document.querySelector(`#${e}`);o.innerHTML="",a(t,o)},handleUserInput:function(){return r(this,void 0,void 0,(function*(){const t=document.querySelectorAll("#secondBoard .cell");let e;do{e=yield new Promise((e=>{t.forEach((t=>{t.classList.contains("hit")||t.classList.contains("miss")||t.addEventListener("click",(t=>{e(i(t))}),{once:!0})}))}))}while(!e);return{col:e.col.toString(),row:e.row.toString()}}))},pVcBtn:o,cVcBtn:l}})(),s=l;var a=function(t,e,o,r){return new(o||(o=Promise))((function(l,s){function a(t){try{i(r.next(t))}catch(t){s(t)}}function n(t){try{i(r.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?l(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,n)}i((r=r.apply(t,e||[])).next())}))};const n=(()=>{const r=t(),l=t(),n=o(),i=o();let c=!1;const u=e("Carrier"),d=e("Battleship"),h=e("Destroyer"),g=e("Submarine"),f=e("Patrol Boat"),m=e("Carrier"),p=e("Battleship"),C=e("Destroyer"),w=e("Submarine"),k=e("Patrol Boat"),v=()=>{r.placeShip(u,"A","1","horizontal"),r.placeShip(d,"A","3","horizontal"),r.placeShip(h,"A","5","horizontal"),r.placeShip(g,"A","7","horizontal"),r.placeShip(f,"A","9","horizontal"),l.placeShip(m,"A","1","vertical"),l.placeShip(p,"C","1","vertical"),l.placeShip(C,"E","1","vertical"),l.placeShip(w,"G","1","vertical"),l.placeShip(k,"I","1","vertical")},y=()=>l.allSunk()?(console.log("All computer ships are sunk. Human player won!"),!0):!!r.allSunk()&&(console.log("All human ships are sunk. Computer player won!"),!0),B=t=>{if((t=>t.array.flat().some((t=>"hit"===t.status&&!1===t.takenBy.isSunk())))(t))null!==i.lastHit&&t.getCell(i.lastHit.col,i.lastHit.row).takenBy.hitCount>=2&&t.getCell(i.lastHit.col,i.lastHit.row).takenBy.hitCount<=4?(console.log("FINISH: >= 2 trafienia w statek"),i.finishingAttack(t,i.lastHit.col,i.lastHit.row),t.sinkShip(t,i.lastHit.col,i.lastHit.row)):(i.followupAttack(t,i.lastHit.col,i.lastHit.row),t.sinkShip(t,i.lastHit.col,i.lastHit.row));else{const{col:e,row:o}=i.randomAttack(t);"hit"===t.getCell(e,o).status&&(i.prevHit=i.lastHit,i.lastHit={col:e,row:o},console.log("prevHit",i.prevHit),console.log("lastHit",i.lastHit),console.log("---------------")),"hit"===t.getCell(e,o).status&&t.getCell(e,o).takenBy.isSunk()&&(t.sinkShip(t,e,o),y()&&console.log("koniec"))}},S=()=>s.pVcBtn.classList.contains("selected")?a(void 0,void 0,void 0,(function*(){let t=!0;for(;!y()&&!c;){if(t){const{col:e,row:o}=yield s.handleUserInput();n.attack(l,e,o),l.sinkShip(l,e,o),s.refreshBoard(l),t=!1}if(!t){if(yield new Promise((t=>setTimeout(t,100))),!s.pVcBtn.classList.contains("selected")||c)break;B(r),s.refreshBoard(r),t=!0}}c=!1})):s.cVcBtn.classList.contains("selected")?a(void 0,void 0,void 0,(function*(){let t=!0;for(;!y()&&!c;){if(t){if(yield new Promise((t=>setTimeout(t,500))),!s.cVcBtn.classList.contains("selected")||c)break;const{col:e,row:o}=i.randomAttack(r);r.sinkShip(r,e,o),s.refreshBoard(r),t=!1}if(!t){if(yield new Promise((t=>setTimeout(t,500))),!s.cVcBtn.classList.contains("selected")||c)break;const{col:e,row:o}=n.randomAttack(l);l.sinkShip(l,e,o),s.refreshBoard(l),t=!0}}c=!1})):void 0,A=()=>{i.prevHit=null,i.lastHit=null,r.clearBoard(),l.clearBoard(),v(),s.refreshBoard(r),s.refreshBoard(l),S()};return{start:()=>{v(),r.receiveAttack("B","5"),r.receiveAttack("C","5"),s.renderBoard(r),s.renderBoard(l),S()},humanGameboard:r,computerGameboard:l,newGame:()=>a(void 0,void 0,void 0,(function*(){c=!0,yield new Promise((t=>setTimeout(t,1e3))),c=!1,A()})),restart:A}})();n.start()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQUEsTUE0R0EsRUE1R3lCLEtBQ3JCLE1BQU1BLEVBQU8sQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxLQUNyREMsRUFBTyxDQUFDLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLE1BQ3JEQyxFQUFRLEdBaUJSQyxFQUFVLENBQUNDLEVBQUtDLEtBQ2xCLE1BQU1DLEVBQVdOLEVBQUtPLFFBQVFILEdBQ3hCSSxFQUFXUCxFQUFLTSxRQUFRRixHQUM5QixPQUFrQixJQUFkQyxJQUFpQyxJQUFkRSxFQUNaLEtBRUpOLEVBQU1NLEdBQVVGLEVBQVMsRUFFOUJHLEVBQVUsQ0FBQ0wsRUFBS0MsRUFBS0ssRUFBV0MsS0FDbEMsTUFBTUwsRUFBV04sRUFBS08sUUFBUUgsR0FDeEJJLEVBQVdQLEVBQUtNLFFBQVFGLEdBQzlCLE9BQWtCLElBQWRDLElBQWlDLElBQWRFLEVBQ1osTUFFWE4sRUFBTU0sR0FBVUYsR0FBVU0sT0FBU0YsRUFDL0JDLElBQ0FULEVBQU1NLEdBQVVGLEdBQVVPLFFBQVVGLEdBRWpDVCxFQUFNTSxHQUFVRixHQUFTLEVBb0VwQyxNQXRHc0IsTUFDbEIsSUFBSyxJQUFJUSxFQUFJLEVBQUdBLEVBQUksR0FBSUEsR0FBSyxFQUFHLENBQzVCWixFQUFNWSxHQUFLLEdBQ1gsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUksR0FBSUEsR0FBSyxFQUN6QmIsRUFBTVksR0FBR0MsR0FBSyxDQUFFWCxJQUFLSixFQUFLZSxHQUFJVixJQUFLSixFQUFLYSxHQUFJRixPQUFRLFFBQVNDLGFBQVNHLEVBRTlFLEdBK0ZKQyxHQUNPLENBQUVDLFdBOUZVLEtBQ2YsSUFBSyxJQUFJSixFQUFJLEVBQUdBLEVBQUksR0FBSUEsR0FBSyxFQUN6QixJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxHQUFLLEVBQ3pCYixFQUFNWSxHQUFHQyxHQUFHSCxPQUFTLFFBQ3JCVixFQUFNWSxHQUFHQyxHQUFHRixhQUFVRyxDQUU5QixFQXdGaUJiLFVBQVNNLFVBQVNVLFVBbEVyQixDQUFDQyxFQUFNaEIsRUFBS0MsRUFBS2dCLEtBQy9CLE1BQU1DLEVBQStCLGVBQWhCRCxFQUNmRSxFQUFRRCxFQUFldEIsRUFBT0MsRUFDOUJ1QixFQUFRRCxFQUFNaEIsUUFBUWUsRUFBZWxCLEVBQU1DLEdBQ2pELEdBQUltQixFQUFRLEdBQUtBLEVBQVFKLEVBQUtLLEtBQU9GLEVBQU1HLE9BQ3ZDLE9BQU8sRUFFWCxJQUFLLElBQUlaLEVBQUksRUFBR0EsRUFBSU0sRUFBS0ssS0FBTVgsR0FBSyxFQUFHLENBQ25DLE1BQU1hLEVBQWFMLEVBQWVDLEVBQU1DLEVBQVFWLEdBQUtWLEVBQy9Dd0IsRUFBYU4sRUFBZWpCLEVBQU1rQixFQUFNQyxFQUFRVixHQUN0RCxHQUErQyxVQUEzQ1gsRUFBUXdCLEVBQVlDLEdBQVloQixPQUNoQyxPQUFPLEVBRVhILEVBQVFrQixFQUFZQyxFQUFZLFFBQVNSLEVBQzdDLENBQ0EsT0FBTyxDQUFJLEVBbURtQ1MsY0FqRDVCLENBQUN6QixFQUFLQyxLQUN4QixNQUFNeUIsRUFBTzNCLEVBQVFDLEVBQUtDLEdBQzFCLE1BQW9CLFVBQWhCeUIsRUFBS2xCLFFBQ0xrQixFQUFLakIsUUFBUWtCLE1BQ2J0QixFQUFRTCxFQUFLQyxFQUFLLE9BQ1h5QixFQUFLbEIsUUFFSSxVQUFoQmtCLEVBQUtsQixRQUNMSCxFQUFRTCxFQUFLQyxFQUFLLFFBQ1h5QixFQUFLbEIsUUFFVCxJQUFJLEVBc0NrRG9CLFNBcENoRCxDQUFDQyxFQUFXN0IsRUFBS0MsS0FDOUIsTUFBTXlCLEVBQU9HLEVBQVU5QixRQUFRQyxFQUFLQyxHQUNwQyxHQUFJeUIsR0FBUUEsRUFBS2pCLFNBQVdpQixFQUFLakIsUUFBUXFCLFNBQVUsQ0FDN0JELEVBQVUvQixNQUFNaUMsT0FBT0MsUUFBUUMsR0FBTUEsRUFBRXhCLFNBQVd3QixFQUFFeEIsUUFBUXlCLE9BQVNSLEVBQUtqQixRQUFReUIsT0FDMUZDLFNBQVNULElBQ0ksQ0FDZixDQUFFMUIsSUFBSyxFQUFHQyxLQUFNLEdBQ2hCLENBQUVELElBQUssRUFBR0MsSUFBSyxHQUNmLENBQUVELEtBQU0sRUFBR0MsSUFBSyxHQUNoQixDQUFFRCxJQUFLLEVBQUdDLElBQUssR0FDZixDQUFFRCxLQUFNLEVBQUdDLEtBQU0sR0FDakIsQ0FBRUQsS0FBTSxFQUFHQyxJQUFLLEdBQ2hCLENBQUVELElBQUssRUFBR0MsS0FBTSxHQUNoQixDQUFFRCxJQUFLLEVBQUdDLElBQUssSUFFUmtDLFNBQVNDLElBQ2hCLE1BQU1DLEVBQVNDLE9BQU9DLGFBQWFiLEVBQUsxQixJQUFJd0MsV0FBVyxHQUFLSixFQUFVcEMsS0FDaEV5QyxHQUFVQyxPQUFPaEIsRUFBS3pCLEtBQU9tQyxFQUFVbkMsS0FBSzBDLFdBQzlDZCxFQUFVOUIsUUFBUXNDLEVBQVFJLElBQzFCWixFQUFVSixjQUFjWSxFQUFRSSxFQUNwQyxHQUNGLEdBRVYsR0FhdUVHLFFBWDNELEtBQ1osSUFBSyxJQUFJbEMsRUFBSSxFQUFHQSxFQUFJLEdBQUlBLEdBQUssRUFDekIsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUksR0FBSUEsR0FBSyxFQUN6QixHQUEyQixVQUF2QmIsRUFBTVksR0FBR0MsR0FBR0gsU0FBdUJWLEVBQU1ZLEdBQUdDLEdBQUdGLFFBQVFxQixTQUN2RCxPQUFPLEVBSW5CLE9BQU8sQ0FBSSxFQUdxRWhDLFFBQU8sRUN6RS9GLEVBakNxQm9DLElBQ2pCLElBQUliLEVBZ0JKLE1BZmEsWUFBVGEsSUFDQWIsRUFBTyxHQUVFLGVBQVRhLElBQ0FiLEVBQU8sR0FFRSxjQUFUYSxJQUNBYixFQUFPLEdBRUUsY0FBVGEsSUFDQWIsRUFBTyxHQUVFLGdCQUFUYSxJQUNBYixFQUFPLEdBRUosQ0FDSGEsT0FDQWIsT0FDQXdCLFNBQVUsRUFDVkMsWUFBWSxFQUNaLE1BQUFDLEdBQ0lDLEtBQUtGLFlBQWNFLEtBQUtGLFVBQzVCLEVBQ0EsR0FBQW5CLEdBQ0lxQixLQUFLSCxVQUFZLENBQ3JCLEVBQ0EsTUFBQWYsR0FDSSxPQUFPa0IsS0FBS0gsV0FBYXhCLENBQzdCLEVBQ0gsRUMySEwsRUExSnNCLEtBQ2xCLE1BQU16QixFQUFPLENBQUMsSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDM0QsSUFBSXFELEVBQVUsS0FDVkMsRUFBVSxLQUNkRCxFQUFVLENBQUVqRCxJQUFLLElBQUtDLElBQUssS0FDM0JpRCxFQUFVLENBQUVsRCxJQUFLLElBQUtDLElBQUssS0FtRTNCLElBQUlrRCxFQUFRLEVBQ1JDLEdBQVUsRUFDZCxNQUFNQyxFQUFrQixDQUFDeEIsRUFBVzdCLEVBQUtDLEtBQ3JDLEdBQUlnRCxFQUFRaEQsTUFBUWlELEVBQVFqRCxJQUV4QixHQUFJbUQsRUFBUyxDQUNURCxFQUFRLEVBQ1JHLFFBQVFDLElBQUksV0FDWixJQUFJbEIsRUFBU0MsT0FBT0MsYUFBYXZDLEVBQUl3QyxXQUFXLEdBQUtXLEdBQ3JELEtBQU90QixFQUFVOUIsUUFBUXNDLEVBQVFwQyxJQUFrRCxRQUExQzRCLEVBQVU5QixRQUFRc0MsRUFBUXBDLEdBQUtPLFFBQ3BFMkMsR0FBUyxFQUNUZCxFQUFTQyxPQUFPQyxhQUFhdkMsRUFBSXdDLFdBQVcsR0FBS1csR0FFckQsR0FBSXRCLEVBQVU5QixRQUFRc0MsRUFBUXBDLElBQWtELFFBQTFDNEIsRUFBVTlCLFFBQVFzQyxFQUFRcEMsR0FBS08sUUFBOEQsU0FBMUNxQixFQUFVOUIsUUFBUXNDLEVBQVFwQyxHQUFLTyxPQUFtQixDQUN2SXFCLEVBQVVKLGNBQWNZLEVBQVFwQyxHQUNoQyxNQUFNeUIsRUFBT0csRUFBVTlCLFFBQVFzQyxFQUFRcEMsR0FDbkIsUUFBaEJ5QixFQUFLbEIsU0FDTHlDLEVBQVVDLEVBQ1ZBLEVBQVUsQ0FDTmxELElBQUswQixFQUFLMUIsSUFDVkMsSUFBS3lCLEVBQUt6QixNQUdsQnFELFFBQVFDLElBQUksVUFBV04sR0FDdkJLLFFBQVFDLElBQUksVUFBV0wsR0FDdkJJLFFBQVFDLElBQUksUUFBU0osR0FDckJHLFFBQVFDLElBQUksbUJBQ1pKLEdBQVMsQ0FDYixDQUNLdEIsRUFBVTlCLFFBQVFzQyxFQUFRcEMsSUFBa0QsU0FBMUM0QixFQUFVOUIsUUFBUXNDLEVBQVFwQyxHQUFLTyxTQUNsRTJDLEVBQVEsRUFDUkMsR0FBVSxHQUdUdkIsRUFBVTlCLFFBQVFzQyxFQUFRcEMsSUFDM0JvRCxFQUFnQnhCLEVBQVdRLEVBQVFwQyxFQUkzQyxLQUNLLENBQ0RrRCxFQUFRLEVBQ1JHLFFBQVFDLElBQUksVUFDWixJQUFJbEIsRUFBU0MsT0FBT0MsYUFBYXZDLEVBQUl3QyxXQUFXLEdBQUtXLEdBQ3JELEtBQU90QixFQUFVOUIsUUFBUXNDLEVBQVFwQyxJQUFrRCxRQUExQzRCLEVBQVU5QixRQUFRc0MsRUFBUXBDLEdBQUtPLFFBQ3BFMkMsR0FBUyxFQUNUZCxFQUFTQyxPQUFPQyxhQUFhdkMsRUFBSXdDLFdBQVcsR0FBS1csR0FFckQsR0FBSXRCLEVBQVU5QixRQUFRc0MsRUFBUXBDLElBQWtELFFBQTFDNEIsRUFBVTlCLFFBQVFzQyxFQUFRcEMsR0FBS08sUUFBOEQsU0FBMUNxQixFQUFVOUIsUUFBUXNDLEVBQVFwQyxHQUFLTyxPQUFtQixDQUN2SXFCLEVBQVVKLGNBQWNZLEVBQVFwQyxHQUNoQyxNQUFNeUIsRUFBT0csRUFBVTlCLFFBQVFzQyxFQUFRcEMsR0FDbkIsUUFBaEJ5QixFQUFLbEIsU0FDTHlDLEVBQVVDLEVBQ1ZBLEVBQVUsQ0FDTmxELElBQUswQixFQUFLMUIsSUFDVkMsSUFBS3lCLEVBQUt6QixNQUdsQnFELFFBQVFDLElBQUksVUFBV04sR0FDdkJLLFFBQVFDLElBQUksVUFBV0wsR0FDdkJJLFFBQVFDLElBQUksUUFBU0osR0FDckJHLFFBQVFDLElBQUksbUJBQ1pKLEdBQVMsQ0FDYixDQUNLdEIsRUFBVTlCLFFBQVFzQyxFQUFRcEMsSUFBa0QsU0FBMUM0QixFQUFVOUIsUUFBUXNDLEVBQVFwQyxHQUFLTyxTQUNsRTJDLEVBQVEsRUFDUkMsR0FBVSxHQUdUdkIsRUFBVTlCLFFBQVFzQyxFQUFRcEMsSUFDM0JvRCxFQUFnQnhCLEVBQVdRLEVBQVFwQyxFQUkzQyxDQUlKLEVBRUosTUFBTyxDQUFFdUQsT0FsSk0sQ0FBQzNCLEVBQVc3QixFQUFLQyxJQUNlLFFBQXZDNEIsRUFBVTlCLFFBQVFDLEVBQUtDLEdBQUtPLFFBQTJELFNBQXZDcUIsRUFBVTlCLFFBQVFDLEVBQUtDLEdBQUtPLE9BQ3JFcUIsRUFBVUosY0FBY3pCLEVBQUtDLEdBRWpDLGVBOElNd0QsYUE1SUs1QixJQUNsQixJQUFJNkIsRUFDQUMsRUFDSixHQUNJRCxFQUFZOUQsRUFBS2dFLEtBQUtDLE1BQU1ELEtBQUtFLFNBQVdsRSxFQUFLMEIsU0FDakRxQyxFQUFZQyxLQUFLRyxLQUFxQixHQUFoQkgsS0FBS0UsVUFBZW5CLGlCQUNjLFFBQW5EZCxFQUFVOUIsUUFBUTJELEVBQVdDLEdBQVduRCxRQUF1RSxTQUFuRHFCLEVBQVU5QixRQUFRMkQsRUFBV0MsR0FBV25ELFFBQzdHLEdBQXVELFFBQW5EcUIsRUFBVTlCLFFBQVEyRCxFQUFXQyxHQUFXbkQsUUFBdUUsU0FBbkRxQixFQUFVOUIsUUFBUTJELEVBQVdDLEdBQVduRCxPQUFtQixDQUN2SCxNQUFNd0QsRUFBU25DLEVBQVVKLGNBQWNpQyxFQUFXQyxHQUM1Q2pDLEVBQU9HLEVBQVU5QixRQUFRMkQsRUFBV0MsR0FRMUMsTUFQb0IsUUFBaEJqQyxFQUFLbEIsU0FDTHlDLEVBQVVDLEVBQ1ZBLEVBQVUsQ0FDTmxELElBQUswQixFQUFLMUIsSUFDVkMsSUFBS3lCLEVBQUt6QixNQUdYLENBQUUrRCxTQUFRaEUsSUFBSzBELEVBQVd6RCxJQUFLMEQsRUFDMUMsQ0FDQSxNQUFPLENBQUVLLE9BQVEsZUFBZ0JoRSxJQUFLMEQsRUFBV3pELElBQUswRCxFQUFXLEVBeUh0Q00sZUF2SFIsQ0FBQ3BDLEVBQVc3QixFQUFLQyxLQUNwQyxNQU1NaUUsRUFOYSxDQUNmLENBQUVsRSxJQUFLLEVBQUdDLEtBQU0sR0FDaEIsQ0FBRUQsSUFBSyxFQUFHQyxJQUFLLEdBQ2YsQ0FBRUQsS0FBTSxFQUFHQyxJQUFLLEdBQ2hCLENBQUVELElBQUssRUFBR0MsSUFBSyxJQUVnQitCLFFBQVFJLElBQ3ZDLE1BQU1DLEVBQVNDLE9BQU9DLGFBQWF2QyxFQUFJd0MsV0FBVyxHQUFLSixFQUFVcEMsS0FDM0R5QyxHQUFVQyxPQUFPekMsR0FBT21DLEVBQVVuQyxLQUFLMEMsV0FDdkNqQixFQUFPRyxFQUFVOUIsUUFBUXNDLEVBQVFJLEdBQ3ZDLFNBQUlmLEdBQXdCLFNBQWhCQSxFQUFLbEIsUUFBcUMsUUFBaEJrQixFQUFLbEIsT0FHL0IsSUFFaEIsR0FBSTBELEVBQWdCNUMsT0FBUyxFQUFHLENBQzVCLE1BQU02QyxFQUFrQkQsRUFBZ0JOLEtBQUtDLE1BQU1ELEtBQUtFLFNBQVdJLEVBQWdCNUMsU0FDN0VlLEVBQVNDLE9BQU9DLGFBQWF2QyxFQUFJd0MsV0FBVyxHQUFLMkIsRUFBZ0JuRSxLQUNqRXlDLEdBQVVDLE9BQU96QyxHQUFPa0UsRUFBZ0JsRSxLQUFLMEMsV0FDbkRkLEVBQVVKLGNBQWNZLEVBQVFJLEdBQ2hDVSxFQUFRLEVBQ1IsTUFBTXpCLEVBQU9HLEVBQVU5QixRQUFRc0MsRUFBUUksR0FDbkIsUUFBaEJmLEVBQUtsQixTQUNMeUMsRUFBVUMsRUFDVkEsRUFBVSxDQUNObEQsSUFBSzBCLEVBQUsxQixJQUNWQyxJQUFLeUIsRUFBS3pCLE1BR2xCcUQsUUFBUUMsSUFBSSxVQUFXTixHQUN2QkssUUFBUUMsSUFBSSxVQUFXTCxHQUN2QkksUUFBUUMsSUFBSSxRQUFTSixHQUNyQkcsUUFBUUMsSUFBSSxrQkFDaEIsTUFFSUQsUUFBUUMsSUFBSSx1Q0FDaEIsRUFrRjJDRixrQkFBaUJKLFVBQVNDLFVBQVMsRUN4SnRGLElBQUlrQixFQUF3QyxTQUFVQyxFQUFTQyxFQUFZQyxFQUFHQyxHQUUxRSxPQUFPLElBQUtELElBQU1BLEVBQUlFLFdBQVUsU0FBVUMsRUFBU0MsR0FDL0MsU0FBU0MsRUFBVUMsR0FBUyxJQUFNQyxFQUFLTixFQUFVTyxLQUFLRixHQUFTLENBQUUsTUFBT0csR0FBS0wsRUFBT0ssRUFBSSxDQUFFLENBQzFGLFNBQVNDLEVBQVNKLEdBQVMsSUFBTUMsRUFBS04sRUFBaUIsTUFBRUssR0FBUyxDQUFFLE1BQU9HLEdBQUtMLEVBQU9LLEVBQUksQ0FBRSxDQUM3RixTQUFTRixFQUFLZCxHQUpsQixJQUFlYSxFQUlhYixFQUFPa0IsS0FBT1IsRUFBUVYsRUFBT2EsUUFKMUNBLEVBSXlEYixFQUFPYSxNQUpoREEsYUFBaUJOLEVBQUlNLEVBQVEsSUFBSU4sR0FBRSxTQUFVRyxHQUFXQSxFQUFRRyxFQUFRLEtBSWpCTSxLQUFLUCxFQUFXSyxFQUFXLENBQzdHSCxHQUFNTixFQUFZQSxFQUFVWSxNQUFNZixFQUFTQyxHQUFjLEtBQUtTLE9BQ2xFLEdBQ0osRUFFQSxNQUFNTSxFQUFLLE1BQ1AsTUFBTUMsRUFBVUMsU0FBU0MsY0FBYyxZQUNqQ0MsRUFBU0YsU0FBU0csY0FBYyxPQUN0Q0QsRUFBT0UsR0FBSyxTQUNaTCxFQUFRTSxRQUFRSCxHQUNoQixNQUFNSSxFQUFTTixTQUFTQyxjQUFjLHFCQUNoQ00sRUFBU1AsU0FBU0MsY0FBYyx1QkFDaENPLEVBQWFSLFNBQVNDLGNBQWMsWUFTcENRLEVBQWMsQ0FBQ25FLEVBQVdvRSxLQUM1QnBFLEVBQVUvQixNQUFNcUMsU0FBU2xDLElBQ3JCQSxFQUFJa0MsU0FBU25DLElBQ1QsTUFBTTBCLEVBWEMsQ0FBQzFCLElBQ2hCLE1BQU0wQixFQUFPNkQsU0FBU0csY0FBYyxPQUtwQyxPQUpBaEUsRUFBS3dFLFVBQVVDLElBQUksUUFDbkJ6RSxFQUFLd0UsVUFBVUMsSUFBSW5HLEVBQUlRLFFBQ3ZCa0IsRUFBSzBFLGFBQWEsV0FBWXBHLEVBQUlBLEtBQ2xDMEIsRUFBSzBFLGFBQWEsV0FBWXBHLEVBQUlDLEtBQzNCeUIsQ0FBSSxFQUtVMkUsQ0FBV3JHLEdBQ3hCaUcsRUFBTUssT0FBTzVFLEVBQUssR0FDcEIsR0FDSixFQW9CQTZFLEVBQWdCdkIsSUFDbEIsSUFBS0EsRUFBRXdCLE9BQU9OLFVBQVVPLFNBQVMsU0FBV3pCLEVBQUV3QixPQUFPTixVQUFVTyxTQUFTLFFBQVMsQ0FHN0UsTUFBTyxDQUFFekcsSUFGR2dGLEVBQUV3QixPQUFPRSxhQUFhLFlBRXBCekcsSUFERitFLEVBQUV3QixPQUFPRSxhQUFhLFlBRXRDLEdBc0JKLE1BT01DLEVBQWlCLENBQUNDLEVBQWlCQyxLQUNyQ0EsRUFBa0JYLFVBQVVZLE9BQU8sWUFDOUJGLEVBQWdCVixVQUFVTyxTQUFTLGNBQ3BDRyxFQUFnQlYsVUFBVUMsSUFBSSxZQUM5QixFQUFXWSxVQUNmLEVBS0osT0FIQWxCLEVBQU9tQixpQkFBaUIsU0FBUyxJQUFNTCxFQUFlZCxFQUFRQyxLQUM5REEsRUFBT2tCLGlCQUFpQixTQUFTLElBQU1MLEVBQWViLEVBQVFELEtBQzlERSxFQUFXaUIsaUJBQWlCLFNBaEJOLElBQU01QyxPQUFVLE9BQVEsT0FBUSxHQUFRLFlBQzFEMkIsRUFBV2tCLFVBQVcsRUFDdEJsQixFQUFXbUIsWUFBYyxtQkFDbkIsRUFBV0MsVUFDakJwQixFQUFXbUIsWUFBYyxXQUN6Qm5CLEVBQVdrQixVQUFXLENBQzFCLE1BV08sQ0FBRUcsWUE5RFl2RixJQUNqQixNQUFNb0UsRUFBUVYsU0FBU0csY0FBYyxPQUNyQ08sRUFBTUMsVUFBVUMsSUFBSSxTQUNoQnRFLElBQWMsRUFBV3dGLGVBQ3pCcEIsRUFBTU4sR0FBSyxhQUVOOUQsSUFBYyxFQUFXeUYsb0JBQzlCckIsRUFBTU4sR0FBSyxlQUVmSyxFQUFZbkUsRUFBV29FLEdBQ3ZCUixFQUFPYSxPQUFPTCxFQUFNLEVBb0RGc0IsYUFsREExRixJQUNsQixNQUFNMkYsRUFBVTNGLElBQWMsRUFBV3dGLGVBQWlCLGFBQWUsY0FDbkVwQixFQUFRVixTQUFTQyxjQUFjLElBQUlnQyxLQUN6Q3ZCLEVBQU13QixVQUFZLEdBQ2xCekIsRUFBWW5FLEVBQVdvRSxFQUFNLEVBOENHeUIsZ0JBckNwQyxXQUNJLE9BQU90RCxFQUFVcEIsVUFBTSxPQUFRLEdBQVEsWUFDbkMsTUFBTTdCLEVBQVFvRSxTQUFTb0MsaUJBQWlCLHNCQUN4QyxJQUFJQyxFQUNKLEdBQ0lBLFFBQWtCLElBQUluRCxTQUFTQyxJQUMzQnZELEVBQU1nQixTQUFTVCxJQUNOQSxFQUFLd0UsVUFBVU8sU0FBUyxRQUFXL0UsRUFBS3dFLFVBQVVPLFNBQVMsU0FDNUQvRSxFQUFLc0YsaUJBQWlCLFNBQVVoQyxJQUM1Qk4sRUFBUTZCLEVBQWF2QixHQUFHLEdBQ3pCLENBQUU2QyxNQUFNLEdBQ2YsR0FDRixXQUVBRCxHQUdWLE1BQU8sQ0FBRTVILElBRkc0SCxFQUFVNUgsSUFBSTJDLFdBRVoxQyxJQURGMkgsRUFBVTNILElBQUkwQyxXQUU5QixHQUNKLEVBa0JxRGtELFNBQVFDLFNBQ2hFLEVBdkZVLEdBd0ZYLElDbEdBLElBQUksRUFBd0MsU0FBVXpCLEVBQVNDLEVBQVlDLEVBQUdDLEdBRTFFLE9BQU8sSUFBS0QsSUFBTUEsRUFBSUUsV0FBVSxTQUFVQyxFQUFTQyxHQUMvQyxTQUFTQyxFQUFVQyxHQUFTLElBQU1DLEVBQUtOLEVBQVVPLEtBQUtGLEdBQVMsQ0FBRSxNQUFPRyxHQUFLTCxFQUFPSyxFQUFJLENBQUUsQ0FDMUYsU0FBU0MsRUFBU0osR0FBUyxJQUFNQyxFQUFLTixFQUFpQixNQUFFSyxHQUFTLENBQUUsTUFBT0csR0FBS0wsRUFBT0ssRUFBSSxDQUFFLENBQzdGLFNBQVNGLEVBQUtkLEdBSmxCLElBQWVhLEVBSWFiLEVBQU9rQixLQUFPUixFQUFRVixFQUFPYSxRQUoxQ0EsRUFJeURiLEVBQU9hLE1BSmhEQSxhQUFpQk4sRUFBSU0sRUFBUSxJQUFJTixHQUFFLFNBQVVHLEdBQVdBLEVBQVFHLEVBQVEsS0FJakJNLEtBQUtQLEVBQVdLLEVBQVcsQ0FDN0dILEdBQU1OLEVBQVlBLEVBQVVZLE1BQU1mLEVBQVNDLEdBQWMsS0FBS1MsT0FDbEUsR0FDSixFQUtBLE1BcUtBLEVBckttQixNQUNmLE1BQU1zQyxFQUFpQnhGLElBQ2pCeUYsRUFBb0J6RixJQUNwQmlHLEVBQVFDLElBQ1JDLEVBQVdELElBQ2pCLElBQUlFLEdBQVksRUFDaEIsTUFBTUMsRUFBZWxILEVBQVksV0FDM0JtSCxFQUFrQm5ILEVBQVksY0FDOUJvSCxFQUFpQnBILEVBQVksYUFDN0JxSCxFQUFpQnJILEVBQVksYUFDN0JzSCxFQUFrQnRILEVBQVksZUFDOUJ1SCxFQUFrQnZILEVBQVksV0FDOUJ3SCxFQUFxQnhILEVBQVksY0FDakN5SCxFQUFvQnpILEVBQVksYUFDaEMwSCxFQUFvQjFILEVBQVksYUFDaEMySCxFQUFxQjNILEVBQVksZUFDakM0SCxFQUFvQixLQUN0QnZCLEVBQWV0RyxVQUFVbUgsRUFBYyxJQUFLLElBQUssY0FDakRiLEVBQWV0RyxVQUFVb0gsRUFBaUIsSUFBSyxJQUFLLGNBQ3BEZCxFQUFldEcsVUFBVXFILEVBQWdCLElBQUssSUFBSyxjQUNuRGYsRUFBZXRHLFVBQVVzSCxFQUFnQixJQUFLLElBQUssY0FDbkRoQixFQUFldEcsVUFBVXVILEVBQWlCLElBQUssSUFBSyxjQUNwRGhCLEVBQWtCdkcsVUFBVXdILEVBQWlCLElBQUssSUFBSyxZQUN2RGpCLEVBQWtCdkcsVUFBVXlILEVBQW9CLElBQUssSUFBSyxZQUMxRGxCLEVBQWtCdkcsVUFBVTBILEVBQW1CLElBQUssSUFBSyxZQUN6RG5CLEVBQWtCdkcsVUFBVTJILEVBQW1CLElBQUssSUFBSyxZQUN6RHBCLEVBQWtCdkcsVUFBVTRILEVBQW9CLElBQUssSUFBSyxXQUFXLEVBRW5FRSxFQUFhLElBQ1h2QixFQUFrQjFFLFdBQ2xCVSxRQUFRQyxJQUFJLG1EQUNMLEtBRVA4RCxFQUFlekUsWUFDZlUsUUFBUUMsSUFBSSxtREFDTCxHQWFUdUYsRUFBY2pILElBQ2hCLEdBVmtCLENBQUNBLEdBQ0lBLEVBQVUvQixNQUFNaUMsT0FDakJnSCxNQUFNckgsR0FDSixRQUFoQkEsRUFBS2xCLFNBQThDLElBQTFCa0IsRUFBS2pCLFFBQVFxQixXQU8xQ2tILENBQWNuSCxHQUdPLE9BQXJCbUcsRUFBUzlFLFNBQ0xyQixFQUFVOUIsUUFBUWlJLEVBQVM5RSxRQUFRbEQsSUFBS2dJLEVBQVM5RSxRQUFRakQsS0FBS1EsUUFBUW9DLFVBQVksR0FDbEZoQixFQUFVOUIsUUFBUWlJLEVBQVM5RSxRQUFRbEQsSUFBS2dJLEVBQVM5RSxRQUFRakQsS0FBS1EsUUFBUW9DLFVBQVksR0FDbEZTLFFBQVFDLElBQUksbUNBQ1p5RSxFQUFTM0UsZ0JBQWdCeEIsRUFBV21HLEVBQVM5RSxRQUFRbEQsSUFBS2dJLEVBQVM5RSxRQUFRakQsS0FDM0U0QixFQUFVRCxTQUFTQyxFQUFXbUcsRUFBUzlFLFFBQVFsRCxJQUFLZ0ksRUFBUzlFLFFBQVFqRCxPQUdyRStILEVBQVMvRCxlQUFlcEMsRUFBV21HLEVBQVM5RSxRQUFRbEQsSUFBS2dJLEVBQVM5RSxRQUFRakQsS0FDMUU0QixFQUFVRCxTQUFTQyxFQUFXbUcsRUFBUzlFLFFBQVFsRCxJQUFLZ0ksRUFBUzlFLFFBQVFqRCxVQUd4RSxDQUNELE1BQU0sSUFBRUQsRUFBRyxJQUFFQyxHQUFRK0gsRUFBU3ZFLGFBQWE1QixHQUNBLFFBQXZDQSxFQUFVOUIsUUFBUUMsRUFBS0MsR0FBS08sU0FDNUJ3SCxFQUFTL0UsUUFBVStFLEVBQVM5RSxRQUM1QjhFLEVBQVM5RSxRQUFVLENBQUVsRCxNQUFLQyxPQUMxQnFELFFBQVFDLElBQUksVUFBV3lFLEVBQVMvRSxTQUNoQ0ssUUFBUUMsSUFBSSxVQUFXeUUsRUFBUzlFLFNBQ2hDSSxRQUFRQyxJQUFJLG9CQUUyQixRQUF2QzFCLEVBQVU5QixRQUFRQyxFQUFLQyxHQUFLTyxRQUFvQnFCLEVBQVU5QixRQUFRQyxFQUFLQyxHQUFLUSxRQUFRcUIsV0FDcEZELEVBQVVELFNBQVNDLEVBQVc3QixFQUFLQyxHQUMvQjRJLEtBQ0F2RixRQUFRQyxJQUFJLFVBR3hCLEdBa0RFMEYsRUFBZSxJQUNiLEVBQUdwRCxPQUFPSyxVQUFVTyxTQUFTLFlBakRGLE9BQVUsT0FBUSxPQUFRLEdBQVEsWUFDakUsSUFBSXlDLEdBQWUsRUFDbkIsTUFBUUwsTUFBaUJaLEdBQVcsQ0FDaEMsR0FBSWlCLEVBQWMsQ0FDZCxNQUFNLElBQUVsSixFQUFHLElBQUVDLFNBQWMsRUFBR3lILGtCQUM5QkksRUFBTXRFLE9BQU84RCxFQUFtQnRILEVBQUtDLEdBQ3JDcUgsRUFBa0IxRixTQUFTMEYsRUFBbUJ0SCxFQUFLQyxHQUNuRCxFQUFHc0gsYUFBYUQsR0FDaEI0QixHQUFlLENBQ25CLENBQ0EsSUFBS0EsRUFBYyxDQUVmLFNBRE0sSUFBSXpFLFNBQVNDLEdBQVl5RSxXQUFXekUsRUFBUyxRQUM5QyxFQUFHbUIsT0FBT0ssVUFBVU8sU0FBUyxhQUFld0IsRUFDN0MsTUFFSmEsRUFBV3pCLEdBQ1gsRUFBR0UsYUFBYUYsR0FDaEI2QixHQUFlLENBQ25CLENBQ0osQ0FDQWpCLEdBQVksQ0FDaEIsSUErQmEsRUFBR25DLE9BQU9JLFVBQVVPLFNBQVMsWUE5QkwsT0FBVSxPQUFRLE9BQVEsR0FBUSxZQUNuRSxJQUFJeUMsR0FBZSxFQUNuQixNQUFRTCxNQUFpQlosR0FBVyxDQUNoQyxHQUFJaUIsRUFBYyxDQUVkLFNBRE0sSUFBSXpFLFNBQVNDLEdBQVl5RSxXQUFXekUsRUFBUyxRQUM5QyxFQUFHb0IsT0FBT0ksVUFBVU8sU0FBUyxhQUFld0IsRUFDN0MsTUFFSixNQUFRakksSUFBS29KLEVBQVluSixJQUFLb0osR0FBZXJCLEVBQVN2RSxhQUFhNEQsR0FDbkVBLEVBQWV6RixTQUFTeUYsRUFBZ0IrQixFQUFZQyxHQUNwRCxFQUFHOUIsYUFBYUYsR0FDaEI2QixHQUFlLENBQ25CLENBQ0EsSUFBS0EsRUFBYyxDQUVmLFNBRE0sSUFBSXpFLFNBQVNDLEdBQVl5RSxXQUFXekUsRUFBUyxRQUM5QyxFQUFHb0IsT0FBT0ksVUFBVU8sU0FBUyxhQUFld0IsRUFDN0MsTUFFSixNQUFRakksSUFBS3NKLEVBQVlySixJQUFLc0osR0FBZXpCLEVBQU1yRSxhQUFhNkQsR0FDaEVBLEVBQWtCMUYsU0FBUzBGLEVBQW1CZ0MsRUFBWUMsR0FDMUQsRUFBR2hDLGFBQWFELEdBQ2hCNEIsR0FBZSxDQUNuQixDQUNKLENBQ0FqQixHQUFZLENBQ2hCLFNBS1MsRUFjSGxCLEVBQVUsS0FDWmlCLEVBQVMvRSxRQUFVLEtBQ25CK0UsRUFBUzlFLFFBQVUsS0FDbkJtRSxFQUFldkcsYUFDZndHLEVBQWtCeEcsYUFDbEI4SCxJQUNBLEVBQUdyQixhQUFhRixHQUNoQixFQUFHRSxhQUFhRCxHQUNoQjJCLEdBQWMsRUFRbEIsTUFBTyxDQUFFN0gsTUExQkssS0FDVndILElBR0F2QixFQUFlNUYsY0FBYyxJQUFLLEtBQ2xDNEYsRUFBZTVGLGNBQWMsSUFBSyxLQUNsQyxFQUFHMkYsWUFBWUMsR0FDZixFQUFHRCxZQUFZRSxHQUNmMkIsR0FBYyxFQWtCRjVCLGlCQUFnQkMsb0JBQW1CSCxRQU5uQyxJQUFNLE9BQVUsT0FBUSxPQUFRLEdBQVEsWUFDcERjLEdBQVksUUFDTixJQUFJeEQsU0FBU0MsR0FBWXlFLFdBQVd6RSxFQUFTLE9BQ25EdUQsR0FBWSxFQUNabEIsR0FDSixJQUM0REEsVUFDL0QsRUFwS2tCLEdDVm5CLEVBQVczRixPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9tb2R1bGVzL2dhbWVib2FyZC50cyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL21vZHVsZXMvc2hpcC50cyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL21vZHVsZXMvcGxheWVyLnRzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvbW9kdWxlcy91aS50cyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL21vZHVsZXMvY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGdhbWVib2FyZEZhY3RvcnkgPSAoKSA9PiB7XG4gICAgY29uc3QgY29scyA9IFsnQScsICdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSiddO1xuICAgIGNvbnN0IHJvd3MgPSBbJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5JywgJzEwJ107XG4gICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICBjb25zdCBnZW5lcmF0ZUFycmF5ID0gKCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGFycmF5W2ldID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICBhcnJheVtpXVtqXSA9IHsgY29sOiBjb2xzW2pdLCByb3c6IHJvd3NbaV0sIHN0YXR1czogJ2VtcHR5JywgdGFrZW5CeTogdW5kZWZpbmVkIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGNsZWFyQm9hcmQgPSAoKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkgKz0gMSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbaV1bal0uc3RhdHVzID0gJ2VtcHR5JztcbiAgICAgICAgICAgICAgICBhcnJheVtpXVtqXS50YWtlbkJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBnZXRDZWxsID0gKGNvbCwgcm93KSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbEluZGV4ID0gY29scy5pbmRleE9mKGNvbCk7XG4gICAgICAgIGNvbnN0IHJvd0luZGV4ID0gcm93cy5pbmRleE9mKHJvdyk7XG4gICAgICAgIGlmIChjb2xJbmRleCA9PT0gLTEgfHwgcm93SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXlbcm93SW5kZXhdW2NvbEluZGV4XTtcbiAgICB9O1xuICAgIGNvbnN0IHNldENlbGwgPSAoY29sLCByb3csIG5ld1N0YXR1cywgbmV3VGFrZW5CeSkgPT4ge1xuICAgICAgICBjb25zdCBjb2xJbmRleCA9IGNvbHMuaW5kZXhPZihjb2wpO1xuICAgICAgICBjb25zdCByb3dJbmRleCA9IHJvd3MuaW5kZXhPZihyb3cpO1xuICAgICAgICBpZiAoY29sSW5kZXggPT09IC0xIHx8IHJvd0luZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgYXJyYXlbcm93SW5kZXhdW2NvbEluZGV4XS5zdGF0dXMgPSBuZXdTdGF0dXM7XG4gICAgICAgIGlmIChuZXdUYWtlbkJ5KSB7XG4gICAgICAgICAgICBhcnJheVtyb3dJbmRleF1bY29sSW5kZXhdLnRha2VuQnkgPSBuZXdUYWtlbkJ5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheVtyb3dJbmRleF1bY29sSW5kZXhdO1xuICAgIH07XG4gICAgY29uc3QgcGxhY2VTaGlwID0gKHNoaXAsIGNvbCwgcm93LCBvcmllbnRhdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBpc0hvcml6b250YWwgPSBvcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnO1xuICAgICAgICBjb25zdCBjZWxscyA9IGlzSG9yaXpvbnRhbCA/IGNvbHMgOiByb3dzO1xuICAgICAgICBjb25zdCBzdGFydCA9IGNlbGxzLmluZGV4T2YoaXNIb3Jpem9udGFsID8gY29sIDogcm93KTtcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCArIHNoaXAuc2l6ZSA+IGNlbGxzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5zaXplOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb2wgPSBpc0hvcml6b250YWwgPyBjZWxsc1tzdGFydCArIGldIDogY29sO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFJvdyA9IGlzSG9yaXpvbnRhbCA/IHJvdyA6IGNlbGxzW3N0YXJ0ICsgaV07XG4gICAgICAgICAgICBpZiAoZ2V0Q2VsbChjdXJyZW50Q29sLCBjdXJyZW50Um93KS5zdGF0dXMgIT09ICdlbXB0eScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRDZWxsKGN1cnJlbnRDb2wsIGN1cnJlbnRSb3csICd0YWtlbicsIHNoaXApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgY29uc3QgcmVjZWl2ZUF0dGFjayA9IChjb2wsIHJvdykgPT4ge1xuICAgICAgICBjb25zdCBjZWxsID0gZ2V0Q2VsbChjb2wsIHJvdyk7XG4gICAgICAgIGlmIChjZWxsLnN0YXR1cyA9PT0gJ3Rha2VuJykge1xuICAgICAgICAgICAgY2VsbC50YWtlbkJ5LmhpdCgpO1xuICAgICAgICAgICAgc2V0Q2VsbChjb2wsIHJvdywgJ2hpdCcpO1xuICAgICAgICAgICAgcmV0dXJuIGNlbGwuc3RhdHVzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjZWxsLnN0YXR1cyA9PT0gJ2VtcHR5Jykge1xuICAgICAgICAgICAgc2V0Q2VsbChjb2wsIHJvdywgJ21pc3MnKTtcbiAgICAgICAgICAgIHJldHVybiBjZWxsLnN0YXR1cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHNpbmtTaGlwID0gKGdhbWVib2FyZCwgY29sLCByb3cpID0+IHtcbiAgICAgICAgY29uc3QgY2VsbCA9IGdhbWVib2FyZC5nZXRDZWxsKGNvbCwgcm93KTtcbiAgICAgICAgaWYgKGNlbGwgJiYgY2VsbC50YWtlbkJ5ICYmIGNlbGwudGFrZW5CeS5pc1N1bmsoKSkge1xuICAgICAgICAgICAgY29uc3Qgc2hpcENlbGxzID0gZ2FtZWJvYXJkLmFycmF5LmZsYXQoKS5maWx0ZXIoKGMpID0+IGMudGFrZW5CeSAmJiBjLnRha2VuQnkubmFtZSA9PT0gY2VsbC50YWtlbkJ5Lm5hbWUpO1xuICAgICAgICAgICAgc2hpcENlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXJlY3Rpb25zID0gW1xuICAgICAgICAgICAgICAgICAgICB7IGNvbDogMCwgcm93OiAtMSB9LFxuICAgICAgICAgICAgICAgICAgICB7IGNvbDogMCwgcm93OiAxIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAtMSwgcm93OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAxLCByb3c6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgeyBjb2w6IC0xLCByb3c6IC0xIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAtMSwgcm93OiAxIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAxLCByb3c6IC0xIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAxLCByb3c6IDEgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbnMuZm9yRWFjaCgoZGlyZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NvbCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2VsbC5jb2wuY2hhckNvZGVBdCgwKSArIGRpcmVjdGlvbi5jb2wpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdSb3cgPSAoTnVtYmVyKGNlbGwucm93KSArIGRpcmVjdGlvbi5yb3cpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuZ2V0Q2VsbChuZXdDb2wsIG5ld1JvdykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKG5ld0NvbCwgbmV3Um93KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGFsbFN1bmsgPSAoKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkgKz0gMSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFycmF5W2ldW2pdLnN0YXR1cyA9PT0gJ3Rha2VuJyAmJiAhYXJyYXlbaV1bal0udGFrZW5CeS5pc1N1bmsoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgZ2VuZXJhdGVBcnJheSgpO1xuICAgIHJldHVybiB7IGNsZWFyQm9hcmQsIGdldENlbGwsIHNldENlbGwsIHBsYWNlU2hpcCwgcmVjZWl2ZUF0dGFjaywgc2lua1NoaXAsIGFsbFN1bmssIGFycmF5IH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZ2FtZWJvYXJkRmFjdG9yeTtcbiIsImNvbnN0IHNoaXBGYWN0b3J5ID0gKG5hbWUpID0+IHtcbiAgICBsZXQgc2l6ZTtcbiAgICBpZiAobmFtZSA9PT0gJ0NhcnJpZXInKSB7XG4gICAgICAgIHNpemUgPSA1O1xuICAgIH1cbiAgICBpZiAobmFtZSA9PT0gJ0JhdHRsZXNoaXAnKSB7XG4gICAgICAgIHNpemUgPSA0O1xuICAgIH1cbiAgICBpZiAobmFtZSA9PT0gJ0Rlc3Ryb3llcicpIHtcbiAgICAgICAgc2l6ZSA9IDM7XG4gICAgfVxuICAgIGlmIChuYW1lID09PSAnU3VibWFyaW5lJykge1xuICAgICAgICBzaXplID0gMztcbiAgICB9XG4gICAgaWYgKG5hbWUgPT09ICdQYXRyb2wgQm9hdCcpIHtcbiAgICAgICAgc2l6ZSA9IDI7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIHNpemUsXG4gICAgICAgIGhpdENvdW50OiAwLFxuICAgICAgICBpc1ZlcnRpY2FsOiBmYWxzZSxcbiAgICAgICAgcm90YXRlKCkge1xuICAgICAgICAgICAgdGhpcy5pc1ZlcnRpY2FsID0gIXRoaXMuaXNWZXJ0aWNhbDtcbiAgICAgICAgfSxcbiAgICAgICAgaGl0KCkge1xuICAgICAgICAgICAgdGhpcy5oaXRDb3VudCArPSAxO1xuICAgICAgICB9LFxuICAgICAgICBpc1N1bmsoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oaXRDb3VudCA9PT0gc2l6ZTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IHNoaXBGYWN0b3J5O1xuIiwiY29uc3QgcGxheWVyRmFjdG9yeSA9ICgpID0+IHtcbiAgICBjb25zdCBjb2xzID0gWydBJywgJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJ107XG4gICAgbGV0IHByZXZIaXQgPSBudWxsO1xuICAgIGxldCBsYXN0SGl0ID0gbnVsbDtcbiAgICBwcmV2SGl0ID0geyBjb2w6ICdDJywgcm93OiAnNScgfTtcbiAgICBsYXN0SGl0ID0geyBjb2w6ICdCJywgcm93OiAnNScgfTtcbiAgICBjb25zdCBhdHRhY2sgPSAoZ2FtZWJvYXJkLCBjb2wsIHJvdykgPT4ge1xuICAgICAgICBpZiAoZ2FtZWJvYXJkLmdldENlbGwoY29sLCByb3cpLnN0YXR1cyAhPT0gJ2hpdCcgJiYgZ2FtZWJvYXJkLmdldENlbGwoY29sLCByb3cpLnN0YXR1cyAhPT0gJ21pc3MnKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2FtZWJvYXJkLnJlY2VpdmVBdHRhY2soY29sLCByb3cpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnYWxyZWFkeSBzaG90JztcbiAgICB9O1xuICAgIGNvbnN0IHJhbmRvbUF0dGFjayA9IChnYW1lYm9hcmQpID0+IHtcbiAgICAgICAgbGV0IHJhbmRvbUNvbDtcbiAgICAgICAgbGV0IHJhbmRvbVJvdztcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgcmFuZG9tQ29sID0gY29sc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjb2xzLmxlbmd0aCldO1xuICAgICAgICAgICAgcmFuZG9tUm93ID0gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiAxMCkudG9TdHJpbmcoKTtcbiAgICAgICAgfSB3aGlsZSAoZ2FtZWJvYXJkLmdldENlbGwocmFuZG9tQ29sLCByYW5kb21Sb3cpLnN0YXR1cyA9PT0gJ2hpdCcgfHwgZ2FtZWJvYXJkLmdldENlbGwocmFuZG9tQ29sLCByYW5kb21Sb3cpLnN0YXR1cyA9PT0gJ21pc3MnKTtcbiAgICAgICAgaWYgKGdhbWVib2FyZC5nZXRDZWxsKHJhbmRvbUNvbCwgcmFuZG9tUm93KS5zdGF0dXMgIT09ICdoaXQnICYmIGdhbWVib2FyZC5nZXRDZWxsKHJhbmRvbUNvbCwgcmFuZG9tUm93KS5zdGF0dXMgIT09ICdtaXNzJykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZ2FtZWJvYXJkLnJlY2VpdmVBdHRhY2socmFuZG9tQ29sLCByYW5kb21Sb3cpO1xuICAgICAgICAgICAgY29uc3QgY2VsbCA9IGdhbWVib2FyZC5nZXRDZWxsKHJhbmRvbUNvbCwgcmFuZG9tUm93KTtcbiAgICAgICAgICAgIGlmIChjZWxsLnN0YXR1cyA9PT0gJ2hpdCcpIHtcbiAgICAgICAgICAgICAgICBwcmV2SGl0ID0gbGFzdEhpdDtcbiAgICAgICAgICAgICAgICBsYXN0SGl0ID0ge1xuICAgICAgICAgICAgICAgICAgICBjb2w6IGNlbGwuY29sLFxuICAgICAgICAgICAgICAgICAgICByb3c6IGNlbGwucm93LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyByZXN1bHQsIGNvbDogcmFuZG9tQ29sLCByb3c6IHJhbmRvbVJvdyB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogJ2FscmVhZHkgc2hvdCcsIGNvbDogcmFuZG9tQ29sLCByb3c6IHJhbmRvbVJvdyB9O1xuICAgIH07XG4gICAgY29uc3QgZm9sbG93dXBBdHRhY2sgPSAoZ2FtZWJvYXJkLCBjb2wsIHJvdykgPT4ge1xuICAgICAgICBjb25zdCBkaXJlY3Rpb25zID0gW1xuICAgICAgICAgICAgeyBjb2w6IDAsIHJvdzogLTEgfSxcbiAgICAgICAgICAgIHsgY29sOiAwLCByb3c6IDEgfSxcbiAgICAgICAgICAgIHsgY29sOiAtMSwgcm93OiAwIH0sXG4gICAgICAgICAgICB7IGNvbDogMSwgcm93OiAwIH0sXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IHZhbGlkRGlyZWN0aW9ucyA9IGRpcmVjdGlvbnMuZmlsdGVyKChkaXJlY3Rpb24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29sLmNoYXJDb2RlQXQoMCkgKyBkaXJlY3Rpb24uY29sKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1JvdyA9IChOdW1iZXIocm93KSArIGRpcmVjdGlvbi5yb3cpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBjb25zdCBjZWxsID0gZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCBuZXdSb3cpO1xuICAgICAgICAgICAgaWYgKGNlbGwgJiYgY2VsbC5zdGF0dXMgIT09ICdtaXNzJyAmJiBjZWxsLnN0YXR1cyAhPT0gJ2hpdCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh2YWxpZERpcmVjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcmFuZG9tRGlyZWN0aW9uID0gdmFsaWREaXJlY3Rpb25zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHZhbGlkRGlyZWN0aW9ucy5sZW5ndGgpXTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29sLmNoYXJDb2RlQXQoMCkgKyByYW5kb21EaXJlY3Rpb24uY29sKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1JvdyA9IChOdW1iZXIocm93KSArIHJhbmRvbURpcmVjdGlvbi5yb3cpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBnYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhuZXdDb2wsIG5ld1Jvdyk7XG4gICAgICAgICAgICByYW5nZSA9IDE7XG4gICAgICAgICAgICBjb25zdCBjZWxsID0gZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCBuZXdSb3cpO1xuICAgICAgICAgICAgaWYgKGNlbGwuc3RhdHVzID09PSAnaGl0Jykge1xuICAgICAgICAgICAgICAgIHByZXZIaXQgPSBsYXN0SGl0O1xuICAgICAgICAgICAgICAgIGxhc3RIaXQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbDogY2VsbC5jb2wsXG4gICAgICAgICAgICAgICAgICAgIHJvdzogY2VsbC5yb3csXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwcmV2SGl0JywgcHJldkhpdCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbGFzdEhpdCcsIGxhc3RIaXQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3JhbmdlJywgcmFuZ2UpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ05pZSBtYSBkb3N0xJlwbnljaCBraWVydW5rw7N3IGRvIGF0YWt1Jyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGxldCByYW5nZSA9IDE7XG4gICAgbGV0IGdvUmlnaHQgPSBmYWxzZTtcbiAgICBjb25zdCBmaW5pc2hpbmdBdHRhY2sgPSAoZ2FtZWJvYXJkLCBjb2wsIHJvdykgPT4ge1xuICAgICAgICBpZiAocHJldkhpdC5yb3cgPT09IGxhc3RIaXQucm93KSB7XG4gICAgICAgICAgICAvLyBob3Jpem9udGFsIHNoaXAgY2FzZVxuICAgICAgICAgICAgaWYgKGdvUmlnaHQpIHtcbiAgICAgICAgICAgICAgICByYW5nZSA9IDE7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2dvUmlnaHQnKTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3Q29sID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2wuY2hhckNvZGVBdCgwKSArIHJhbmdlKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCByb3cpICYmIGdhbWVib2FyZC5nZXRDZWxsKG5ld0NvbCwgcm93KS5zdGF0dXMgPT09ICdoaXQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIG5ld0NvbCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29sLmNoYXJDb2RlQXQoMCkgKyByYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuZ2V0Q2VsbChuZXdDb2wsIHJvdykgJiYgZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCByb3cpLnN0YXR1cyAhPT0gJ2hpdCcgJiYgZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCByb3cpLnN0YXR1cyAhPT0gJ21pc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgIGdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKG5ld0NvbCwgcm93KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGdhbWVib2FyZC5nZXRDZWxsKG5ld0NvbCwgcm93KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNlbGwuc3RhdHVzID09PSAnaGl0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkhpdCA9IGxhc3RIaXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0SGl0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbDogY2VsbC5jb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93OiBjZWxsLnJvdyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3ByZXZIaXQnLCBwcmV2SGl0KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2xhc3RIaXQnLCBsYXN0SGl0KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3JhbmdlJywgcmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tLS0tJyk7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCByb3cpIHx8IGdhbWVib2FyZC5nZXRDZWxsKG5ld0NvbCwgcm93KS5zdGF0dXMgPT09ICdtaXNzJykge1xuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGdvUmlnaHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoaW5nQXR0YWNrKGdhbWVib2FyZCwgY29sLCByb3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWdhbWVib2FyZC5nZXRDZWxsKG5ld0NvbCwgcm93KSkge1xuICAgICAgICAgICAgICAgICAgICBmaW5pc2hpbmdBdHRhY2soZ2FtZWJvYXJkLCBuZXdDb2wsIHJvdyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJhbmdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ29SaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJhbmdlID0gMTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZ29MZWZ0Jyk7XG4gICAgICAgICAgICAgICAgbGV0IG5ld0NvbCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29sLmNoYXJDb2RlQXQoMCkgLSByYW5nZSk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGdhbWVib2FyZC5nZXRDZWxsKG5ld0NvbCwgcm93KSAmJiBnYW1lYm9hcmQuZ2V0Q2VsbChuZXdDb2wsIHJvdykuc3RhdHVzID09PSAnaGl0Jykge1xuICAgICAgICAgICAgICAgICAgICByYW5nZSArPSAxO1xuICAgICAgICAgICAgICAgICAgICBuZXdDb2wgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvbC5jaGFyQ29kZUF0KDApIC0gcmFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCByb3cpICYmIGdhbWVib2FyZC5nZXRDZWxsKG5ld0NvbCwgcm93KS5zdGF0dXMgIT09ICdoaXQnICYmIGdhbWVib2FyZC5nZXRDZWxsKG5ld0NvbCwgcm93KS5zdGF0dXMgIT09ICdtaXNzJykge1xuICAgICAgICAgICAgICAgICAgICBnYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhuZXdDb2wsIHJvdyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBnYW1lYm9hcmQuZ2V0Q2VsbChuZXdDb2wsIHJvdyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjZWxsLnN0YXR1cyA9PT0gJ2hpdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZIaXQgPSBsYXN0SGl0O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEhpdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2w6IGNlbGwuY29sLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdzogY2VsbC5yb3csXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwcmV2SGl0JywgcHJldkhpdCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsYXN0SGl0JywgbGFzdEhpdCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyYW5nZScsIHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLScpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZSArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWdhbWVib2FyZC5nZXRDZWxsKG5ld0NvbCwgcm93KSB8fCBnYW1lYm9hcmQuZ2V0Q2VsbChuZXdDb2wsIHJvdykuc3RhdHVzID09PSAnbWlzcycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSAxO1xuICAgICAgICAgICAgICAgICAgICBnb1JpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoaW5nQXR0YWNrKGdhbWVib2FyZCwgY29sLCByb3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWdhbWVib2FyZC5nZXRDZWxsKG5ld0NvbCwgcm93KSkge1xuICAgICAgICAgICAgICAgICAgICBmaW5pc2hpbmdBdHRhY2soZ2FtZWJvYXJkLCBuZXdDb2wsIHJvdyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJhbmdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ29SaWdodCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdmVydGljYWwgc2hpcCBjYXNlXG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB7IGF0dGFjaywgcmFuZG9tQXR0YWNrLCBmb2xsb3d1cEF0dGFjaywgZmluaXNoaW5nQXR0YWNrLCBwcmV2SGl0LCBsYXN0SGl0IH07XG59O1xuZXhwb3J0IGRlZmF1bHQgcGxheWVyRmFjdG9yeTtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IGNvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyJztcbmNvbnN0IHVpID0gKCgpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dyYXBwZXInKTtcbiAgICBjb25zdCBib2FyZHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBib2FyZHMuaWQgPSAnYm9hcmRzJztcbiAgICB3cmFwcGVyLnByZXBlbmQoYm9hcmRzKTtcbiAgICBjb25zdCBwVmNCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGxheWVyVnNDb21wdXRlcicpO1xuICAgIGNvbnN0IGNWY0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb21wdXRlclZzQ29tcHV0ZXInKTtcbiAgICBjb25zdCBuZXdHYW1lQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25ld0dhbWUnKTtcbiAgICBjb25zdCBjcmVhdGVDZWxsID0gKGNvbCkgPT4ge1xuICAgICAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgnY2VsbCcpO1xuICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoY29sLnN0YXR1cyk7XG4gICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKCdkYXRhLWNvbCcsIGNvbC5jb2wpO1xuICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZSgnZGF0YS1yb3cnLCBjb2wucm93KTtcbiAgICAgICAgcmV0dXJuIGNlbGw7XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJDZWxscyA9IChnYW1lYm9hcmQsIGJvYXJkKSA9PiB7XG4gICAgICAgIGdhbWVib2FyZC5hcnJheS5mb3JFYWNoKChyb3cpID0+IHtcbiAgICAgICAgICAgIHJvdy5mb3JFYWNoKChjb2wpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjZWxsID0gY3JlYXRlQ2VsbChjb2wpO1xuICAgICAgICAgICAgICAgIGJvYXJkLmFwcGVuZChjZWxsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlckJvYXJkID0gKGdhbWVib2FyZCkgPT4ge1xuICAgICAgICBjb25zdCBib2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBib2FyZC5jbGFzc0xpc3QuYWRkKCdib2FyZCcpO1xuICAgICAgICBpZiAoZ2FtZWJvYXJkID09PSBjb250cm9sbGVyLmh1bWFuR2FtZWJvYXJkKSB7XG4gICAgICAgICAgICBib2FyZC5pZCA9ICdmaXJzdEJvYXJkJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChnYW1lYm9hcmQgPT09IGNvbnRyb2xsZXIuY29tcHV0ZXJHYW1lYm9hcmQpIHtcbiAgICAgICAgICAgIGJvYXJkLmlkID0gJ3NlY29uZEJvYXJkJztcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJDZWxscyhnYW1lYm9hcmQsIGJvYXJkKTtcbiAgICAgICAgYm9hcmRzLmFwcGVuZChib2FyZCk7XG4gICAgfTtcbiAgICBjb25zdCByZWZyZXNoQm9hcmQgPSAoZ2FtZWJvYXJkKSA9PiB7XG4gICAgICAgIGNvbnN0IGJvYXJkSWQgPSBnYW1lYm9hcmQgPT09IGNvbnRyb2xsZXIuaHVtYW5HYW1lYm9hcmQgPyAnZmlyc3RCb2FyZCcgOiAnc2Vjb25kQm9hcmQnO1xuICAgICAgICBjb25zdCBib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2JvYXJkSWR9YCk7XG4gICAgICAgIGJvYXJkLmlubmVySFRNTCA9ICcnO1xuICAgICAgICByZW5kZXJDZWxscyhnYW1lYm9hcmQsIGJvYXJkKTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFVzZXJJbnB1dCA9IChlKSA9PiB7XG4gICAgICAgIGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaXQnKSAmJiAhZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtaXNzJykpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTtcbiAgICAgICAgICAgIGNvbnN0IHJvdyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTtcbiAgICAgICAgICAgIHJldHVybiB7IGNvbCwgcm93IH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIGhhbmRsZVVzZXJJbnB1dCgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGNlbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3NlY29uZEJvYXJkIC5jZWxsJyk7XG4gICAgICAgICAgICBsZXQgdXNlcklucHV0O1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIHVzZXJJbnB1dCA9IHlpZWxkIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2VsbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpdCcpICYmICFjZWxsLmNsYXNzTGlzdC5jb250YWlucygnbWlzcycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZ2V0VXNlcklucHV0KGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSB3aGlsZSAoIXVzZXJJbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBjb2wgPSB1c2VySW5wdXQuY29sLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBjb25zdCByb3cgPSB1c2VySW5wdXQucm93LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICByZXR1cm4geyBjb2wsIHJvdyB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgaGFuZGxlTmV3R2FtZSA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBuZXdHYW1lQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgbmV3R2FtZUJ0bi50ZXh0Q29udGVudCA9ICdSZXN0YXJ0aW5nJztcbiAgICAgICAgeWllbGQgY29udHJvbGxlci5uZXdHYW1lKCk7XG4gICAgICAgIG5ld0dhbWVCdG4udGV4dENvbnRlbnQgPSAnTmV3IEdhbWUnO1xuICAgICAgICBuZXdHYW1lQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfSk7XG4gICAgY29uc3QgaGFuZGxlR2FtZU1vZGUgPSAoc2VsZWN0ZWRFbGVtZW50LCBkZXNlbGVjdGVkRWxlbWVudCkgPT4ge1xuICAgICAgICBkZXNlbGVjdGVkRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICBpZiAoIXNlbGVjdGVkRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgY29udHJvbGxlci5yZXN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHBWY0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGhhbmRsZUdhbWVNb2RlKHBWY0J0biwgY1ZjQnRuKSk7XG4gICAgY1ZjQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gaGFuZGxlR2FtZU1vZGUoY1ZjQnRuLCBwVmNCdG4pKTtcbiAgICBuZXdHYW1lQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlTmV3R2FtZSk7XG4gICAgcmV0dXJuIHsgcmVuZGVyQm9hcmQsIHJlZnJlc2hCb2FyZCwgaGFuZGxlVXNlcklucHV0LCBwVmNCdG4sIGNWY0J0biB9O1xufSkoKTtcbmV4cG9ydCBkZWZhdWx0IHVpO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgZ2FtZWJvYXJkRmFjdG9yeSBmcm9tICcuL2dhbWVib2FyZCc7XG5pbXBvcnQgc2hpcEZhY3RvcnkgZnJvbSAnLi9zaGlwJztcbmltcG9ydCBwbGF5ZXJGYWN0b3J5IGZyb20gJy4vcGxheWVyJztcbmltcG9ydCB1aSBmcm9tICcuL3VpJztcbmNvbnN0IGNvbnRyb2xsZXIgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGh1bWFuR2FtZWJvYXJkID0gZ2FtZWJvYXJkRmFjdG9yeSgpO1xuICAgIGNvbnN0IGNvbXB1dGVyR2FtZWJvYXJkID0gZ2FtZWJvYXJkRmFjdG9yeSgpO1xuICAgIGNvbnN0IGh1bWFuID0gcGxheWVyRmFjdG9yeSgpO1xuICAgIGNvbnN0IGNvbXB1dGVyID0gcGxheWVyRmFjdG9yeSgpO1xuICAgIGxldCBpc1N0b3BwZWQgPSBmYWxzZTtcbiAgICBjb25zdCBodW1hbkNhcnJpZXIgPSBzaGlwRmFjdG9yeSgnQ2FycmllcicpO1xuICAgIGNvbnN0IGh1bWFuQmF0dGxlc2hpcCA9IHNoaXBGYWN0b3J5KCdCYXR0bGVzaGlwJyk7XG4gICAgY29uc3QgaHVtYW5EZXN0cm95ZXIgPSBzaGlwRmFjdG9yeSgnRGVzdHJveWVyJyk7XG4gICAgY29uc3QgaHVtYW5TdWJtYXJpbmUgPSBzaGlwRmFjdG9yeSgnU3VibWFyaW5lJyk7XG4gICAgY29uc3QgaHVtYW5QYXRyb2xib2F0ID0gc2hpcEZhY3RvcnkoJ1BhdHJvbCBCb2F0Jyk7XG4gICAgY29uc3QgY29tcHV0ZXJDYXJyaWVyID0gc2hpcEZhY3RvcnkoJ0NhcnJpZXInKTtcbiAgICBjb25zdCBjb21wdXRlckJhdHRsZXNoaXAgPSBzaGlwRmFjdG9yeSgnQmF0dGxlc2hpcCcpO1xuICAgIGNvbnN0IGNvbXB1dGVyRGVzdHJveWVyID0gc2hpcEZhY3RvcnkoJ0Rlc3Ryb3llcicpO1xuICAgIGNvbnN0IGNvbXB1dGVyU3VibWFyaW5lID0gc2hpcEZhY3RvcnkoJ1N1Ym1hcmluZScpO1xuICAgIGNvbnN0IGNvbXB1dGVyUGF0cm9sYm9hdCA9IHNoaXBGYWN0b3J5KCdQYXRyb2wgQm9hdCcpO1xuICAgIGNvbnN0IHBvcHVsYXRlR2FtZWJvYXJkID0gKCkgPT4ge1xuICAgICAgICBodW1hbkdhbWVib2FyZC5wbGFjZVNoaXAoaHVtYW5DYXJyaWVyLCAnQScsICcxJywgJ2hvcml6b250YWwnKTtcbiAgICAgICAgaHVtYW5HYW1lYm9hcmQucGxhY2VTaGlwKGh1bWFuQmF0dGxlc2hpcCwgJ0EnLCAnMycsICdob3Jpem9udGFsJyk7XG4gICAgICAgIGh1bWFuR2FtZWJvYXJkLnBsYWNlU2hpcChodW1hbkRlc3Ryb3llciwgJ0EnLCAnNScsICdob3Jpem9udGFsJyk7XG4gICAgICAgIGh1bWFuR2FtZWJvYXJkLnBsYWNlU2hpcChodW1hblN1Ym1hcmluZSwgJ0EnLCAnNycsICdob3Jpem9udGFsJyk7XG4gICAgICAgIGh1bWFuR2FtZWJvYXJkLnBsYWNlU2hpcChodW1hblBhdHJvbGJvYXQsICdBJywgJzknLCAnaG9yaXpvbnRhbCcpO1xuICAgICAgICBjb21wdXRlckdhbWVib2FyZC5wbGFjZVNoaXAoY29tcHV0ZXJDYXJyaWVyLCAnQScsICcxJywgJ3ZlcnRpY2FsJyk7XG4gICAgICAgIGNvbXB1dGVyR2FtZWJvYXJkLnBsYWNlU2hpcChjb21wdXRlckJhdHRsZXNoaXAsICdDJywgJzEnLCAndmVydGljYWwnKTtcbiAgICAgICAgY29tcHV0ZXJHYW1lYm9hcmQucGxhY2VTaGlwKGNvbXB1dGVyRGVzdHJveWVyLCAnRScsICcxJywgJ3ZlcnRpY2FsJyk7XG4gICAgICAgIGNvbXB1dGVyR2FtZWJvYXJkLnBsYWNlU2hpcChjb21wdXRlclN1Ym1hcmluZSwgJ0cnLCAnMScsICd2ZXJ0aWNhbCcpO1xuICAgICAgICBjb21wdXRlckdhbWVib2FyZC5wbGFjZVNoaXAoY29tcHV0ZXJQYXRyb2xib2F0LCAnSScsICcxJywgJ3ZlcnRpY2FsJyk7XG4gICAgfTtcbiAgICBjb25zdCBpc0dhbWVPdmVyID0gKCkgPT4ge1xuICAgICAgICBpZiAoY29tcHV0ZXJHYW1lYm9hcmQuYWxsU3VuaygpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQWxsIGNvbXB1dGVyIHNoaXBzIGFyZSBzdW5rLiBIdW1hbiBwbGF5ZXIgd29uIScpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGh1bWFuR2FtZWJvYXJkLmFsbFN1bmsoKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0FsbCBodW1hbiBzaGlwcyBhcmUgc3Vuay4gQ29tcHV0ZXIgcGxheWVyIHdvbiEnKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIGNvbnN0IGhpdEJ1dE5vdFN1bmsgPSAoZ2FtZWJvYXJkKSA9PiB7XG4gICAgICAgIGNvbnN0IGdhbWVib2FyZENlbGxzID0gZ2FtZWJvYXJkLmFycmF5LmZsYXQoKTtcbiAgICAgICAgcmV0dXJuIGdhbWVib2FyZENlbGxzLnNvbWUoKGNlbGwpID0+IHtcbiAgICAgICAgICAgIGlmIChjZWxsLnN0YXR1cyA9PT0gJ2hpdCcgJiYgY2VsbC50YWtlbkJ5LmlzU3VuaygpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGNvbXB1dGVyQUkgPSAoZ2FtZWJvYXJkKSA9PiB7XG4gICAgICAgIGlmIChoaXRCdXROb3RTdW5rKGdhbWVib2FyZCkpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIC8vIGNvbXB1dGVyLnByZXZIaXQgIT09IG51bGwgJiZcbiAgICAgICAgICAgIGNvbXB1dGVyLmxhc3RIaXQgIT09IG51bGwgJiZcbiAgICAgICAgICAgICAgICBnYW1lYm9hcmQuZ2V0Q2VsbChjb21wdXRlci5sYXN0SGl0LmNvbCwgY29tcHV0ZXIubGFzdEhpdC5yb3cpLnRha2VuQnkuaGl0Q291bnQgPj0gMiAmJlxuICAgICAgICAgICAgICAgIGdhbWVib2FyZC5nZXRDZWxsKGNvbXB1dGVyLmxhc3RIaXQuY29sLCBjb21wdXRlci5sYXN0SGl0LnJvdykudGFrZW5CeS5oaXRDb3VudCA8PSA0KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZJTklTSDogPj0gMiB0cmFmaWVuaWEgdyBzdGF0ZWsnKTtcbiAgICAgICAgICAgICAgICBjb21wdXRlci5maW5pc2hpbmdBdHRhY2soZ2FtZWJvYXJkLCBjb21wdXRlci5sYXN0SGl0LmNvbCwgY29tcHV0ZXIubGFzdEhpdC5yb3cpO1xuICAgICAgICAgICAgICAgIGdhbWVib2FyZC5zaW5rU2hpcChnYW1lYm9hcmQsIGNvbXB1dGVyLmxhc3RIaXQuY29sLCBjb21wdXRlci5sYXN0SGl0LnJvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlci5mb2xsb3d1cEF0dGFjayhnYW1lYm9hcmQsIGNvbXB1dGVyLmxhc3RIaXQuY29sLCBjb21wdXRlci5sYXN0SGl0LnJvdyk7XG4gICAgICAgICAgICAgICAgZ2FtZWJvYXJkLnNpbmtTaGlwKGdhbWVib2FyZCwgY29tcHV0ZXIubGFzdEhpdC5jb2wsIGNvbXB1dGVyLmxhc3RIaXQucm93KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29sLCByb3cgfSA9IGNvbXB1dGVyLnJhbmRvbUF0dGFjayhnYW1lYm9hcmQpO1xuICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5nZXRDZWxsKGNvbCwgcm93KS5zdGF0dXMgPT09ICdoaXQnKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZXIucHJldkhpdCA9IGNvbXB1dGVyLmxhc3RIaXQ7XG4gICAgICAgICAgICAgICAgY29tcHV0ZXIubGFzdEhpdCA9IHsgY29sLCByb3cgfTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncHJldkhpdCcsIGNvbXB1dGVyLnByZXZIaXQpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsYXN0SGl0JywgY29tcHV0ZXIubGFzdEhpdCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5nZXRDZWxsKGNvbCwgcm93KS5zdGF0dXMgPT09ICdoaXQnICYmIGdhbWVib2FyZC5nZXRDZWxsKGNvbCwgcm93KS50YWtlbkJ5LmlzU3VuaygpKSB7XG4gICAgICAgICAgICAgICAgZ2FtZWJvYXJkLnNpbmtTaGlwKGdhbWVib2FyZCwgY29sLCByb3cpO1xuICAgICAgICAgICAgICAgIGlmIChpc0dhbWVPdmVyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2tvbmllYycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcGxheWVyVnNDb21wdXRlck1vZGUgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgbGV0IGlzUGxheWVyVHVybiA9IHRydWU7XG4gICAgICAgIHdoaWxlICghaXNHYW1lT3ZlcigpICYmICFpc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGlmIChpc1BsYXllclR1cm4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNvbCwgcm93IH0gPSB5aWVsZCB1aS5oYW5kbGVVc2VySW5wdXQoKTtcbiAgICAgICAgICAgICAgICBodW1hbi5hdHRhY2soY29tcHV0ZXJHYW1lYm9hcmQsIGNvbCwgcm93KTtcbiAgICAgICAgICAgICAgICBjb21wdXRlckdhbWVib2FyZC5zaW5rU2hpcChjb21wdXRlckdhbWVib2FyZCwgY29sLCByb3cpO1xuICAgICAgICAgICAgICAgIHVpLnJlZnJlc2hCb2FyZChjb21wdXRlckdhbWVib2FyZCk7XG4gICAgICAgICAgICAgICAgaXNQbGF5ZXJUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzUGxheWVyVHVybikge1xuICAgICAgICAgICAgICAgIHlpZWxkIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMCkpO1xuICAgICAgICAgICAgICAgIGlmICghdWkucFZjQnRuLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fCBpc1N0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbXB1dGVyQUkoaHVtYW5HYW1lYm9hcmQpO1xuICAgICAgICAgICAgICAgIHVpLnJlZnJlc2hCb2FyZChodW1hbkdhbWVib2FyZCk7XG4gICAgICAgICAgICAgICAgaXNQbGF5ZXJUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpc1N0b3BwZWQgPSBmYWxzZTtcbiAgICB9KTtcbiAgICBjb25zdCBjb21wdXRlclZzQ29tcHV0ZXJNb2RlID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGxldCBpc1BsYXllclR1cm4gPSB0cnVlO1xuICAgICAgICB3aGlsZSAoIWlzR2FtZU92ZXIoKSAmJiAhaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBpZiAoaXNQbGF5ZXJUdXJuKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG4gICAgICAgICAgICAgICAgaWYgKCF1aS5jVmNCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8IGlzU3RvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjb2w6IHJhbmRvbUNvbDIsIHJvdzogcmFuZG9tUm93MiB9ID0gY29tcHV0ZXIucmFuZG9tQXR0YWNrKGh1bWFuR2FtZWJvYXJkKTtcbiAgICAgICAgICAgICAgICBodW1hbkdhbWVib2FyZC5zaW5rU2hpcChodW1hbkdhbWVib2FyZCwgcmFuZG9tQ29sMiwgcmFuZG9tUm93Mik7XG4gICAgICAgICAgICAgICAgdWkucmVmcmVzaEJvYXJkKGh1bWFuR2FtZWJvYXJkKTtcbiAgICAgICAgICAgICAgICBpc1BsYXllclR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNQbGF5ZXJUdXJuKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG4gICAgICAgICAgICAgICAgaWYgKCF1aS5jVmNCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8IGlzU3RvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjb2w6IHJhbmRvbUNvbDEsIHJvdzogcmFuZG9tUm93MSB9ID0gaHVtYW4ucmFuZG9tQXR0YWNrKGNvbXB1dGVyR2FtZWJvYXJkKTtcbiAgICAgICAgICAgICAgICBjb21wdXRlckdhbWVib2FyZC5zaW5rU2hpcChjb21wdXRlckdhbWVib2FyZCwgcmFuZG9tQ29sMSwgcmFuZG9tUm93MSk7XG4gICAgICAgICAgICAgICAgdWkucmVmcmVzaEJvYXJkKGNvbXB1dGVyR2FtZWJvYXJkKTtcbiAgICAgICAgICAgICAgICBpc1BsYXllclR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlzU3RvcHBlZCA9IGZhbHNlO1xuICAgIH0pO1xuICAgIGNvbnN0IHBpY2tHYW1lTW9kZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHVpLnBWY0J0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgICAgIHJldHVybiBwbGF5ZXJWc0NvbXB1dGVyTW9kZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHVpLmNWY0J0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wdXRlclZzQ29tcHV0ZXJNb2RlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHN0YXJ0ID0gKCkgPT4ge1xuICAgICAgICBwb3B1bGF0ZUdhbWVib2FyZCgpO1xuICAgICAgICAvLyBodW1hbkdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKCdBJywgJzEnKTtcbiAgICAgICAgLy8gaHVtYW5HYW1lYm9hcmQucmVjZWl2ZUF0dGFjaygnQicsICcxJyk7XG4gICAgICAgIGh1bWFuR2FtZWJvYXJkLnJlY2VpdmVBdHRhY2soJ0InLCAnNScpO1xuICAgICAgICBodW1hbkdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKCdDJywgJzUnKTtcbiAgICAgICAgdWkucmVuZGVyQm9hcmQoaHVtYW5HYW1lYm9hcmQpO1xuICAgICAgICB1aS5yZW5kZXJCb2FyZChjb21wdXRlckdhbWVib2FyZCk7XG4gICAgICAgIHBpY2tHYW1lTW9kZSgpO1xuICAgIH07XG4gICAgY29uc3QgcmVzdGFydCA9ICgpID0+IHtcbiAgICAgICAgY29tcHV0ZXIucHJldkhpdCA9IG51bGw7XG4gICAgICAgIGNvbXB1dGVyLmxhc3RIaXQgPSBudWxsO1xuICAgICAgICBodW1hbkdhbWVib2FyZC5jbGVhckJvYXJkKCk7XG4gICAgICAgIGNvbXB1dGVyR2FtZWJvYXJkLmNsZWFyQm9hcmQoKTtcbiAgICAgICAgcG9wdWxhdGVHYW1lYm9hcmQoKTtcbiAgICAgICAgdWkucmVmcmVzaEJvYXJkKGh1bWFuR2FtZWJvYXJkKTtcbiAgICAgICAgdWkucmVmcmVzaEJvYXJkKGNvbXB1dGVyR2FtZWJvYXJkKTtcbiAgICAgICAgcGlja0dhbWVNb2RlKCk7XG4gICAgfTtcbiAgICBjb25zdCBuZXdHYW1lID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHlpZWxkIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApKTtcbiAgICAgICAgaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHJlc3RhcnQoKTtcbiAgICB9KTtcbiAgICByZXR1cm4geyBzdGFydCwgaHVtYW5HYW1lYm9hcmQsIGNvbXB1dGVyR2FtZWJvYXJkLCBuZXdHYW1lLCByZXN0YXJ0IH07XG59KSgpO1xuZXhwb3J0IGRlZmF1bHQgY29udHJvbGxlcjtcbiIsImltcG9ydCAnbm9ybWFsaXplLmNzcyc7XG5pbXBvcnQgJy4vc3R5bGUvc3R5bGUuY3NzJztcbmltcG9ydCBjb250cm9sbGVyIGZyb20gJy4vbW9kdWxlcy9jb250cm9sbGVyJztcbmNvbnRyb2xsZXIuc3RhcnQoKTtcbiJdLCJuYW1lcyI6WyJjb2xzIiwicm93cyIsImFycmF5IiwiZ2V0Q2VsbCIsImNvbCIsInJvdyIsImNvbEluZGV4IiwiaW5kZXhPZiIsInJvd0luZGV4Iiwic2V0Q2VsbCIsIm5ld1N0YXR1cyIsIm5ld1Rha2VuQnkiLCJzdGF0dXMiLCJ0YWtlbkJ5IiwiaSIsImoiLCJ1bmRlZmluZWQiLCJnZW5lcmF0ZUFycmF5IiwiY2xlYXJCb2FyZCIsInBsYWNlU2hpcCIsInNoaXAiLCJvcmllbnRhdGlvbiIsImlzSG9yaXpvbnRhbCIsImNlbGxzIiwic3RhcnQiLCJzaXplIiwibGVuZ3RoIiwiY3VycmVudENvbCIsImN1cnJlbnRSb3ciLCJyZWNlaXZlQXR0YWNrIiwiY2VsbCIsImhpdCIsInNpbmtTaGlwIiwiZ2FtZWJvYXJkIiwiaXNTdW5rIiwiZmxhdCIsImZpbHRlciIsImMiLCJuYW1lIiwiZm9yRWFjaCIsImRpcmVjdGlvbiIsIm5ld0NvbCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImNoYXJDb2RlQXQiLCJuZXdSb3ciLCJOdW1iZXIiLCJ0b1N0cmluZyIsImFsbFN1bmsiLCJoaXRDb3VudCIsImlzVmVydGljYWwiLCJyb3RhdGUiLCJ0aGlzIiwicHJldkhpdCIsImxhc3RIaXQiLCJyYW5nZSIsImdvUmlnaHQiLCJmaW5pc2hpbmdBdHRhY2siLCJjb25zb2xlIiwibG9nIiwiYXR0YWNrIiwicmFuZG9tQXR0YWNrIiwicmFuZG9tQ29sIiwicmFuZG9tUm93IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY2VpbCIsInJlc3VsdCIsImZvbGxvd3VwQXR0YWNrIiwidmFsaWREaXJlY3Rpb25zIiwicmFuZG9tRGlyZWN0aW9uIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwiZG9uZSIsInRoZW4iLCJhcHBseSIsInVpIiwid3JhcHBlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImJvYXJkcyIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsInByZXBlbmQiLCJwVmNCdG4iLCJjVmNCdG4iLCJuZXdHYW1lQnRuIiwicmVuZGVyQ2VsbHMiLCJib2FyZCIsImNsYXNzTGlzdCIsImFkZCIsInNldEF0dHJpYnV0ZSIsImNyZWF0ZUNlbGwiLCJhcHBlbmQiLCJnZXRVc2VySW5wdXQiLCJ0YXJnZXQiLCJjb250YWlucyIsImdldEF0dHJpYnV0ZSIsImhhbmRsZUdhbWVNb2RlIiwic2VsZWN0ZWRFbGVtZW50IiwiZGVzZWxlY3RlZEVsZW1lbnQiLCJyZW1vdmUiLCJyZXN0YXJ0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImRpc2FibGVkIiwidGV4dENvbnRlbnQiLCJuZXdHYW1lIiwicmVuZGVyQm9hcmQiLCJodW1hbkdhbWVib2FyZCIsImNvbXB1dGVyR2FtZWJvYXJkIiwicmVmcmVzaEJvYXJkIiwiYm9hcmRJZCIsImlubmVySFRNTCIsImhhbmRsZVVzZXJJbnB1dCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ1c2VySW5wdXQiLCJvbmNlIiwiaHVtYW4iLCJwbGF5ZXIiLCJjb21wdXRlciIsImlzU3RvcHBlZCIsImh1bWFuQ2FycmllciIsImh1bWFuQmF0dGxlc2hpcCIsImh1bWFuRGVzdHJveWVyIiwiaHVtYW5TdWJtYXJpbmUiLCJodW1hblBhdHJvbGJvYXQiLCJjb21wdXRlckNhcnJpZXIiLCJjb21wdXRlckJhdHRsZXNoaXAiLCJjb21wdXRlckRlc3Ryb3llciIsImNvbXB1dGVyU3VibWFyaW5lIiwiY29tcHV0ZXJQYXRyb2xib2F0IiwicG9wdWxhdGVHYW1lYm9hcmQiLCJpc0dhbWVPdmVyIiwiY29tcHV0ZXJBSSIsInNvbWUiLCJoaXRCdXROb3RTdW5rIiwicGlja0dhbWVNb2RlIiwiaXNQbGF5ZXJUdXJuIiwic2V0VGltZW91dCIsInJhbmRvbUNvbDIiLCJyYW5kb21Sb3cyIiwicmFuZG9tQ29sMSIsInJhbmRvbVJvdzEiXSwic291cmNlUm9vdCI6IiJ9