(()=>{"use strict";const e=()=>{const e=["A","B","C","D","E","F","G","H","I","J"],t=["1","2","3","4","5","6","7","8","9","10"],a=[],r=[],s=(r,s)=>{const o=e.indexOf(r),n=t.indexOf(s);return-1===o||-1===n?null:a[n][o]},o=(r,s,o,n)=>{const l=e.indexOf(r),i=t.indexOf(s);return-1===l||-1===i?null:(a[i][l].status=o,n&&(a[i][l].takenBy=n),a[i][l])};return{generateArray:()=>{for(let r=0;r<10;r+=1){a[r]=[];for(let s=0;s<10;s+=1)a[r][s]={col:e[s],row:t[r],status:"empty",takenBy:null}}},clearBoard:()=>{a.flat().forEach((e=>{e.status="empty",e.takenBy=void 0})),r.length=0},getCell:s,setCell:o,removeShip:(e,t)=>{t.array.flat().forEach((t=>{"taken"===t.status&&t.takenBy.name===e.name&&(t.status="empty",t.takenBy=null);const a=r.indexOf(t);null===t.takenBy&&-1!==a&&r.splice(a,1)}))},placeShip:(a,n,l,i)=>{const c="horizontal"===i,d=c?e:t,u=d.indexOf(c?n:l);a.isVertical="horizontal"!==i;let m=[];if(u<0||u+a.size>d.length)return!1;for(let e=0;e<a.size;e+=1){const t=c?d[u+e]:n,r=c?l:d[u+e];if("empty"!==s(t,r).status)return!1;o(t,r,"taken",a),m.push(s(t,r))}return r.push(m[0]),!0},receiveAttack:(e,t)=>{const a=s(e,t);return"taken"===a.status?(a.takenBy.hit(),o(e,t,"hit"),a.status):"empty"===a.status||"reserved"===a.status?(o(e,t,"miss"),a.status):null},receiveAround:(e,t)=>{const a=s(e,t);return"empty"===a.status?(o(e,t,"reserved"),a.status):null},reserveSpace:(e,t,a)=>{const r=e.getCell(t,a);if(r&&r.takenBy){e.array.flat().filter((e=>e.takenBy&&e.takenBy.name===r.takenBy.name)).forEach((t=>{[{col:0,row:-1},{col:0,row:1},{col:-1,row:0},{col:1,row:0},{col:-1,row:-1},{col:-1,row:1},{col:1,row:-1},{col:1,row:1}].forEach((a=>{const r=String.fromCharCode(t.col.charCodeAt(0)+a.col),s=(Number(t.row)+a.row).toString();e.getCell(r,s)&&e.receiveAround(r,s)}))}))}},reserveSpaceForAll:function(e){e.shipsPlaced.forEach((t=>{e.reserveSpace(e,t.col,t.row)}))},hitButNotSunk:e=>e.array.flat().some((e=>"hit"===e.status&&!1===e.takenBy.isSunk())),canBeSunk:e=>e&&e.takenBy&&e.takenBy.isSunk(),sinkShip:(e,t,a)=>{const r=e.getCell(t,a);e.array.flat().filter((e=>e.takenBy&&e.takenBy.name===r.takenBy.name)).forEach((t=>{[{col:0,row:-1},{col:0,row:1},{col:-1,row:0},{col:1,row:0},{col:-1,row:-1},{col:-1,row:1},{col:1,row:-1},{col:1,row:1}].forEach((a=>{const r=String.fromCharCode(t.col.charCodeAt(0)+a.col),s=(Number(t.row)+a.row).toString();e.getCell(r,s)&&e.receiveAttack(r,s)}))}))},allSunk:e=>{let t=e.array.flat().filter((e=>e.takenBy));return!!(t.length>0&&t.every((e=>e.takenBy.isSunk())))},array:a,canBePlaced:(a,r,o,n)=>{const l="horizontal"===n,i=l?e:t,c=i.indexOf(l?r:o);if(c<0||c+a>i.length)return!1;const d=[];for(let e=0;e<a;e+=1){const t=l?i[c+e]:r,a=l?o:i[c+e];d.push("empty"===s(t,a).status)}return d.every((e=>!0===e))},shipsPlaced:r,removeReservedSpace:e=>{e.array.flat().forEach((e=>{"reserved"===e.status&&o(e.col,e.row,"empty")}))}}},t=e=>{let t;return"Carrier"===e&&(t=5),"Battleship"===e&&(t=4),"Destroyer"===e&&(t=3),"Submarine"===e&&(t=3),"PatrolBoat"===e&&(t=2),{name:e,size:t,hitCount:0,isVertical:!1,rotate(){this.isVertical=!this.isVertical},hit(){this.hitCount+=1},isSunk(){return this.hitCount===t}}};let a;if(function(){const e=navigator.userAgent,t=/^((?!chrome|android).)*safari/i.test(e),a=/iPad|iPhone|iPod/.test(e)||e.includes("Mac")&&"ontouchend"in document;return t||a}()){const e=new AudioContext;a=(()=>{const t={},a=e.createGain();a.connect(e.destination);const r=(a,r)=>{const s=new XMLHttpRequest;s.open("GET",a,!0),s.responseType="arraybuffer",s.onload=()=>{e.decodeAudioData(s.response,(e=>{t[r]=e}),(e=>{console.error("Error with decoding audio data",e)}))},s.send()},s={},o=r=>{if(s[r]&&(s[r].stop(),s[r].onended=()=>{},s[r]=null),t[r]){const o=e.createBufferSource();o.buffer=t[r],o.connect(a),s[r]=o,o.onended=()=>{s[r]=null},o.start(0)}else console.error("Sound not found:",r)},n=e=>e?(a.gain.value=0,!0):(a.gain.value=1,!1);return r("sounds/gray1wea.wav","miss"),r("sounds/explo.wav","hit"),r("sounds/explodea.wav","sunk"),r("sounds/capture.wav","gameOver"),r("sounds/barr1sel.wav","drop"),r("sounds/drain.wav","rotate"),r("sounds/exp1sel.wav","random"),r("sounds/msg.wav","select"),r("sounds/beep.wav","tick"),r("sounds/buttonRev.wav","grab"),{play:o,muteAll:n}})(),document.addEventListener("touchstart",(()=>{e.resume().then((()=>{console.log("Playback resumed successfully")})).catch((e=>{console.error("Playback resume failed",e)}))}))}else a=(()=>{const e=e=>{Object.keys(e).forEach((t=>{const a=e[t].play;e[t].play=function(){return e[t].currentTime>0&&(e[t].pause(),e[t].currentTime=0),a.call(this)}}))},t=e=>{let t=!1;return Object.values(a).forEach((a=>{a instanceof HTMLAudioElement&&(a.volume=e?0:1,t=e)})),t};return(()=>{const a={miss:new Audio("sounds/gray1wea.wav"),hit:new Audio("sounds/explo.wav"),sunk:new Audio("sounds/explodea.wav"),gameOver:new Audio("sounds/capture.wav"),drop:new Audio("sounds/barr1sel.wav"),rotate:new Audio("sounds/drain.wav"),random:new Audio("sounds/exp1sel.wav"),select:new Audio("sounds/msg.wav"),tick:new Audio("sounds/beep.wav"),grab:new Audio("sounds/buttonRev.wav")};return e(a),Object.assign(Object.assign({},a),{play:function(e){this[e]&&this[e].play&&this[e].play()},muteAll:t})})()})();const r=a,s=()=>{const e=["A","B","C","D","E","F","G","H","I","J"];let t=null,a=null,s=1,o=!0,n=!0;const l=(e,t,d,u)=>{if(u.row===d)if(o){s=1;let n=String.fromCharCode(t.charCodeAt(0)+s);for(;e.getCell(n,d)&&"hit"===e.getCell(n,d).status;)s+=1,n=String.fromCharCode(t.charCodeAt(0)+s);e.getCell(n,d)&&"hit"!==e.getCell(n,d).status&&"miss"!==e.getCell(n,d).status?(e.receiveAttack(n,d),"hit"===e.getCell(n,d).status?(i(a),c({col:n,row:d}),r.play("hit")):"miss"===e.getCell(n,d).status&&r.play("miss"),s+=1):(s=1,o=!1,l(e,n,d,u))}else{s=1;let n=String.fromCharCode(t.charCodeAt(0)-s);for(;e.getCell(n,d)&&"hit"===e.getCell(n,d).status;)s+=1,n=String.fromCharCode(t.charCodeAt(0)-s);e.getCell(n,d)&&"hit"!==e.getCell(n,d).status&&"miss"!==e.getCell(n,d).status?(e.receiveAttack(n,d),"hit"===e.getCell(n,d).status?(i(a),c({col:n,row:d}),r.play("hit")):"miss"===e.getCell(n,d).status&&r.play("miss"),s+=1):(s=1,o=!0,l(e,n,d,u))}else if(u.col===t)if(n){s=1;let o=(Number(d)+s).toString();for(;e.getCell(t,o)&&"hit"===e.getCell(t,o).status;)s+=1,o=(Number(d)+s).toString();e.getCell(t,o)&&"hit"!==e.getCell(t,o).status&&"miss"!==e.getCell(t,o).status?(e.receiveAttack(t,o),"hit"===e.getCell(t,o).status?(i(a),c({col:t,row:o}),r.play("hit")):"miss"===e.getCell(t,o).status&&r.play("miss"),s+=1):(s=1,n=!1,l(e,t,o,u))}else{s=1;let o=(Number(d)-s).toString();for(;e.getCell(t,o)&&"hit"===e.getCell(t,o).status;)s+=1,o=(Number(d)-s).toString();e.getCell(t,o)&&"hit"!==e.getCell(t,o).status&&"miss"!==e.getCell(t,o).status?(e.receiveAttack(t,o),"hit"===e.getCell(t,o).status?(i(a),c({col:t,row:o}),r.play("hit")):"miss"===e.getCell(t,o).status&&r.play("miss"),s+=1):(s=1,n=!0,l(e,t,o,u))}},i=e=>{t=e},c=e=>{a=e};return{attack:(e,t,s)=>{if("hit"!==e.getCell(t,s).status&&"miss"!==e.getCell(t,s).status){let o=e.receiveAttack(t,s);return"hit"===o?(i(a),c({col:t,row:s}),r.play("hit")):"miss"===o&&r.play("miss"),o}return"already shot"},randomAttack:t=>{let s,o;do{s=e[Math.floor(Math.random()*e.length)],o=Math.ceil(10*Math.random()).toString()}while("hit"===t.getCell(s,o).status||"miss"===t.getCell(s,o).status);if("hit"!==t.getCell(s,o).status&&"miss"!==t.getCell(s,o).status){const e=t.receiveAttack(s,o);return"hit"===t.getCell(s,o).status?(i(a),c({col:s,row:o}),r.play("hit")):"miss"===t.getCell(s,o).status&&r.play("miss"),{result:e,col:s,row:o}}return{result:"already shot",col:s,row:o}},followupAttack:(e,t,o)=>{const n=[{col:0,row:-1},{col:0,row:1},{col:-1,row:0},{col:1,row:0}].filter((a=>{const r=String.fromCharCode(t.charCodeAt(0)+a.col),s=(Number(o)+a.row).toString(),n=e.getCell(r,s);return!(!n||"miss"===n.status||"hit"===n.status)}));if(n.length>0){const l=n[Math.floor(Math.random()*n.length)],d=String.fromCharCode(t.charCodeAt(0)+l.col),u=(Number(o)+l.row).toString();e.receiveAttack(d,u),s=1,"hit"===e.getCell(d,u).status?(i(a),c({col:d,row:u}),r.play("hit")):"miss"===e.getCell(d,u).status&&r.play("miss")}},finishingAttack:l,prevHit:t,lastHit:a,getPrevHit:()=>t,getLastHit:()=>a,setPrevHit:i,setLastHit:c}};var o=function(e,t,a,r){return new(a||(a=Promise))((function(s,o){function n(e){try{i(r.next(e))}catch(e){o(e)}}function l(e){try{i(r.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,l)}i((r=r.apply(e,t||[])).next())}))};const n=(e,t,a)=>{const s=document.querySelector("#firstBoard"),n=document.querySelector("#secondBoard"),l=s.querySelectorAll(".cell"),i=n.querySelectorAll(".cell");let d,m,h,f,p=0,v=0,g=[];const y={carrier:a[0],battleship:a[1],destroyer:a[2],submarine:a[3],patrolboat:a[4]};let w=null;const S=document.querySelectorAll(".draggable");function C(e){return Array.from(e).filter((e=>!e.classList.contains("taken")))}const b=[...C(l),...C(i)];function B(e,t){return e.slice(Math.min(e.length-t,0))}function k(a){const r=a.target;let s;const o=r.closest(".board").id;return"firstBoard"===o&&(s=e),"secondBoard"===o&&(s=t),{target:r,gameboard:s}}function A(e,t){return d=t.getAttribute("data-name"),m=Number(t.getAttribute("data-size")),p=e.offsetX,v=e.offsetY,h=y[d],f=h.isVertical?"vertical":"horizontal",{shipName:d,shipObj:h}}function L(){g.forEach((e=>e.classList.remove("highlight")))}function E(e){return"firstBoard"===e||"secondBoard"===e}function P(e){const{gameboard:t}=k(e);t.removeReservedSpace(t),function(e,t){const{target:a}=k(t),r=a.getAttribute("data-name");let s=e.shipsPlaced.filter((e=>r!==e.takenBy.name.toLowerCase()));s.forEach((t=>{e.reserveSpace(e,t.col,t.row)}))}(t,e),u.renew(),c.setInitMessage(),0===e.button&&r.play("grab")}function x(e){return o(this,void 0,void 0,(function*(){yield new Promise((e=>setTimeout(e,0)));const{target:t,gameboard:a}=k(e);t.style.visibility="hidden",A(e,t),a.removeShip(h,a),c.clearShip(h,a)}))}function M(e){return function(t){const{target:a}=k(t),r=a.closest(".board").id;if(E(r)&&(t.preventDefault(),h)){const a=function(e,t,a){const{target:r}=k(a);return e-(t.isVertical?10*Math.floor(v/r.offsetHeight):Math.floor(p/r.offsetWidth))}(e,h,t),s=function(e){return"firstBoard"===e?l:i}(r),o=[];!function(e,t,a,r){for(let s=0;s<m;s++){let o=e.isVertical?t+10*s:t+s;a[o]&&(r.push(a[o]),g.push(a[o]))}}(h,a,s,o),function(e){return e.every((e=>e.classList.contains("empty")))&&(e.every((t=>t.dataset.col===e[0].dataset.col))||e.every((t=>t.dataset.row===e[0].dataset.row)))&&e.length===m&&e.every((e=>e.dataset.col>="A"&&e.dataset.col<="J"))&&e.every((e=>Number(e.dataset.row)>=1&&Number(e.dataset.row)<=10))}(o)&&(!function(e){e.forEach((e=>{e.classList.add("highlight")}))}(o),w||(w=B(g,m)))}}}function q(){L(),g.length=0}function z(e){L();const t=B(g,m),{target:a,gameboard:s}=k(e);E(a.closest(".board").id)&&h&&null!==w&&function(e,t,a,r){e.canBePlaced(t.size,a[0].dataset.col,a[0].dataset.row,r)?(e.placeShip(t,a[0].dataset.col,a[0].dataset.row,r),e.reserveSpace(e,a[0].dataset.col,a[0].dataset.row)):(e.placeShip(t,w[0].dataset.col,w[0].dataset.row,r),e.reserveSpace(e,w[0].dataset.col,w[0].dataset.row))}(s,h,t,f),s.removeReservedSpace(s),s.reserveSpaceForAll(s),u.renew(),c.canBeStarted(),c.setStartMessage(),w=null,r.play("drop")}function O(a){const r=a.target;r.style.visibility="visible",function(a,r){if(0===g.length){const s=a.closest(".board");if(s){let{gameboard:a}=k(r);"firstBoard"===s.id?a=e:"secondBoard"===s.id&&(a=t),a&&w&&a.canBePlaced(h.size,w[0].dataset.col,w[0].dataset.row,f)&&(a.placeShip(h,w[0].dataset.col,w[0].dataset.row,f),a.reserveSpace(a,w[0].dataset.col,w[0].dataset.row),u.renew())}}}(r,a),c.canBeStarted()&&c.fillCells("second"),c.setStartMessage()}function G(e){const{gameboard:t}=k(e);t.reserveSpaceForAll(t),u.renew(),c.setStartMessage()}function V(e){e.preventDefault();const{target:t,gameboard:a}=k(e),{shipName:s,shipObj:o}=A(e,t),n=a.shipsPlaced.filter((e=>e.takenBy.name.toLowerCase()===s));a.removeShip(o,a),a.removeReservedSpace(a),a.reserveSpaceForAll(a),o.rotate(),f=o.isVertical?"vertical":"horizontal",a.canBePlaced(o.size,n[0].col,n[0].row,f)||(o.rotate(),f=o.isVertical?"vertical":"horizontal"),a.placeShip(o,n[0].col,n[0].row,f),a.reserveSpaceForAll(a),u.renew(),c.canBeStarted()&&c.fillCells("second"),r.play("rotate")}function H(e){e.preventDefault()}function N(e){e.forEach(((e,t)=>{e.addEventListener("dragover",M(t)),e.addEventListener("dragleave",q),e.addEventListener("drop",z)}))}N(l),N(i),S.forEach((e=>{e.addEventListener("mousedown",P),e.addEventListener("dragstart",x),e.addEventListener("dragend",O),e.addEventListener("mouseup",G),e.addEventListener("contextmenu",V),b.forEach((e=>e.addEventListener("contextmenu",H)))}))};var l=function(e,t,a,r){return new(a||(a=Promise))((function(s,o){function n(e){try{i(r.next(e))}catch(e){o(e)}}function l(e){try{i(r.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,l)}i((r=r.apply(e,t||[])).next())}))};const i=(()=>{const e=document.querySelector("#messageBox p"),t=document.querySelector("#boards"),a=document.querySelector("#playerVsComputer"),s=document.querySelector("#newGame"),o=document.querySelector("#computerVsComputer"),i=document.querySelector("#start"),c=document.querySelector("#randomPlacement"),d=[a,s,o,i,c],m=document.getElementsByName("speed");let h=1e3;const f=document.querySelector("#mute");let p=!1;const v=(e,t)=>{e.array.forEach((e=>{e.forEach((e=>{const a=(e=>{const t=document.createElement("div");return t.classList.add("cell"),t.classList.add(e.status),t.setAttribute("data-col",e.col),t.setAttribute("data-row",e.row),e.takenBy&&t.setAttribute("data-shipName",e.takenBy.name.toLowerCase()),t})(e);t.append(a)}))}))},g=e=>e===u.humanGameboard?"firstBoard":e===u.computerGameboard?"secondBoard":void 0,y=e=>{const t=document.querySelector(`#${g(e)}`);t.innerHTML="",v(e,t)},w=e=>{if(!e.target.classList.contains("hit")&&!e.target.classList.contains("miss")){return{col:e.target.getAttribute("data-col"),row:e.target.getAttribute("data-row")}}},S=(e,t)=>{t.classList.remove("selected"),e.classList.contains("selected")||(e.classList.add("selected"),e===a&&l(void 0,void 0,void 0,(function*(){P("first"),C(!0),d.forEach((e=>e.disabled=!0)),yield new Promise((e=>setTimeout(e,M()))),d.forEach((e=>e.disabled=!1)),C(!1),k(),A()})),e===o&&l(void 0,void 0,void 0,(function*(){C(!0),d.forEach((e=>e.disabled=!0)),yield new Promise((e=>setTimeout(e,M()))),d.forEach((e=>e.disabled=!1)),C(!1),i.disabled=!0,c.disabled=!0,o.disabled=!0})),u.restart(),E())},C=e=>{document.documentElement.classList.toggle("wait",e)},b=()=>{document.querySelector("#secondBoard").classList.remove("boardOutline")},B=(e,t,a,r)=>{const s=document.querySelector("html"),o=parseFloat(window.getComputedStyle(s,null).getPropertyValue("font-size"));r?(e.style.width=a/o+"rem",e.style.height=t*(a/o)+"rem"):(e.style.width=t*(a/o)+"rem",e.style.height=a/o+"rem")},k=()=>5===u.humanGameboard.shipsPlaced.length&&0===u.computerGameboard.shipsPlaced.length?(P("second"),i.disabled=!1,!0):(i.disabled=!0,!1),A=()=>{const t="Use 'Random Placement' button, then press Start!",a="Drag and drop ships onto the left board or use 'Random Placement' button. Right click to rotate. When ready, press Start!";e.textContent!==t&&e.textContent!==a&&"Restarting..."!==e.textContent&&"You can now begin the game. Press start!"!==e.textContent||(e.textContent=t,window.matchMedia("(min-width: 1024px)").matches&&(e.textContent=a))},L=()=>{k()&&(e.textContent="You can now begin the game. Press start!")},E=()=>{e.textContent="Restarting..."},P=e=>{let t;"first"===e?t=document.querySelector("#firstBoard"):"second"===e&&(t=document.querySelector("#secondBoard"));t.querySelectorAll(".cell").forEach((e=>{e.classList.add("filled")}))},x=e=>l(void 0,void 0,void 0,(function*(){let t;C(!0),"first"===e?t=document.querySelector("#firstBoard"):"second"===e&&(t=document.querySelector("#secondBoard"));const a=t.querySelectorAll(".cell");a.forEach((e=>{e.classList.add("filled")})),yield new Promise((e=>{a.forEach(((t,s)=>{setTimeout((()=>{t.classList.remove("filled"),s===a.length-1&&e(),(s+1)%6==0&&r.play("tick")}),M()/120*s)}))})),C(!1)}));a.addEventListener("click",(()=>{P("first"),S(a,o);document.querySelector("#secondBoard").classList.remove("start"),i.disabled=!0,a.disabled=!0,r.play("select"),x("first")})),o.addEventListener("click",(()=>{P("first"),P("second"),S(o,a);const e=document.querySelector("#secondBoard");e.classList.remove("hide"),e.classList.add("start"),i.disabled=!0,c.disabled=!0,o.disabled=!0,r.play("select"),Promise.all([x("first"),x("second")])})),s.addEventListener("click",(()=>l(void 0,void 0,void 0,(function*(){b(),P("first"),o.classList.contains("selected")&&(P("second"),i.disabled=!0,c.disabled=!0,o.disabled=!0),r.play("select"),yield l(void 0,void 0,void 0,(function*(){E(),C(!0),d.forEach((e=>e.disabled=!0)),yield u.newGame(),d.forEach((e=>e.disabled=!1)),C(!1),k(),a.classList.contains("selected")&&A()}));const e=document.querySelector("#secondBoard");e.classList.remove("hide"),a.classList.contains("selected")&&(e.classList.remove("start"),x("first"),i.disabled=!0,a.disabled=!0),o.classList.contains("selected")&&(e.classList.add("start"),c.disabled=!0,Promise.all([x("first"),x("second")]),i.disabled=!0,c.disabled=!0,o.disabled=!0)})))),i.addEventListener("click",(()=>{u.start();const e=document.querySelector("#secondBoard");e.classList.add("hide"),e.classList.add("start"),i.disabled=!0,c.disabled=!0,x("second")})),c.addEventListener("click",(()=>{u.computerGameboard.clearBoard(),y(u.computerGameboard),u.randomizeShipsPlacement(u.humanGameboard),n(u.humanGameboard,u.computerGameboard,u.humanShips),k(),L(),P("second"),r.play("random")}));const M=()=>h;return m.forEach((e=>{e.addEventListener("click",(e=>{(e=>{let t=e.target;t.checked&&(h=Number(t.value))})(e),r.play("select")}))})),f.addEventListener("click",(()=>{const e=document.querySelector("#speaker");p?(f.classList.remove("muted"),e.classList.remove("fa-volume-xmark"),e.classList.add("fa-volume-high"),r.muteAll&&r.muteAll(!1)):(f.classList.add("muted"),e.classList.remove("fa-volume-high"),e.classList.add("fa-volume-xmark"),r.muteAll&&r.muteAll(!0)),p=!p,r.play("select")})),window.addEventListener("resize",A),{renderBoard:e=>{const a=document.createElement("div");a.classList.add("board"),a.id=g(e),v(e,a),t.append(a)},clearShip:(e,t)=>{document.querySelectorAll(`#${g(t)} .cell`).forEach((t=>{t.classList.contains("taken")&&t.getAttribute("data-shipName")===e.name.toLowerCase()&&(t.classList.remove("taken"),t.classList.add("empty"),t.removeAttribute("data-shipName"))}))},refreshBoard:y,handleUserInput:()=>l(void 0,void 0,void 0,(function*(){const e=document.querySelectorAll("#secondBoard .cell");let t;do{t=yield new Promise((t=>{e.forEach((e=>{e.classList.contains("hit")||e.classList.contains("miss")||e.addEventListener("click",(e=>{t(w(e))}),{once:!0})}))}))}while(!t);return{col:t.col.toString(),row:t.row.toString()}})),pVcBtn:a,cVcBtn:o,waiting:C,setBoardPointer:e=>{const t=document.querySelector("#secondBoard");"player"===e?t.classList.add("boardOutline"):"computer"===e&&t.classList.remove("boardOutline")},removeBoardPointer:b,createShipOverlay:e=>{e.shipsPlaced.forEach((t=>{const a=(e=>{const t=document.createElement("div"),a=e.takenBy.name.toLowerCase(),r=e.takenBy.size;return t.classList.add("ship",a,"draggable"),t.setAttribute("data-size",`${r}`),t.setAttribute("data-name",`${a}`),t.setAttribute("draggable","true"),t})(t),r=document.querySelector(".board .cell").getBoundingClientRect().width,s=t.takenBy.size,o=t.takenBy.isVertical;document.querySelector(`#${g(e)} .cell[data-col="${t.col}"][data-row="${t.row}"]`).appendChild(a),B(a,s,r,o),window.addEventListener("resize",(()=>((e,t,a)=>{const r=document.querySelector(".board .cell").getBoundingClientRect().width;B(e,t,r,a)})(a,s,o)))}))},canBeStarted:k,setInitMessage:A,setStartMessage:L,setTurnMessagePvC:t=>{e.textContent=t?"Player's turn. Take aim and attack!":"Computer's turn. The shot is coming!"},setTurnMessageCvC:t=>{e.textContent=t?"Violet's turn":"Blue's turn"},setGameOverMessagePvC:t=>{"player"===t?e.textContent="Game over, Player wins!":"computer"===t&&(e.textContent="Game over, Computer wins!")},setGameOverMessageCvC:t=>{"player"===t?e.textContent="Game over, Blue Computer wins!":"computer"===t&&(e.textContent="Game over, Violet Computer wins!")},setRestartMessage:E,getSpeedValue:M,fillCells:P,unFillCells:x}})(),c=i;var d=function(e,t,a,r){return new(a||(a=Promise))((function(s,o){function n(e){try{i(r.next(e))}catch(e){o(e)}}function l(e){try{i(r.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,l)}i((r=r.apply(e,t||[])).next())}))};const u=(()=>{const a=e(),o=e(),l=s(),i=s();let u,m,h,f,p,v=!0,g=[u,m,h,f,p];const y=()=>{u=t("Carrier"),m=t("Battleship"),h=t("Destroyer"),f=t("Submarine"),p=t("PatrolBoat"),g=[u,m,h,f,p],o.placeShip(u,"A","1","horizontal"),o.placeShip(m,"A","3","horizontal"),o.placeShip(h,"A","5","horizontal"),o.placeShip(f,"A","7","horizontal"),o.placeShip(p,"A","9","horizontal"),o.reserveSpaceForAll(o)},w=e=>(c.removeBoardPointer(),c.pVcBtn.classList.contains("selected")&&c.setGameOverMessagePvC(e),c.cVcBtn.classList.contains("selected")&&c.setGameOverMessageCvC(e),r.play("gameOver"),!0),S=()=>o.allSunk(o)?w("player"):!!a.allSunk(a)&&w("computer"),C=e=>{let t;if(e===a?t=i:e===o&&(t=l),e.hitButNotSunk(e)){const a=t.getLastHit(),s=t.getPrevHit(),o=e.getCell(a.col,a.row),n=o.takenBy.hitCount;if(null!==s&&null!==a&&n>=2&&n<=4?t.finishingAttack(e,a.col,a.row,s):1===n&&t.followupAttack(e,a.col,a.row),e.canBeSunk(o)&&(e.sinkShip(e,a.col,a.row),r.play("sunk")),S())return}else{const{col:a,row:s}=t.randomAttack(e),o=e.getCell(a,s);if("hit"===o.status&&(t.setPrevHit(t.getLastHit()),t.setLastHit({col:a,row:s}),e.canBeSunk(o)&&(e.sinkShip(e,a,s),r.play("sunk"),t.setPrevHit(null),t.setLastHit(null),S())))return}},b=(e,t)=>d(void 0,void 0,void 0,(function*(){c.waiting(!0),c.setTurnMessageCvC(e),yield new Promise((e=>setTimeout(e,c.getSpeedValue()))),c.cVcBtn.classList.contains("selected")&&!v&&(C(t),c.refreshBoard(t))})),B=e=>{e.clearBoard(),(e=>{let r;e===a?(u=t("Carrier"),m=t("Battleship"),h=t("Destroyer"),f=t("Submarine"),p=t("PatrolBoat"),r=[u,m,h,f,p]):e===o&&(r=[t("Carrier"),t("Battleship"),t("Destroyer"),t("Submarine"),t("PatrolBoat")]);g.length=0;const s=["A","B","C","D","E","F","G","H","I","J"],n=()=>s[Math.floor(Math.random()*s.length)],l=()=>Math.ceil(10*Math.random()).toString(),i=()=>Math.random()>.5?"horizontal":"vertical";r.forEach((t=>{let a=n(),r=l(),s=i(),o=e.canBePlaced(t.size,a,r,s);for(;!o;)a=n(),r=l(),s=i(),o=e.canBePlaced(t.size,a,r,s);o&&(e.placeShip(t,a,r,s),e.reserveSpace(e,a,r)),g.push(t)}))})(e),c.refreshBoard(e),e===a&&c.createShipOverlay(e)},k=()=>{c.cVcBtn.classList.contains("selected")&&(B(a),B(o),v=!1,d(void 0,void 0,void 0,(function*(){c.removeBoardPointer();let e=!0;for(;!S()&&!v;)yield b(e,e?a:o),e=!e;v=!1,c.waiting(!1)})),c.refreshBoard(a))},A=()=>{v=!0,l.setPrevHit(null),l.setLastHit(null),i.setPrevHit(null),i.setLastHit(null),a.clearBoard(),o.clearBoard(),y(),c.refreshBoard(a),c.refreshBoard(o),c.createShipOverlay(o),n(a,o,g),c.canBeStarted(),k()};return{init:()=>{c.setInitMessage(),a.generateArray(),o.generateArray(),c.renderBoard(a),c.renderBoard(o),y(),c.refreshBoard(o),c.createShipOverlay(o),n(a,o,g),c.canBeStarted(),k(),c.pVcBtn.disabled=!0},renew:()=>{c.refreshBoard(a),c.refreshBoard(o),c.createShipOverlay(a),c.createShipOverlay(o),n(a,o,g)},humanGameboard:a,computerGameboard:o,restart:A,newGame:()=>d(void 0,void 0,void 0,(function*(){v=!0,yield new Promise((e=>setTimeout(e,c.getSpeedValue()))),v=!1,A()})),start:()=>{c.refreshBoard(a),B(o),v=!1,d(void 0,void 0,void 0,(function*(){let e=!0;for(;!(S()||v||(e&&(yield d(void 0,void 0,void 0,(function*(){c.setTurnMessagePvC(!0),c.setBoardPointer("player"),c.waiting(!1);const{col:e,row:t}=yield c.handleUserInput();l.attack(o,e,t);const a=o.getCell(e,t);o.canBeSunk(a)&&(o.sinkShip(o,e,t),r.play("sunk")),c.refreshBoard(o)})),e=!1),S()||v));)e||(yield d(void 0,void 0,void 0,(function*(){c.setTurnMessagePvC(!1),c.setBoardPointer("computer"),c.waiting(!0),yield new Promise((e=>setTimeout(e,c.getSpeedValue()))),c.pVcBtn.classList.contains("selected")&&!v&&(C(a),c.refreshBoard(a))})),e=!0);v=!1,c.waiting(!1)}))},randomizeShipsPlacement:B,humanShips:g}})();u.init()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFDbkIsRUFBRzNDLFNBQVEsU0FDTCxJQUFJaEksU0FBU0MsR0FBWWdFLFdBQVdoRSxFQUFTLEVBQUdrSSxtQkFDakQsRUFBRzVCLE9BQU9sRSxVQUFVQyxTQUFTLGNBQWUySixJQUdqREssRUFBVzlFLEdBQ1gsRUFBR0UsYUFBYUYsR0FDcEIsSUFhWTRELEdBQWUsR0FHdkJhLEdBQVksRUFDWixFQUFHakUsU0FBUSxFQUNmLEdBbUYwQixFQXNDd0QrQiwwQkFBeUJDLGFBQzlHLEVBclFrQixHQ1puQixFQUFXNEMsTSIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvbW9kdWxlcy9nYW1lYm9hcmQudHMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9tb2R1bGVzL3NoaXAudHMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9tb2R1bGVzL3NvdW5kcy50cyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL21vZHVsZXMvcGxheWVyLnRzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvbW9kdWxlcy9kcmFnQW5kRHJvcC50cyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL21vZHVsZXMvdWkudHMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9tb2R1bGVzL2NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBnYW1lYm9hcmRGYWN0b3J5ID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvbHMgPSBbJ0EnLCAnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onXTtcbiAgICBjb25zdCByb3dzID0gWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICcxMCddO1xuICAgIGNvbnN0IGFycmF5ID0gW107XG4gICAgY29uc3Qgc2hpcHNQbGFjZWQgPSBbXTtcbiAgICBjb25zdCBnZW5lcmF0ZUFycmF5ID0gKCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGFycmF5W2ldID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICBhcnJheVtpXVtqXSA9IHsgY29sOiBjb2xzW2pdLCByb3c6IHJvd3NbaV0sIHN0YXR1czogJ2VtcHR5JywgdGFrZW5CeTogbnVsbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjbGVhckJvYXJkID0gKCkgPT4ge1xuICAgICAgICBhcnJheS5mbGF0KCkuZm9yRWFjaCgoY2VsbCkgPT4ge1xuICAgICAgICAgICAgY2VsbC5zdGF0dXMgPSAnZW1wdHknO1xuICAgICAgICAgICAgY2VsbC50YWtlbkJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcbiAgICAgICAgc2hpcHNQbGFjZWQubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIGNvbnN0IGdldENlbGwgPSAoY29sLCByb3cpID0+IHtcbiAgICAgICAgY29uc3QgY29sSW5kZXggPSBjb2xzLmluZGV4T2YoY29sKTtcbiAgICAgICAgY29uc3Qgcm93SW5kZXggPSByb3dzLmluZGV4T2Yocm93KTtcbiAgICAgICAgaWYgKGNvbEluZGV4ID09PSAtMSB8fCByb3dJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheVtyb3dJbmRleF1bY29sSW5kZXhdO1xuICAgIH07XG4gICAgY29uc3Qgc2V0Q2VsbCA9IChjb2wsIHJvdywgbmV3U3RhdHVzLCBuZXdUYWtlbkJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbEluZGV4ID0gY29scy5pbmRleE9mKGNvbCk7XG4gICAgICAgIGNvbnN0IHJvd0luZGV4ID0gcm93cy5pbmRleE9mKHJvdyk7XG4gICAgICAgIGlmIChjb2xJbmRleCA9PT0gLTEgfHwgcm93SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBhcnJheVtyb3dJbmRleF1bY29sSW5kZXhdLnN0YXR1cyA9IG5ld1N0YXR1cztcbiAgICAgICAgaWYgKG5ld1Rha2VuQnkpIHtcbiAgICAgICAgICAgIGFycmF5W3Jvd0luZGV4XVtjb2xJbmRleF0udGFrZW5CeSA9IG5ld1Rha2VuQnk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5W3Jvd0luZGV4XVtjb2xJbmRleF07XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVTaGlwID0gKHNoaXAsIGdhbWVib2FyZCkgPT4ge1xuICAgICAgICBjb25zdCBnYW1lYm9hcmRDZWxscyA9IGdhbWVib2FyZC5hcnJheS5mbGF0KCk7XG4gICAgICAgIGdhbWVib2FyZENlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgICAgIGlmIChjZWxsLnN0YXR1cyA9PT0gJ3Rha2VuJyAmJiBjZWxsLnRha2VuQnkubmFtZSA9PT0gc2hpcC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgY2VsbC5zdGF0dXMgPSAnZW1wdHknO1xuICAgICAgICAgICAgICAgIGNlbGwudGFrZW5CeSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzaGlwSW5kZXggPSBzaGlwc1BsYWNlZC5pbmRleE9mKGNlbGwpO1xuICAgICAgICAgICAgaWYgKGNlbGwudGFrZW5CeSA9PT0gbnVsbCAmJiBzaGlwSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgc2hpcHNQbGFjZWQuc3BsaWNlKHNoaXBJbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgcGxhY2VTaGlwID0gKHNoaXAsIGNvbCwgcm93LCBvcmllbnRhdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBpc0hvcml6b250YWwgPSBvcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnO1xuICAgICAgICBjb25zdCBjZWxscyA9IGlzSG9yaXpvbnRhbCA/IGNvbHMgOiByb3dzO1xuICAgICAgICBjb25zdCBzdGFydCA9IGNlbGxzLmluZGV4T2YoaXNIb3Jpem9udGFsID8gY29sIDogcm93KTtcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgICAgIHNoaXAuaXNWZXJ0aWNhbCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2hpcC5pc1ZlcnRpY2FsID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2hpcENlbGxzID0gW107XG4gICAgICAgIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgKyBzaGlwLnNpemUgPiBjZWxscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAuc2l6ZTsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q29sID0gaXNIb3Jpem9udGFsID8gY2VsbHNbc3RhcnQgKyBpXSA6IGNvbDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRSb3cgPSBpc0hvcml6b250YWwgPyByb3cgOiBjZWxsc1tzdGFydCArIGldO1xuICAgICAgICAgICAgaWYgKGdldENlbGwoY3VycmVudENvbCwgY3VycmVudFJvdykuc3RhdHVzICE9PSAnZW1wdHknKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0Q2VsbChjdXJyZW50Q29sLCBjdXJyZW50Um93LCAndGFrZW4nLCBzaGlwKTtcbiAgICAgICAgICAgIHNoaXBDZWxscy5wdXNoKGdldENlbGwoY3VycmVudENvbCwgY3VycmVudFJvdykpO1xuICAgICAgICB9XG4gICAgICAgIHNoaXBzUGxhY2VkLnB1c2goc2hpcENlbGxzWzBdKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBjb25zdCBjYW5CZVBsYWNlZCA9IChzaXplLCBjb2wsIHJvdywgb3JpZW50YXRpb24pID0+IHtcbiAgICAgICAgY29uc3QgaXNIb3Jpem9udGFsID0gb3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJztcbiAgICAgICAgY29uc3QgY2VsbHMgPSBpc0hvcml6b250YWwgPyBjb2xzIDogcm93cztcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBjZWxscy5pbmRleE9mKGlzSG9yaXpvbnRhbCA/IGNvbCA6IHJvdyk7XG4gICAgICAgIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgKyBzaXplID4gY2VsbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXJlRW1wdHkgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb2wgPSBpc0hvcml6b250YWwgPyBjZWxsc1tzdGFydCArIGldIDogY29sO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFJvdyA9IGlzSG9yaXpvbnRhbCA/IHJvdyA6IGNlbGxzW3N0YXJ0ICsgaV07XG4gICAgICAgICAgICBhcmVFbXB0eS5wdXNoKGdldENlbGwoY3VycmVudENvbCwgY3VycmVudFJvdykuc3RhdHVzID09PSAnZW1wdHknKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJlRW1wdHkuZXZlcnkoKGl0ZW0pID0+IGl0ZW0gPT09IHRydWUpO1xuICAgIH07XG4gICAgY29uc3QgcmVjZWl2ZUF0dGFjayA9IChjb2wsIHJvdykgPT4ge1xuICAgICAgICBjb25zdCBjZWxsID0gZ2V0Q2VsbChjb2wsIHJvdyk7XG4gICAgICAgIGlmIChjZWxsLnN0YXR1cyA9PT0gJ3Rha2VuJykge1xuICAgICAgICAgICAgY2VsbC50YWtlbkJ5LmhpdCgpO1xuICAgICAgICAgICAgc2V0Q2VsbChjb2wsIHJvdywgJ2hpdCcpO1xuICAgICAgICAgICAgcmV0dXJuIGNlbGwuc3RhdHVzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjZWxsLnN0YXR1cyA9PT0gJ2VtcHR5JyB8fCBjZWxsLnN0YXR1cyA9PT0gJ3Jlc2VydmVkJykge1xuICAgICAgICAgICAgc2V0Q2VsbChjb2wsIHJvdywgJ21pc3MnKTtcbiAgICAgICAgICAgIHJldHVybiBjZWxsLnN0YXR1cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHJlY2VpdmVBcm91bmQgPSAoY29sLCByb3cpID0+IHtcbiAgICAgICAgY29uc3QgY2VsbCA9IGdldENlbGwoY29sLCByb3cpO1xuICAgICAgICBpZiAoY2VsbC5zdGF0dXMgPT09ICdlbXB0eScpIHtcbiAgICAgICAgICAgIHNldENlbGwoY29sLCByb3csICdyZXNlcnZlZCcpO1xuICAgICAgICAgICAgcmV0dXJuIGNlbGwuc3RhdHVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcmVzZXJ2ZVNwYWNlID0gKGdhbWVib2FyZCwgY29sLCByb3cpID0+IHtcbiAgICAgICAgY29uc3QgY2VsbCA9IGdhbWVib2FyZC5nZXRDZWxsKGNvbCwgcm93KTtcbiAgICAgICAgaWYgKGNlbGwgJiYgY2VsbC50YWtlbkJ5KSB7XG4gICAgICAgICAgICBjb25zdCBnYW1lYm9hcmRDZWxscyA9IGdhbWVib2FyZC5hcnJheS5mbGF0KCk7XG4gICAgICAgICAgICBjb25zdCBzaGlwQ2VsbHMgPSBnYW1lYm9hcmRDZWxscy5maWx0ZXIoKGMpID0+IGMudGFrZW5CeSAmJiBjLnRha2VuQnkubmFtZSA9PT0gY2VsbC50YWtlbkJ5Lm5hbWUpO1xuICAgICAgICAgICAgc2hpcENlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXJlY3Rpb25zID0gW1xuICAgICAgICAgICAgICAgICAgICB7IGNvbDogMCwgcm93OiAtMSB9LFxuICAgICAgICAgICAgICAgICAgICB7IGNvbDogMCwgcm93OiAxIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAtMSwgcm93OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAxLCByb3c6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgeyBjb2w6IC0xLCByb3c6IC0xIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAtMSwgcm93OiAxIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAxLCByb3c6IC0xIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgY29sOiAxLCByb3c6IDEgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbnMuZm9yRWFjaCgoZGlyZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NvbCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2VsbC5jb2wuY2hhckNvZGVBdCgwKSArIGRpcmVjdGlvbi5jb2wpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdSb3cgPSAoTnVtYmVyKGNlbGwucm93KSArIGRpcmVjdGlvbi5yb3cpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuZ2V0Q2VsbChuZXdDb2wsIG5ld1JvdykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVib2FyZC5yZWNlaXZlQXJvdW5kKG5ld0NvbCwgbmV3Um93KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIHJlc2VydmVTcGFjZUZvckFsbChnYW1lYm9hcmQpIHtcbiAgICAgICAgZ2FtZWJvYXJkLnNoaXBzUGxhY2VkLmZvckVhY2goKHNoaXApID0+IHtcbiAgICAgICAgICAgIGdhbWVib2FyZC5yZXNlcnZlU3BhY2UoZ2FtZWJvYXJkLCBzaGlwLmNvbCwgc2hpcC5yb3cpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgcmVtb3ZlUmVzZXJ2ZWRTcGFjZSA9IChnYW1lYm9hcmQpID0+IHtcbiAgICAgICAgY29uc3QgZ2FtZWJvYXJkQ2VsbHMgPSBnYW1lYm9hcmQuYXJyYXkuZmxhdCgpO1xuICAgICAgICBnYW1lYm9hcmRDZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2VsbC5zdGF0dXMgPT09ICdyZXNlcnZlZCcpIHtcbiAgICAgICAgICAgICAgICBzZXRDZWxsKGNlbGwuY29sLCBjZWxsLnJvdywgJ2VtcHR5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgY2FuQmVTdW5rID0gKGNlbGwpID0+IHtcbiAgICAgICAgcmV0dXJuIGNlbGwgJiYgY2VsbC50YWtlbkJ5ICYmIGNlbGwudGFrZW5CeS5pc1N1bmsoKTtcbiAgICB9O1xuICAgIGNvbnN0IHNpbmtTaGlwID0gKGdhbWVib2FyZCwgY29sLCByb3cpID0+IHtcbiAgICAgICAgY29uc3QgY2VsbCA9IGdhbWVib2FyZC5nZXRDZWxsKGNvbCwgcm93KTtcbiAgICAgICAgY29uc3Qgc2hpcENlbGxzID0gZ2FtZWJvYXJkLmFycmF5LmZsYXQoKS5maWx0ZXIoKGMpID0+IGMudGFrZW5CeSAmJiBjLnRha2VuQnkubmFtZSA9PT0gY2VsbC50YWtlbkJ5Lm5hbWUpO1xuICAgICAgICBzaGlwQ2VsbHMuZm9yRWFjaCgoY2VsbCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9ucyA9IFtcbiAgICAgICAgICAgICAgICB7IGNvbDogMCwgcm93OiAtMSB9LFxuICAgICAgICAgICAgICAgIHsgY29sOiAwLCByb3c6IDEgfSxcbiAgICAgICAgICAgICAgICB7IGNvbDogLTEsIHJvdzogMCB9LFxuICAgICAgICAgICAgICAgIHsgY29sOiAxLCByb3c6IDAgfSxcbiAgICAgICAgICAgICAgICB7IGNvbDogLTEsIHJvdzogLTEgfSxcbiAgICAgICAgICAgICAgICB7IGNvbDogLTEsIHJvdzogMSB9LFxuICAgICAgICAgICAgICAgIHsgY29sOiAxLCByb3c6IC0xIH0sXG4gICAgICAgICAgICAgICAgeyBjb2w6IDEsIHJvdzogMSB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGRpcmVjdGlvbnMuZm9yRWFjaCgoZGlyZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q29sID0gU3RyaW5nLmZyb21DaGFyQ29kZShjZWxsLmNvbC5jaGFyQ29kZUF0KDApICsgZGlyZWN0aW9uLmNvbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Um93ID0gKE51bWJlcihjZWxsLnJvdykgKyBkaXJlY3Rpb24ucm93KS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuZ2V0Q2VsbChuZXdDb2wsIG5ld1JvdykpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2FtZWJvYXJkLnJlY2VpdmVBdHRhY2sobmV3Q29sLCBuZXdSb3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGhpdEJ1dE5vdFN1bmsgPSAoZ2FtZWJvYXJkKSA9PiB7XG4gICAgICAgIGNvbnN0IGdhbWVib2FyZENlbGxzID0gZ2FtZWJvYXJkLmFycmF5LmZsYXQoKTtcbiAgICAgICAgcmV0dXJuIGdhbWVib2FyZENlbGxzLnNvbWUoKGNlbGwpID0+IHtcbiAgICAgICAgICAgIGlmIChjZWxsLnN0YXR1cyA9PT0gJ2hpdCcgJiYgY2VsbC50YWtlbkJ5LmlzU3VuaygpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGFsbFN1bmsgPSAoZ2FtZWJvYXJkKSA9PiB7XG4gICAgICAgIGNvbnN0IGdhbWVib2FyZENlbGxzID0gZ2FtZWJvYXJkLmFycmF5LmZsYXQoKTtcbiAgICAgICAgbGV0IHRha2VuQnlDZWxscyA9IGdhbWVib2FyZENlbGxzLmZpbHRlcigoY2VsbCkgPT4gY2VsbC50YWtlbkJ5KTtcbiAgICAgICAgaWYgKHRha2VuQnlDZWxscy5sZW5ndGggPiAwICYmIHRha2VuQnlDZWxscy5ldmVyeSgoY2VsbCkgPT4gY2VsbC50YWtlbkJ5LmlzU3VuaygpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGdlbmVyYXRlQXJyYXksXG4gICAgICAgIGNsZWFyQm9hcmQsXG4gICAgICAgIGdldENlbGwsXG4gICAgICAgIHNldENlbGwsXG4gICAgICAgIHJlbW92ZVNoaXAsXG4gICAgICAgIHBsYWNlU2hpcCxcbiAgICAgICAgcmVjZWl2ZUF0dGFjayxcbiAgICAgICAgcmVjZWl2ZUFyb3VuZCxcbiAgICAgICAgcmVzZXJ2ZVNwYWNlLFxuICAgICAgICByZXNlcnZlU3BhY2VGb3JBbGwsXG4gICAgICAgIGhpdEJ1dE5vdFN1bmssXG4gICAgICAgIGNhbkJlU3VuayxcbiAgICAgICAgc2lua1NoaXAsXG4gICAgICAgIGFsbFN1bmssXG4gICAgICAgIGFycmF5LFxuICAgICAgICBjYW5CZVBsYWNlZCxcbiAgICAgICAgc2hpcHNQbGFjZWQsXG4gICAgICAgIHJlbW92ZVJlc2VydmVkU3BhY2UsXG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBnYW1lYm9hcmRGYWN0b3J5O1xuIiwiY29uc3Qgc2hpcEZhY3RvcnkgPSAobmFtZSkgPT4ge1xuICAgIGxldCBzaXplO1xuICAgIGlmIChuYW1lID09PSAnQ2FycmllcicpIHtcbiAgICAgICAgc2l6ZSA9IDU7XG4gICAgfVxuICAgIGlmIChuYW1lID09PSAnQmF0dGxlc2hpcCcpIHtcbiAgICAgICAgc2l6ZSA9IDQ7XG4gICAgfVxuICAgIGlmIChuYW1lID09PSAnRGVzdHJveWVyJykge1xuICAgICAgICBzaXplID0gMztcbiAgICB9XG4gICAgaWYgKG5hbWUgPT09ICdTdWJtYXJpbmUnKSB7XG4gICAgICAgIHNpemUgPSAzO1xuICAgIH1cbiAgICBpZiAobmFtZSA9PT0gJ1BhdHJvbEJvYXQnKSB7XG4gICAgICAgIHNpemUgPSAyO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lLFxuICAgICAgICBzaXplLFxuICAgICAgICBoaXRDb3VudDogMCxcbiAgICAgICAgaXNWZXJ0aWNhbDogZmFsc2UsXG4gICAgICAgIHJvdGF0ZSgpIHtcbiAgICAgICAgICAgIHRoaXMuaXNWZXJ0aWNhbCA9ICF0aGlzLmlzVmVydGljYWw7XG4gICAgICAgIH0sXG4gICAgICAgIGhpdCgpIHtcbiAgICAgICAgICAgIHRoaXMuaGl0Q291bnQgKz0gMTtcbiAgICAgICAgfSxcbiAgICAgICAgaXNTdW5rKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGl0Q291bnQgPT09IHNpemU7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBzaGlwRmFjdG9yeTtcbiIsImZ1bmN0aW9uIGlzU2FmYXJpT3JJT1NCcm93c2VyKCkge1xuICAgIGNvbnN0IHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICBjb25zdCBpc1NhZmFyaSA9IC9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QodWEpO1xuICAgIGNvbnN0IGlzSU9TID0gL2lQYWR8aVBob25lfGlQb2QvLnRlc3QodWEpIHx8ICh1YS5pbmNsdWRlcygnTWFjJykgJiYgJ29udG91Y2hlbmQnIGluIGRvY3VtZW50KTtcbiAgICByZXR1cm4gaXNTYWZhcmkgfHwgaXNJT1M7XG59XG5sZXQgc291bmRzO1xuaWYgKGlzU2FmYXJpT3JJT1NCcm93c2VyKCkpIHtcbiAgICBjb25zdCBhdWRpb0N0eCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcbiAgICBzb3VuZHMgPSAoKCkgPT4ge1xuICAgICAgICBjb25zdCBidWZmZXJzID0ge307XG4gICAgICAgIGNvbnN0IGdhaW5Ob2RlID0gYXVkaW9DdHguY3JlYXRlR2FpbigpO1xuICAgICAgICBnYWluTm9kZS5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgY29uc3QgbG9hZFNvdW5kID0gKHVybCwga2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICByZXF1ZXN0Lm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XG4gICAgICAgICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICAgICAgICByZXF1ZXN0Lm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBhdWRpb0N0eC5kZWNvZGVBdWRpb0RhdGEocmVxdWVzdC5yZXNwb25zZSwgKGJ1ZmZlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBidWZmZXJzW2tleV0gPSBidWZmZXI7XG4gICAgICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHdpdGggZGVjb2RpbmcgYXVkaW8gZGF0YScsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXF1ZXN0LnNlbmQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaW5pdCA9ICgpID0+IHtcbiAgICAgICAgICAgIGxvYWRTb3VuZCgnc291bmRzL2dyYXkxd2VhLndhdicsICdtaXNzJyk7XG4gICAgICAgICAgICBsb2FkU291bmQoJ3NvdW5kcy9leHBsby53YXYnLCAnaGl0Jyk7XG4gICAgICAgICAgICBsb2FkU291bmQoJ3NvdW5kcy9leHBsb2RlYS53YXYnLCAnc3VuaycpO1xuICAgICAgICAgICAgbG9hZFNvdW5kKCdzb3VuZHMvY2FwdHVyZS53YXYnLCAnZ2FtZU92ZXInKTtcbiAgICAgICAgICAgIGxvYWRTb3VuZCgnc291bmRzL2JhcnIxc2VsLndhdicsICdkcm9wJyk7XG4gICAgICAgICAgICBsb2FkU291bmQoJ3NvdW5kcy9kcmFpbi53YXYnLCAncm90YXRlJyk7XG4gICAgICAgICAgICBsb2FkU291bmQoJ3NvdW5kcy9leHAxc2VsLndhdicsICdyYW5kb20nKTtcbiAgICAgICAgICAgIGxvYWRTb3VuZCgnc291bmRzL21zZy53YXYnLCAnc2VsZWN0Jyk7XG4gICAgICAgICAgICBsb2FkU291bmQoJ3NvdW5kcy9iZWVwLndhdicsICd0aWNrJyk7XG4gICAgICAgICAgICBsb2FkU291bmQoJ3NvdW5kcy9idXR0b25SZXYud2F2JywgJ2dyYWInKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGxheWluZ1NvdXJjZXMgPSB7fTtcbiAgICAgICAgY29uc3QgcGxheUF1ZGlvID0gKGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKHBsYXlpbmdTb3VyY2VzW2tleV0pIHtcbiAgICAgICAgICAgICAgICBwbGF5aW5nU291cmNlc1trZXldLnN0b3AoKTtcbiAgICAgICAgICAgICAgICBwbGF5aW5nU291cmNlc1trZXldLm9uZW5kZWQgPSAoKSA9PiB7IH07XG4gICAgICAgICAgICAgICAgcGxheWluZ1NvdXJjZXNba2V5XSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnVmZmVyc1trZXldKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlID0gYXVkaW9DdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICAgICAgICAgICAgc291cmNlLmJ1ZmZlciA9IGJ1ZmZlcnNba2V5XTtcbiAgICAgICAgICAgICAgICBzb3VyY2UuY29ubmVjdChnYWluTm9kZSk7XG4gICAgICAgICAgICAgICAgcGxheWluZ1NvdXJjZXNba2V5XSA9IHNvdXJjZTtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lbmRlZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcGxheWluZ1NvdXJjZXNba2V5XSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBzb3VyY2Uuc3RhcnQoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTb3VuZCBub3QgZm91bmQ6Jywga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbXV0ZUFsbCA9IChtdXRlKSA9PiB7XG4gICAgICAgICAgICBpZiAobXV0ZSkge1xuICAgICAgICAgICAgICAgIGdhaW5Ob2RlLmdhaW4udmFsdWUgPSAwO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2Fpbk5vZGUuZ2Fpbi52YWx1ZSA9IDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBsb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgaW5pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwbGF5OiBwbGF5QXVkaW8sXG4gICAgICAgICAgICAgICAgbXV0ZUFsbDogbXV0ZUFsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBsb2FkKCk7XG4gICAgfSkoKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKCkgPT4ge1xuICAgICAgICBhdWRpb0N0eFxuICAgICAgICAgICAgLnJlc3VtZSgpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUGxheWJhY2sgcmVzdW1lZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BsYXliYWNrIHJlc3VtZSBmYWlsZWQnLCBlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZWxzZSB7XG4gICAgc291bmRzID0gKCgpID0+IHtcbiAgICAgICAgY29uc3QgaW5pdCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1pc3MgPSBuZXcgQXVkaW8oJ3NvdW5kcy9ncmF5MXdlYS53YXYnKTtcbiAgICAgICAgICAgIGNvbnN0IGhpdCA9IG5ldyBBdWRpbygnc291bmRzL2V4cGxvLndhdicpO1xuICAgICAgICAgICAgY29uc3Qgc3VuayA9IG5ldyBBdWRpbygnc291bmRzL2V4cGxvZGVhLndhdicpO1xuICAgICAgICAgICAgY29uc3QgZ2FtZU92ZXIgPSBuZXcgQXVkaW8oJ3NvdW5kcy9jYXB0dXJlLndhdicpO1xuICAgICAgICAgICAgY29uc3QgZHJvcCA9IG5ldyBBdWRpbygnc291bmRzL2JhcnIxc2VsLndhdicpO1xuICAgICAgICAgICAgY29uc3Qgcm90YXRlID0gbmV3IEF1ZGlvKCdzb3VuZHMvZHJhaW4ud2F2Jyk7XG4gICAgICAgICAgICBjb25zdCByYW5kb20gPSBuZXcgQXVkaW8oJ3NvdW5kcy9leHAxc2VsLndhdicpO1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ID0gbmV3IEF1ZGlvKCdzb3VuZHMvbXNnLndhdicpO1xuICAgICAgICAgICAgY29uc3QgdGljayA9IG5ldyBBdWRpbygnc291bmRzL2JlZXAud2F2Jyk7XG4gICAgICAgICAgICBjb25zdCBncmFiID0gbmV3IEF1ZGlvKCdzb3VuZHMvYnV0dG9uUmV2LndhdicpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtaXNzLFxuICAgICAgICAgICAgICAgIGhpdCxcbiAgICAgICAgICAgICAgICBzdW5rLFxuICAgICAgICAgICAgICAgIGdhbWVPdmVyLFxuICAgICAgICAgICAgICAgIGRyb3AsXG4gICAgICAgICAgICAgICAgcm90YXRlLFxuICAgICAgICAgICAgICAgIHJhbmRvbSxcbiAgICAgICAgICAgICAgICBzZWxlY3QsXG4gICAgICAgICAgICAgICAgdGljayxcbiAgICAgICAgICAgICAgICBncmFiLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGxheUF1ZGlvID0gKHNvdW5kcykgPT4ge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc291bmRzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5U291bmQgPSBzb3VuZHNba2V5XS5wbGF5O1xuICAgICAgICAgICAgICAgIHNvdW5kc1trZXldLnBsYXkgPSBmdW5jdGlvbiBzb3VuZFBsYXllcigpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdW5kc1trZXldLmN1cnJlbnRUaW1lID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc291bmRzW2tleV0ucGF1c2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdW5kc1trZXldLmN1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGxheVNvdW5kLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBtdXRlQWxsID0gKG11dGUpID0+IHtcbiAgICAgICAgICAgIGxldCBpc011dGVkID0gZmFsc2U7XG4gICAgICAgICAgICBPYmplY3QudmFsdWVzKHNvdW5kcykuZm9yRWFjaCgoc291bmQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc291bmQgaW5zdGFuY2VvZiBIVE1MQXVkaW9FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdW5kLnZvbHVtZSA9IG11dGUgPyAwIDogMTtcbiAgICAgICAgICAgICAgICAgICAgaXNNdXRlZCA9IG11dGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gaXNNdXRlZDtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvID0gaW5pdCgpO1xuICAgICAgICAgICAgcGxheUF1ZGlvKGF1ZGlvKTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGF1ZGlvKSwgeyBwbGF5OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1tuYW1lXSAmJiB0aGlzW25hbWVdLnBsYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbbmFtZV0ucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgbXV0ZUFsbDogbXV0ZUFsbCB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGxvYWQoKTtcbiAgICB9KSgpO1xufVxuZXhwb3J0IGRlZmF1bHQgc291bmRzO1xuIiwiaW1wb3J0IHNvdW5kcyBmcm9tICcuL3NvdW5kcyc7XG5jb25zdCBwbGF5ZXJGYWN0b3J5ID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvbHMgPSBbJ0EnLCAnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onXTtcbiAgICBsZXQgcHJldkhpdCA9IG51bGw7XG4gICAgbGV0IGxhc3RIaXQgPSBudWxsO1xuICAgIGxldCByYW5nZSA9IDE7XG4gICAgbGV0IGdvUmlnaHQgPSB0cnVlO1xuICAgIGxldCBnb0Rvd24gPSB0cnVlO1xuICAgIGNvbnN0IGF0dGFjayA9IChnYW1lYm9hcmQsIGNvbCwgcm93KSA9PiB7XG4gICAgICAgIGlmIChnYW1lYm9hcmQuZ2V0Q2VsbChjb2wsIHJvdykuc3RhdHVzICE9PSAnaGl0JyAmJiBnYW1lYm9hcmQuZ2V0Q2VsbChjb2wsIHJvdykuc3RhdHVzICE9PSAnbWlzcycpIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBnYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhjb2wsIHJvdyk7XG4gICAgICAgICAgICBpZiAocmVzdWx0ID09PSAnaGl0Jykge1xuICAgICAgICAgICAgICAgIHNldFByZXZIaXQobGFzdEhpdCk7XG4gICAgICAgICAgICAgICAgc2V0TGFzdEhpdCh7IGNvbDogY29sLCByb3c6IHJvdyB9KTtcbiAgICAgICAgICAgICAgICBzb3VuZHMucGxheSgnaGl0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQgPT09ICdtaXNzJykge1xuICAgICAgICAgICAgICAgIHNvdW5kcy5wbGF5KCdtaXNzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnYWxyZWFkeSBzaG90JztcbiAgICB9O1xuICAgIGNvbnN0IHJhbmRvbUF0dGFjayA9IChnYW1lYm9hcmQpID0+IHtcbiAgICAgICAgbGV0IHJhbmRvbUNvbDtcbiAgICAgICAgbGV0IHJhbmRvbVJvdztcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgcmFuZG9tQ29sID0gY29sc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjb2xzLmxlbmd0aCldO1xuICAgICAgICAgICAgcmFuZG9tUm93ID0gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiAxMCkudG9TdHJpbmcoKTtcbiAgICAgICAgfSB3aGlsZSAoZ2FtZWJvYXJkLmdldENlbGwocmFuZG9tQ29sLCByYW5kb21Sb3cpLnN0YXR1cyA9PT0gJ2hpdCcgfHwgZ2FtZWJvYXJkLmdldENlbGwocmFuZG9tQ29sLCByYW5kb21Sb3cpLnN0YXR1cyA9PT0gJ21pc3MnKTtcbiAgICAgICAgaWYgKGdhbWVib2FyZC5nZXRDZWxsKHJhbmRvbUNvbCwgcmFuZG9tUm93KS5zdGF0dXMgIT09ICdoaXQnICYmIGdhbWVib2FyZC5nZXRDZWxsKHJhbmRvbUNvbCwgcmFuZG9tUm93KS5zdGF0dXMgIT09ICdtaXNzJykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZ2FtZWJvYXJkLnJlY2VpdmVBdHRhY2socmFuZG9tQ29sLCByYW5kb21Sb3cpO1xuICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5nZXRDZWxsKHJhbmRvbUNvbCwgcmFuZG9tUm93KS5zdGF0dXMgPT09ICdoaXQnKSB7XG4gICAgICAgICAgICAgICAgc2V0UHJldkhpdChsYXN0SGl0KTtcbiAgICAgICAgICAgICAgICBzZXRMYXN0SGl0KHsgY29sOiByYW5kb21Db2wsIHJvdzogcmFuZG9tUm93IH0pO1xuICAgICAgICAgICAgICAgIHNvdW5kcy5wbGF5KCdoaXQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVib2FyZC5nZXRDZWxsKHJhbmRvbUNvbCwgcmFuZG9tUm93KS5zdGF0dXMgPT09ICdtaXNzJykge1xuICAgICAgICAgICAgICAgIHNvdW5kcy5wbGF5KCdtaXNzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyByZXN1bHQsIGNvbDogcmFuZG9tQ29sLCByb3c6IHJhbmRvbVJvdyB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogJ2FscmVhZHkgc2hvdCcsIGNvbDogcmFuZG9tQ29sLCByb3c6IHJhbmRvbVJvdyB9O1xuICAgIH07XG4gICAgY29uc3QgZm9sbG93dXBBdHRhY2sgPSAoZ2FtZWJvYXJkLCBjb2wsIHJvdykgPT4ge1xuICAgICAgICBjb25zdCBkaXJlY3Rpb25zID0gW1xuICAgICAgICAgICAgeyBjb2w6IDAsIHJvdzogLTEgfSxcbiAgICAgICAgICAgIHsgY29sOiAwLCByb3c6IDEgfSxcbiAgICAgICAgICAgIHsgY29sOiAtMSwgcm93OiAwIH0sXG4gICAgICAgICAgICB7IGNvbDogMSwgcm93OiAwIH0sXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IHZhbGlkRGlyZWN0aW9ucyA9IGRpcmVjdGlvbnMuZmlsdGVyKChkaXJlY3Rpb24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29sLmNoYXJDb2RlQXQoMCkgKyBkaXJlY3Rpb24uY29sKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1JvdyA9IChOdW1iZXIocm93KSArIGRpcmVjdGlvbi5yb3cpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBjb25zdCBjZWxsID0gZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCBuZXdSb3cpO1xuICAgICAgICAgICAgaWYgKGNlbGwgJiYgY2VsbC5zdGF0dXMgIT09ICdtaXNzJyAmJiBjZWxsLnN0YXR1cyAhPT0gJ2hpdCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh2YWxpZERpcmVjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcmFuZG9tRGlyZWN0aW9uID0gdmFsaWREaXJlY3Rpb25zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHZhbGlkRGlyZWN0aW9ucy5sZW5ndGgpXTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29sLmNoYXJDb2RlQXQoMCkgKyByYW5kb21EaXJlY3Rpb24uY29sKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1JvdyA9IChOdW1iZXIocm93KSArIHJhbmRvbURpcmVjdGlvbi5yb3cpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBnYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhuZXdDb2wsIG5ld1Jvdyk7XG4gICAgICAgICAgICByYW5nZSA9IDE7XG4gICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCBuZXdSb3cpLnN0YXR1cyA9PT0gJ2hpdCcpIHtcbiAgICAgICAgICAgICAgICBzZXRQcmV2SGl0KGxhc3RIaXQpO1xuICAgICAgICAgICAgICAgIHNldExhc3RIaXQoeyBjb2w6IG5ld0NvbCwgcm93OiBuZXdSb3cgfSk7XG4gICAgICAgICAgICAgICAgc291bmRzLnBsYXkoJ2hpdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCBuZXdSb3cpLnN0YXR1cyA9PT0gJ21pc3MnKSB7XG4gICAgICAgICAgICAgICAgc291bmRzLnBsYXkoJ21pc3MnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZmluaXNoaW5nQXR0YWNrID0gKGdhbWVib2FyZCwgY29sLCByb3csIHByZXZIaXQpID0+IHtcbiAgICAgICAgaWYgKHByZXZIaXQucm93ID09PSByb3cpIHtcbiAgICAgICAgICAgIGlmIChnb1JpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UgPSAxO1xuICAgICAgICAgICAgICAgIGxldCBuZXdDb2wgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvbC5jaGFyQ29kZUF0KDApICsgcmFuZ2UpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChnYW1lYm9hcmQuZ2V0Q2VsbChuZXdDb2wsIHJvdykgJiYgZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCByb3cpLnN0YXR1cyA9PT0gJ2hpdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgbmV3Q29sID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2wuY2hhckNvZGVBdCgwKSArIHJhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5nZXRDZWxsKG5ld0NvbCwgcm93KSAmJiBnYW1lYm9hcmQuZ2V0Q2VsbChuZXdDb2wsIHJvdykuc3RhdHVzICE9PSAnaGl0JyAmJiBnYW1lYm9hcmQuZ2V0Q2VsbChuZXdDb2wsIHJvdykuc3RhdHVzICE9PSAnbWlzcycpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2FtZWJvYXJkLnJlY2VpdmVBdHRhY2sobmV3Q29sLCByb3cpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCByb3cpLnN0YXR1cyA9PT0gJ2hpdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFByZXZIaXQobGFzdEhpdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRMYXN0SGl0KHsgY29sOiBuZXdDb2wsIHJvdzogcm93IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc291bmRzLnBsYXkoJ2hpdCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVib2FyZC5nZXRDZWxsKG5ld0NvbCwgcm93KS5zdGF0dXMgPT09ICdtaXNzJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc291bmRzLnBsYXkoJ21pc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByYW5nZSArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSAxO1xuICAgICAgICAgICAgICAgICAgICBnb1JpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGluZ0F0dGFjayhnYW1lYm9hcmQsIG5ld0NvbCwgcm93LCBwcmV2SGl0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByYW5nZSA9IDE7XG4gICAgICAgICAgICAgICAgbGV0IG5ld0NvbCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29sLmNoYXJDb2RlQXQoMCkgLSByYW5nZSk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGdhbWVib2FyZC5nZXRDZWxsKG5ld0NvbCwgcm93KSAmJiBnYW1lYm9hcmQuZ2V0Q2VsbChuZXdDb2wsIHJvdykuc3RhdHVzID09PSAnaGl0Jykge1xuICAgICAgICAgICAgICAgICAgICByYW5nZSArPSAxO1xuICAgICAgICAgICAgICAgICAgICBuZXdDb2wgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvbC5jaGFyQ29kZUF0KDApIC0gcmFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCByb3cpICYmIGdhbWVib2FyZC5nZXRDZWxsKG5ld0NvbCwgcm93KS5zdGF0dXMgIT09ICdoaXQnICYmIGdhbWVib2FyZC5nZXRDZWxsKG5ld0NvbCwgcm93KS5zdGF0dXMgIT09ICdtaXNzJykge1xuICAgICAgICAgICAgICAgICAgICBnYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhuZXdDb2wsIHJvdyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuZ2V0Q2VsbChuZXdDb2wsIHJvdykuc3RhdHVzID09PSAnaGl0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UHJldkhpdChsYXN0SGl0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldExhc3RIaXQoeyBjb2w6IG5ld0NvbCwgcm93OiByb3cgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VuZHMucGxheSgnaGl0Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ2FtZWJvYXJkLmdldENlbGwobmV3Q29sLCByb3cpLnN0YXR1cyA9PT0gJ21pc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VuZHMucGxheSgnbWlzcycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGdvUmlnaHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBmaW5pc2hpbmdBdHRhY2soZ2FtZWJvYXJkLCBuZXdDb2wsIHJvdywgcHJldkhpdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByZXZIaXQuY29sID09PSBjb2wpIHtcbiAgICAgICAgICAgIGlmIChnb0Rvd24pIHtcbiAgICAgICAgICAgICAgICByYW5nZSA9IDE7XG4gICAgICAgICAgICAgICAgbGV0IG5ld1JvdyA9IChOdW1iZXIocm93KSArIHJhbmdlKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChnYW1lYm9hcmQuZ2V0Q2VsbChjb2wsIG5ld1JvdykgJiYgZ2FtZWJvYXJkLmdldENlbGwoY29sLCBuZXdSb3cpLnN0YXR1cyA9PT0gJ2hpdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgbmV3Um93ID0gKE51bWJlcihyb3cpICsgcmFuZ2UpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuZ2V0Q2VsbChjb2wsIG5ld1JvdykgJiYgZ2FtZWJvYXJkLmdldENlbGwoY29sLCBuZXdSb3cpLnN0YXR1cyAhPT0gJ2hpdCcgJiYgZ2FtZWJvYXJkLmdldENlbGwoY29sLCBuZXdSb3cpLnN0YXR1cyAhPT0gJ21pc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgIGdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKGNvbCwgbmV3Um93KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5nZXRDZWxsKGNvbCwgbmV3Um93KS5zdGF0dXMgPT09ICdoaXQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRQcmV2SGl0KGxhc3RIaXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TGFzdEhpdCh7IGNvbDogY29sLCByb3c6IG5ld1JvdyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdW5kcy5wbGF5KCdoaXQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChnYW1lYm9hcmQuZ2V0Q2VsbChjb2wsIG5ld1Jvdykuc3RhdHVzID09PSAnbWlzcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdW5kcy5wbGF5KCdtaXNzJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgZ29Eb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGluZ0F0dGFjayhnYW1lYm9hcmQsIGNvbCwgbmV3Um93LCBwcmV2SGl0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByYW5nZSA9IDE7XG4gICAgICAgICAgICAgICAgbGV0IG5ld1JvdyA9IChOdW1iZXIocm93KSAtIHJhbmdlKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChnYW1lYm9hcmQuZ2V0Q2VsbChjb2wsIG5ld1JvdykgJiYgZ2FtZWJvYXJkLmdldENlbGwoY29sLCBuZXdSb3cpLnN0YXR1cyA9PT0gJ2hpdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgbmV3Um93ID0gKE51bWJlcihyb3cpIC0gcmFuZ2UpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuZ2V0Q2VsbChjb2wsIG5ld1JvdykgJiYgZ2FtZWJvYXJkLmdldENlbGwoY29sLCBuZXdSb3cpLnN0YXR1cyAhPT0gJ2hpdCcgJiYgZ2FtZWJvYXJkLmdldENlbGwoY29sLCBuZXdSb3cpLnN0YXR1cyAhPT0gJ21pc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgIGdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKGNvbCwgbmV3Um93KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5nZXRDZWxsKGNvbCwgbmV3Um93KS5zdGF0dXMgPT09ICdoaXQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRQcmV2SGl0KGxhc3RIaXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TGFzdEhpdCh7IGNvbDogY29sLCByb3c6IG5ld1JvdyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdW5kcy5wbGF5KCdoaXQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChnYW1lYm9hcmQuZ2V0Q2VsbChjb2wsIG5ld1Jvdykuc3RhdHVzID09PSAnbWlzcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdW5kcy5wbGF5KCdtaXNzJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgZ29Eb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoaW5nQXR0YWNrKGdhbWVib2FyZCwgY29sLCBuZXdSb3csIHByZXZIaXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZ2V0UHJldkhpdCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHByZXZIaXQ7XG4gICAgfTtcbiAgICBjb25zdCBnZXRMYXN0SGl0ID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gbGFzdEhpdDtcbiAgICB9O1xuICAgIGNvbnN0IHNldFByZXZIaXQgPSAobmV3UHJldkhpdCkgPT4ge1xuICAgICAgICBwcmV2SGl0ID0gbmV3UHJldkhpdDtcbiAgICB9O1xuICAgIGNvbnN0IHNldExhc3RIaXQgPSAobmV3TGFzdEhpdCkgPT4ge1xuICAgICAgICBsYXN0SGl0ID0gbmV3TGFzdEhpdDtcbiAgICB9O1xuICAgIHJldHVybiB7IGF0dGFjaywgcmFuZG9tQXR0YWNrLCBmb2xsb3d1cEF0dGFjaywgZmluaXNoaW5nQXR0YWNrLCBwcmV2SGl0LCBsYXN0SGl0LCBnZXRQcmV2SGl0LCBnZXRMYXN0SGl0LCBzZXRQcmV2SGl0LCBzZXRMYXN0SGl0IH07XG59O1xuZXhwb3J0IGRlZmF1bHQgcGxheWVyRmFjdG9yeTtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHVpIGZyb20gJy4vdWknO1xuaW1wb3J0IGNvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyJztcbmltcG9ydCBzb3VuZHMgZnJvbSAnLi9zb3VuZHMnO1xuY29uc3QgZHJhZ0FuZERyb3AgPSAoZmlyc3RHYW1lYm9hcmQsIHNlY29uZEdhbWVib2FyZCwgc2hpcHMpID0+IHtcbiAgICBjb25zdCBmaXJzdEJvYXJkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaXJzdEJvYXJkJyk7XG4gICAgY29uc3Qgc2Vjb25kQm9hcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NlY29uZEJvYXJkJyk7XG4gICAgY29uc3QgZmlyc3RCb2FyZENlbGxzID0gZmlyc3RCb2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNlbGwnKTtcbiAgICBjb25zdCBzZWNvbmRCb2FyZENlbGxzID0gc2Vjb25kQm9hcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jZWxsJyk7XG4gICAgbGV0IHNoaXBOYW1lO1xuICAgIGxldCBzaGlwU2l6ZTtcbiAgICBsZXQgZ3JhYlBvaW50WCA9IDA7XG4gICAgbGV0IGdyYWJQb2ludFkgPSAwO1xuICAgIGxldCBzaGlwT2JqO1xuICAgIGxldCBvcmllbnRhdGlvbjtcbiAgICBsZXQgaGlnaGxpZ2h0ZWRDZWxscyA9IFtdO1xuICAgIGNvbnN0IHNoaXBOYW1lVG9PYmogPSB7XG4gICAgICAgIGNhcnJpZXI6IHNoaXBzWzBdLFxuICAgICAgICBiYXR0bGVzaGlwOiBzaGlwc1sxXSxcbiAgICAgICAgZGVzdHJveWVyOiBzaGlwc1syXSxcbiAgICAgICAgc3VibWFyaW5lOiBzaGlwc1szXSxcbiAgICAgICAgcGF0cm9sYm9hdDogc2hpcHNbNF0sXG4gICAgfTtcbiAgICBsZXQgbGFzdERyYWdnZWQgPSBudWxsO1xuICAgIGNvbnN0IGRyYWdnYWJsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJhZ2dhYmxlJyk7XG4gICAgZnVuY3Rpb24gZ2V0Tm9uU2hpcENlbGxzKGJvYXJkQ2VsbHMpIHtcbiAgICAgICAgY29uc3QgYm9hcmRDZWxsc0FycmF5ID0gQXJyYXkuZnJvbShib2FyZENlbGxzKTtcbiAgICAgICAgcmV0dXJuIGJvYXJkQ2VsbHNBcnJheS5maWx0ZXIoKGNlbGwpID0+ICFjZWxsLmNsYXNzTGlzdC5jb250YWlucygndGFrZW4nKSk7XG4gICAgfVxuICAgIGNvbnN0IG5vblNoaXBDZWxscyA9IFsuLi5nZXROb25TaGlwQ2VsbHMoZmlyc3RCb2FyZENlbGxzKSwgLi4uZ2V0Tm9uU2hpcENlbGxzKHNlY29uZEJvYXJkQ2VsbHMpXTtcbiAgICBmdW5jdGlvbiBpc1ZhbGlkUGxhY2VtZW50KHRvSGlnaGxpZ2h0KSB7XG4gICAgICAgIHJldHVybiAodG9IaWdobGlnaHQuZXZlcnkoKGNlbGwpID0+IGNlbGwuY2xhc3NMaXN0LmNvbnRhaW5zKCdlbXB0eScpKSAmJlxuICAgICAgICAgICAgKHRvSGlnaGxpZ2h0LmV2ZXJ5KChjZWxsKSA9PiBjZWxsLmRhdGFzZXQuY29sID09PSB0b0hpZ2hsaWdodFswXS5kYXRhc2V0LmNvbCkgfHxcbiAgICAgICAgICAgICAgICB0b0hpZ2hsaWdodC5ldmVyeSgoY2VsbCkgPT4gY2VsbC5kYXRhc2V0LnJvdyA9PT0gdG9IaWdobGlnaHRbMF0uZGF0YXNldC5yb3cpKSAmJlxuICAgICAgICAgICAgdG9IaWdobGlnaHQubGVuZ3RoID09PSBzaGlwU2l6ZSAmJlxuICAgICAgICAgICAgdG9IaWdobGlnaHQuZXZlcnkoKGNlbGwpID0+IGNlbGwuZGF0YXNldC5jb2wgPj0gJ0EnICYmIGNlbGwuZGF0YXNldC5jb2wgPD0gJ0onKSAmJlxuICAgICAgICAgICAgdG9IaWdobGlnaHQuZXZlcnkoKGNlbGwpID0+IE51bWJlcihjZWxsLmRhdGFzZXQucm93KSA+PSAxICYmIE51bWJlcihjZWxsLmRhdGFzZXQucm93KSA8PSAxMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRMYXN0U2hpcFNpemVFbGVtZW50cyhoaWdobGlnaHRlZENlbGxzLCBzaGlwU2l6ZSkge1xuICAgICAgICByZXR1cm4gaGlnaGxpZ2h0ZWRDZWxscy5zbGljZShNYXRoLm1pbihoaWdobGlnaHRlZENlbGxzLmxlbmd0aCAtIHNoaXBTaXplLCAwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEdhbWVib2FyZChlKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICBsZXQgZ2FtZWJvYXJkO1xuICAgICAgICBjb25zdCBib2FyZElkID0gdGFyZ2V0LmNsb3Nlc3QoJy5ib2FyZCcpLmlkO1xuICAgICAgICBpZiAoYm9hcmRJZCA9PT0gJ2ZpcnN0Qm9hcmQnKSB7XG4gICAgICAgICAgICBnYW1lYm9hcmQgPSBmaXJzdEdhbWVib2FyZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYm9hcmRJZCA9PT0gJ3NlY29uZEJvYXJkJykge1xuICAgICAgICAgICAgZ2FtZWJvYXJkID0gc2Vjb25kR2FtZWJvYXJkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHRhcmdldCwgZ2FtZWJvYXJkIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc2VydmVTcGFjZUZvclJlbWFpbmluZ1NoaXBzKGdhbWVib2FyZCwgZSkge1xuICAgICAgICBjb25zdCB7IHRhcmdldCB9ID0gZ2V0R2FtZWJvYXJkKGUpO1xuICAgICAgICBjb25zdCB0YXJnZXRTaGlwTmFtZSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpO1xuICAgICAgICBsZXQgcmVtYWluaW5nU2hpcHMgPSBnYW1lYm9hcmQuc2hpcHNQbGFjZWQuZmlsdGVyKChzaGlwKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0U2hpcE5hbWUgIT09IHNoaXAudGFrZW5CeS5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZW1haW5pbmdTaGlwcy5mb3JFYWNoKChzaGlwKSA9PiB7XG4gICAgICAgICAgICBnYW1lYm9hcmQucmVzZXJ2ZVNwYWNlKGdhbWVib2FyZCwgc2hpcC5jb2wsIHNoaXAucm93KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFNoaXBBdHRyaWJ1dGVzKGUsIHRhcmdldCkge1xuICAgICAgICBzaGlwTmFtZSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpO1xuICAgICAgICBzaGlwU2l6ZSA9IE51bWJlcih0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXNpemUnKSk7XG4gICAgICAgIGdyYWJQb2ludFggPSBlLm9mZnNldFg7XG4gICAgICAgIGdyYWJQb2ludFkgPSBlLm9mZnNldFk7XG4gICAgICAgIHNoaXBPYmogPSBzaGlwTmFtZVRvT2JqW3NoaXBOYW1lXTtcbiAgICAgICAgb3JpZW50YXRpb24gPSBzaGlwT2JqLmlzVmVydGljYWwgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xuICAgICAgICByZXR1cm4geyBzaGlwTmFtZSwgc2hpcE9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcmV2ZW50T2ZmQm9hcmRQbGFjZW1lbnQodGFyZ2V0LCBlKSB7XG4gICAgICAgIGlmIChoaWdobGlnaHRlZENlbGxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgYm9hcmQgPSB0YXJnZXQuY2xvc2VzdCgnLmJvYXJkJyk7XG4gICAgICAgICAgICBpZiAoYm9hcmQpIHtcbiAgICAgICAgICAgICAgICBsZXQgeyBnYW1lYm9hcmQgfSA9IGdldEdhbWVib2FyZChlKTtcbiAgICAgICAgICAgICAgICBpZiAoYm9hcmQuaWQgPT09ICdmaXJzdEJvYXJkJykge1xuICAgICAgICAgICAgICAgICAgICBnYW1lYm9hcmQgPSBmaXJzdEdhbWVib2FyZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYm9hcmQuaWQgPT09ICdzZWNvbmRCb2FyZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2FtZWJvYXJkID0gc2Vjb25kR2FtZWJvYXJkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZ2FtZWJvYXJkICYmIGxhc3REcmFnZ2VkICYmIGdhbWVib2FyZC5jYW5CZVBsYWNlZChzaGlwT2JqLnNpemUsIGxhc3REcmFnZ2VkWzBdLmRhdGFzZXQuY29sLCBsYXN0RHJhZ2dlZFswXS5kYXRhc2V0LnJvdywgb3JpZW50YXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGdhbWVib2FyZC5wbGFjZVNoaXAoc2hpcE9iaiwgbGFzdERyYWdnZWRbMF0uZGF0YXNldC5jb2wsIGxhc3REcmFnZ2VkWzBdLmRhdGFzZXQucm93LCBvcmllbnRhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGdhbWVib2FyZC5yZXNlcnZlU3BhY2UoZ2FtZWJvYXJkLCBsYXN0RHJhZ2dlZFswXS5kYXRhc2V0LmNvbCwgbGFzdERyYWdnZWRbMF0uZGF0YXNldC5yb3cpO1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLnJlbmV3KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFN0YXJ0Q2VsbChpbmRleCwgc2hpcE9iaiwgZSkge1xuICAgICAgICBjb25zdCB7IHRhcmdldCB9ID0gZ2V0R2FtZWJvYXJkKGUpO1xuICAgICAgICByZXR1cm4gaW5kZXggLSAoc2hpcE9iai5pc1ZlcnRpY2FsID8gTWF0aC5mbG9vcihncmFiUG9pbnRZIC8gdGFyZ2V0Lm9mZnNldEhlaWdodCkgKiAxMCA6IE1hdGguZmxvb3IoZ3JhYlBvaW50WCAvIHRhcmdldC5vZmZzZXRXaWR0aCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRCb2FyZENlbGxzKGJvYXJkSWQpIHtcbiAgICAgICAgcmV0dXJuIGJvYXJkSWQgPT09ICdmaXJzdEJvYXJkJyA/IGZpcnN0Qm9hcmRDZWxscyA6IHNlY29uZEJvYXJkQ2VsbHM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhpZ2hsaWdodENlbGxzKHRvSGlnaGxpZ2h0KSB7XG4gICAgICAgIHRvSGlnaGxpZ2h0LmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0Jyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoaWdobGlnaHRDZWxsc09uQm9hcmQoc2hpcE9iaiwgc3RhcnRDZWxsLCBib2FyZENlbGxzLCB0b0hpZ2hsaWdodCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBTaXplOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjZWxsSW5kZXggPSBzaGlwT2JqLmlzVmVydGljYWwgPyBzdGFydENlbGwgKyBpICogMTAgOiBzdGFydENlbGwgKyBpO1xuICAgICAgICAgICAgaWYgKGJvYXJkQ2VsbHNbY2VsbEluZGV4XSkge1xuICAgICAgICAgICAgICAgIHRvSGlnaGxpZ2h0LnB1c2goYm9hcmRDZWxsc1tjZWxsSW5kZXhdKTtcbiAgICAgICAgICAgICAgICBoaWdobGlnaHRlZENlbGxzLnB1c2goYm9hcmRDZWxsc1tjZWxsSW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVIaWdobGlnaHQoKSB7XG4gICAgICAgIGhpZ2hsaWdodGVkQ2VsbHMuZm9yRWFjaCgoaGlnaGxpZ2h0ZWRDZWxsKSA9PiBoaWdobGlnaHRlZENlbGwuY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0JykpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0JvYXJkVmFsaWQoYm9hcmRJZCkge1xuICAgICAgICByZXR1cm4gYm9hcmRJZCA9PT0gJ2ZpcnN0Qm9hcmQnIHx8IGJvYXJkSWQgPT09ICdzZWNvbmRCb2FyZCc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBsYWNlU2hpcE9uQm9hcmQoZ2FtZWJvYXJkLCBzaGlwT2JqLCBsYXN0LCBvcmllbnRhdGlvbikge1xuICAgICAgICBpZiAoZ2FtZWJvYXJkLmNhbkJlUGxhY2VkKHNoaXBPYmouc2l6ZSwgbGFzdFswXS5kYXRhc2V0LmNvbCwgbGFzdFswXS5kYXRhc2V0LnJvdywgb3JpZW50YXRpb24pKSB7XG4gICAgICAgICAgICBnYW1lYm9hcmQucGxhY2VTaGlwKHNoaXBPYmosIGxhc3RbMF0uZGF0YXNldC5jb2wsIGxhc3RbMF0uZGF0YXNldC5yb3csIG9yaWVudGF0aW9uKTtcbiAgICAgICAgICAgIGdhbWVib2FyZC5yZXNlcnZlU3BhY2UoZ2FtZWJvYXJkLCBsYXN0WzBdLmRhdGFzZXQuY29sLCBsYXN0WzBdLmRhdGFzZXQucm93KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdhbWVib2FyZC5wbGFjZVNoaXAoc2hpcE9iaiwgbGFzdERyYWdnZWRbMF0uZGF0YXNldC5jb2wsIGxhc3REcmFnZ2VkWzBdLmRhdGFzZXQucm93LCBvcmllbnRhdGlvbik7XG4gICAgICAgICAgICBnYW1lYm9hcmQucmVzZXJ2ZVNwYWNlKGdhbWVib2FyZCwgbGFzdERyYWdnZWRbMF0uZGF0YXNldC5jb2wsIGxhc3REcmFnZ2VkWzBdLmRhdGFzZXQucm93KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZWRvd24oZSkge1xuICAgICAgICBjb25zdCB7IGdhbWVib2FyZCB9ID0gZ2V0R2FtZWJvYXJkKGUpO1xuICAgICAgICBnYW1lYm9hcmQucmVtb3ZlUmVzZXJ2ZWRTcGFjZShnYW1lYm9hcmQpO1xuICAgICAgICByZXNlcnZlU3BhY2VGb3JSZW1haW5pbmdTaGlwcyhnYW1lYm9hcmQsIGUpO1xuICAgICAgICBjb250cm9sbGVyLnJlbmV3KCk7XG4gICAgICAgIHVpLnNldEluaXRNZXNzYWdlKCk7XG4gICAgICAgIGlmIChlLmJ1dHRvbiA9PT0gMCkge1xuICAgICAgICAgICAgc291bmRzLnBsYXkoJ2dyYWInKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVEcmFnU3RhcnQoZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgeWllbGQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMCkpO1xuICAgICAgICAgICAgY29uc3QgeyB0YXJnZXQsIGdhbWVib2FyZCB9ID0gZ2V0R2FtZWJvYXJkKGUpO1xuICAgICAgICAgICAgdGFyZ2V0LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgICAgIHNldFNoaXBBdHRyaWJ1dGVzKGUsIHRhcmdldCk7XG4gICAgICAgICAgICBnYW1lYm9hcmQucmVtb3ZlU2hpcChzaGlwT2JqLCBnYW1lYm9hcmQpO1xuICAgICAgICAgICAgdWkuY2xlYXJTaGlwKHNoaXBPYmosIGdhbWVib2FyZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVEcmFnT3ZlcihpbmRleCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdGFyZ2V0IH0gPSBnZXRHYW1lYm9hcmQoZSk7XG4gICAgICAgICAgICBjb25zdCBib2FyZElkID0gdGFyZ2V0LmNsb3Nlc3QoJy5ib2FyZCcpLmlkO1xuICAgICAgICAgICAgaWYgKGlzQm9hcmRWYWxpZChib2FyZElkKSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBpZiAoc2hpcE9iaikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFydENlbGwgPSBnZXRTdGFydENlbGwoaW5kZXgsIHNoaXBPYmosIGUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBib2FyZENlbGxzID0gZ2V0Qm9hcmRDZWxscyhib2FyZElkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9IaWdobGlnaHQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0Q2VsbHNPbkJvYXJkKHNoaXBPYmosIHN0YXJ0Q2VsbCwgYm9hcmRDZWxscywgdG9IaWdobGlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZFBsYWNlbWVudCh0b0hpZ2hsaWdodCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodENlbGxzKHRvSGlnaGxpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGFzdERyYWdnZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0RHJhZ2dlZCA9IGdldExhc3RTaGlwU2l6ZUVsZW1lbnRzKGhpZ2hsaWdodGVkQ2VsbHMsIHNoaXBTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlRHJhZ0xlYXZlKCkge1xuICAgICAgICByZW1vdmVIaWdobGlnaHQoKTtcbiAgICAgICAgaGlnaGxpZ2h0ZWRDZWxscy5sZW5ndGggPSAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVEcm9wKGUpIHtcbiAgICAgICAgcmVtb3ZlSGlnaGxpZ2h0KCk7XG4gICAgICAgIGNvbnN0IGxhc3QgPSBnZXRMYXN0U2hpcFNpemVFbGVtZW50cyhoaWdobGlnaHRlZENlbGxzLCBzaGlwU2l6ZSk7XG4gICAgICAgIGNvbnN0IHsgdGFyZ2V0LCBnYW1lYm9hcmQgfSA9IGdldEdhbWVib2FyZChlKTtcbiAgICAgICAgY29uc3QgYm9hcmRJZCA9IHRhcmdldC5jbG9zZXN0KCcuYm9hcmQnKS5pZDtcbiAgICAgICAgaWYgKGlzQm9hcmRWYWxpZChib2FyZElkKSAmJiBzaGlwT2JqICYmIGxhc3REcmFnZ2VkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBwbGFjZVNoaXBPbkJvYXJkKGdhbWVib2FyZCwgc2hpcE9iaiwgbGFzdCwgb3JpZW50YXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGdhbWVib2FyZC5yZW1vdmVSZXNlcnZlZFNwYWNlKGdhbWVib2FyZCk7XG4gICAgICAgIGdhbWVib2FyZC5yZXNlcnZlU3BhY2VGb3JBbGwoZ2FtZWJvYXJkKTtcbiAgICAgICAgY29udHJvbGxlci5yZW5ldygpO1xuICAgICAgICB1aS5jYW5CZVN0YXJ0ZWQoKTtcbiAgICAgICAgdWkuc2V0U3RhcnRNZXNzYWdlKCk7XG4gICAgICAgIGxhc3REcmFnZ2VkID0gbnVsbDtcbiAgICAgICAgc291bmRzLnBsYXkoJ2Ryb3AnKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlRHJhZ0VuZChlKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICB0YXJnZXQuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAgICAgcHJldmVudE9mZkJvYXJkUGxhY2VtZW50KHRhcmdldCwgZSk7XG4gICAgICAgIGlmICh1aS5jYW5CZVN0YXJ0ZWQoKSkge1xuICAgICAgICAgICAgdWkuZmlsbENlbGxzKCdzZWNvbmQnKTtcbiAgICAgICAgfVxuICAgICAgICB1aS5zZXRTdGFydE1lc3NhZ2UoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlTW91c2V1cChlKSB7XG4gICAgICAgIGNvbnN0IHsgZ2FtZWJvYXJkIH0gPSBnZXRHYW1lYm9hcmQoZSk7XG4gICAgICAgIGdhbWVib2FyZC5yZXNlcnZlU3BhY2VGb3JBbGwoZ2FtZWJvYXJkKTtcbiAgICAgICAgY29udHJvbGxlci5yZW5ldygpO1xuICAgICAgICB1aS5zZXRTdGFydE1lc3NhZ2UoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlUm90YXRlKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB7IHRhcmdldCwgZ2FtZWJvYXJkIH0gPSBnZXRHYW1lYm9hcmQoZSk7XG4gICAgICAgIGNvbnN0IHsgc2hpcE5hbWUsIHNoaXBPYmogfSA9IHNldFNoaXBBdHRyaWJ1dGVzKGUsIHRhcmdldCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBnYW1lYm9hcmQuc2hpcHNQbGFjZWQuZmlsdGVyKChzaGlwKSA9PiBzaGlwLnRha2VuQnkubmFtZS50b0xvd2VyQ2FzZSgpID09PSBzaGlwTmFtZSk7XG4gICAgICAgIGdhbWVib2FyZC5yZW1vdmVTaGlwKHNoaXBPYmosIGdhbWVib2FyZCk7XG4gICAgICAgIGdhbWVib2FyZC5yZW1vdmVSZXNlcnZlZFNwYWNlKGdhbWVib2FyZCk7XG4gICAgICAgIGdhbWVib2FyZC5yZXNlcnZlU3BhY2VGb3JBbGwoZ2FtZWJvYXJkKTtcbiAgICAgICAgc2hpcE9iai5yb3RhdGUoKTtcbiAgICAgICAgb3JpZW50YXRpb24gPSBzaGlwT2JqLmlzVmVydGljYWwgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xuICAgICAgICBpZiAoIWdhbWVib2FyZC5jYW5CZVBsYWNlZChzaGlwT2JqLnNpemUsIGN1cnJlbnRbMF0uY29sLCBjdXJyZW50WzBdLnJvdywgb3JpZW50YXRpb24pKSB7XG4gICAgICAgICAgICBzaGlwT2JqLnJvdGF0ZSgpO1xuICAgICAgICAgICAgb3JpZW50YXRpb24gPSBzaGlwT2JqLmlzVmVydGljYWwgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xuICAgICAgICB9XG4gICAgICAgIGdhbWVib2FyZC5wbGFjZVNoaXAoc2hpcE9iaiwgY3VycmVudFswXS5jb2wsIGN1cnJlbnRbMF0ucm93LCBvcmllbnRhdGlvbik7XG4gICAgICAgIGdhbWVib2FyZC5yZXNlcnZlU3BhY2VGb3JBbGwoZ2FtZWJvYXJkKTtcbiAgICAgICAgY29udHJvbGxlci5yZW5ldygpO1xuICAgICAgICBpZiAodWkuY2FuQmVTdGFydGVkKCkpIHtcbiAgICAgICAgICAgIHVpLmZpbGxDZWxscygnc2Vjb25kJyk7XG4gICAgICAgIH1cbiAgICAgICAgc291bmRzLnBsYXkoJ3JvdGF0ZScpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBibG9ja1JpZ2h0Q2xpY2soZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzVG9DZWxscyhjZWxscykge1xuICAgICAgICBjZWxscy5mb3JFYWNoKChjZWxsLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGhhbmRsZURyYWdPdmVyKGluZGV4KSk7XG4gICAgICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGhhbmRsZURyYWdMZWF2ZSk7XG4gICAgICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBoYW5kbGVEcm9wKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFkZEV2ZW50TGlzdGVuZXJzVG9DZWxscyhmaXJzdEJvYXJkQ2VsbHMpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXJzVG9DZWxscyhzZWNvbmRCb2FyZENlbGxzKTtcbiAgICBkcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgICBkcmFnZ2FibGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlTW91c2Vkb3duKTtcbiAgICAgICAgZHJhZ2dhYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGhhbmRsZURyYWdTdGFydCk7XG4gICAgICAgIGRyYWdnYWJsZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgaGFuZGxlRHJhZ0VuZCk7XG4gICAgICAgIGRyYWdnYWJsZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaGFuZGxlTW91c2V1cCk7XG4gICAgICAgIGRyYWdnYWJsZS5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGhhbmRsZVJvdGF0ZSk7XG4gICAgICAgIG5vblNoaXBDZWxscy5mb3JFYWNoKChjZWxsKSA9PiBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgYmxvY2tSaWdodENsaWNrKSk7XG4gICAgfSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgZHJhZ0FuZERyb3A7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCBkcmFnQW5kRHJvcCBmcm9tICcuL2RyYWdBbmREcm9wJztcbmltcG9ydCBjb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlcic7XG5pbXBvcnQgc291bmRzIGZyb20gJy4vc291bmRzJztcbmNvbnN0IHVpID0gKCgpID0+IHtcbiAgICBjb25zdCBzdGF0dXNCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVzc2FnZUJveCBwJyk7XG4gICAgY29uc3QgYm9hcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2JvYXJkcycpO1xuICAgIGNvbnN0IHBWY0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwbGF5ZXJWc0NvbXB1dGVyJyk7XG4gICAgY29uc3QgbmV3R2FtZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuZXdHYW1lJyk7XG4gICAgY29uc3QgY1ZjQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbXB1dGVyVnNDb21wdXRlcicpO1xuICAgIGNvbnN0IHN0YXJ0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N0YXJ0Jyk7XG4gICAgY29uc3QgcmFuZG9tQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JhbmRvbVBsYWNlbWVudCcpO1xuICAgIGNvbnN0IGFsbEJ0bnMgPSBbcFZjQnRuLCBuZXdHYW1lQnRuLCBjVmNCdG4sIHN0YXJ0QnRuLCByYW5kb21CdG5dO1xuICAgIGNvbnN0IHNwZWVkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCdzcGVlZCcpO1xuICAgIGxldCBzcGVlZFZhbHVlID0gMTAwMDtcbiAgICBjb25zdCBtdXRlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI211dGUnKTtcbiAgICBsZXQgaXNNdXRlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGNyZWF0ZUNlbGwgPSAoY2VsbCkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY2VsbCcpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2VsbC5zdGF0dXMpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1jb2wnLCBjZWxsLmNvbCk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXJvdycsIGNlbGwucm93KTtcbiAgICAgICAgaWYgKGNlbGwudGFrZW5CeSkge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2hpcE5hbWUnLCBjZWxsLnRha2VuQnkubmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlckNlbGxzID0gKGdhbWVib2FyZCwgYm9hcmQpID0+IHtcbiAgICAgICAgZ2FtZWJvYXJkLmFycmF5LmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgICAgICAgcm93LmZvckVhY2goKGNvbCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBjcmVhdGVDZWxsKGNvbCk7XG4gICAgICAgICAgICAgICAgYm9hcmQuYXBwZW5kKGNlbGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgZ2V0Qm9hcmRJZCA9IChnYW1lYm9hcmQpID0+IHtcbiAgICAgICAgaWYgKGdhbWVib2FyZCA9PT0gY29udHJvbGxlci5odW1hbkdhbWVib2FyZCkge1xuICAgICAgICAgICAgcmV0dXJuICdmaXJzdEJvYXJkJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChnYW1lYm9hcmQgPT09IGNvbnRyb2xsZXIuY29tcHV0ZXJHYW1lYm9hcmQpIHtcbiAgICAgICAgICAgIHJldHVybiAnc2Vjb25kQm9hcmQnO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJCb2FyZCA9IChnYW1lYm9hcmQpID0+IHtcbiAgICAgICAgY29uc3QgYm9hcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYm9hcmQuY2xhc3NMaXN0LmFkZCgnYm9hcmQnKTtcbiAgICAgICAgYm9hcmQuaWQgPSBnZXRCb2FyZElkKGdhbWVib2FyZCk7XG4gICAgICAgIHJlbmRlckNlbGxzKGdhbWVib2FyZCwgYm9hcmQpO1xuICAgICAgICBib2FyZHMuYXBwZW5kKGJvYXJkKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsZWFyU2hpcCA9IChzaGlwLCBnYW1lYm9hcmQpID0+IHtcbiAgICAgICAgY29uc3QgY2VsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAjJHtnZXRCb2FyZElkKGdhbWVib2FyZCl9IC5jZWxsYCk7XG4gICAgICAgIGNlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgICAgIGlmIChjZWxsLmNsYXNzTGlzdC5jb250YWlucygndGFrZW4nKSAmJiBjZWxsLmdldEF0dHJpYnV0ZSgnZGF0YS1zaGlwTmFtZScpID09PSBzaGlwLm5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZSgndGFrZW4nKTtcbiAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ2VtcHR5Jyk7XG4gICAgICAgICAgICAgICAgY2VsbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtc2hpcE5hbWUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCByZWZyZXNoQm9hcmQgPSAoZ2FtZWJvYXJkKSA9PiB7XG4gICAgICAgIGNvbnN0IGJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7Z2V0Qm9hcmRJZChnYW1lYm9hcmQpfWApO1xuICAgICAgICBib2FyZC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgcmVuZGVyQ2VsbHMoZ2FtZWJvYXJkLCBib2FyZCk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRVc2VySW5wdXQgPSAoZSkgPT4ge1xuICAgICAgICBpZiAoIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnaGl0JykgJiYgIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbWlzcycpKSB7XG4gICAgICAgICAgICBjb25zdCBjb2wgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJyk7XG4gICAgICAgICAgICBjb25zdCByb3cgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93Jyk7XG4gICAgICAgICAgICByZXR1cm4geyBjb2wsIHJvdyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVVc2VySW5wdXQgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgY29uc3QgY2VsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjc2Vjb25kQm9hcmQgLmNlbGwnKTtcbiAgICAgICAgbGV0IHVzZXJJbnB1dDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdXNlcklucHV0ID0geWllbGQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICBjZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2VsbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpdCcpICYmICFjZWxsLmNsYXNzTGlzdC5jb250YWlucygnbWlzcycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGdldFVzZXJJbnB1dChlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IHdoaWxlICghdXNlcklucHV0KTtcbiAgICAgICAgY29uc3QgY29sID0gdXNlcklucHV0LmNvbC50b1N0cmluZygpO1xuICAgICAgICBjb25zdCByb3cgPSB1c2VySW5wdXQucm93LnRvU3RyaW5nKCk7XG4gICAgICAgIHJldHVybiB7IGNvbCwgcm93IH07XG4gICAgfSk7XG4gICAgY29uc3QgaGFuZGxlUHZDID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGZpbGxDZWxscygnZmlyc3QnKTtcbiAgICAgICAgd2FpdGluZyh0cnVlKTtcbiAgICAgICAgYWxsQnRucy5mb3JFYWNoKChidG4pID0+IChidG4uZGlzYWJsZWQgPSB0cnVlKSk7XG4gICAgICAgIHlpZWxkIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGdldFNwZWVkVmFsdWUoKSkpO1xuICAgICAgICBhbGxCdG5zLmZvckVhY2goKGJ0bikgPT4gKGJ0bi5kaXNhYmxlZCA9IGZhbHNlKSk7XG4gICAgICAgIHdhaXRpbmcoZmFsc2UpO1xuICAgICAgICBjYW5CZVN0YXJ0ZWQoKTtcbiAgICAgICAgc2V0SW5pdE1lc3NhZ2UoKTtcbiAgICB9KTtcbiAgICBjb25zdCBoYW5kbGVOZXdHYW1lID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHNldFJlc3RhcnRNZXNzYWdlKCk7XG4gICAgICAgIHdhaXRpbmcodHJ1ZSk7XG4gICAgICAgIGFsbEJ0bnMuZm9yRWFjaCgoYnRuKSA9PiAoYnRuLmRpc2FibGVkID0gdHJ1ZSkpO1xuICAgICAgICB5aWVsZCBjb250cm9sbGVyLm5ld0dhbWUoKTtcbiAgICAgICAgYWxsQnRucy5mb3JFYWNoKChidG4pID0+IChidG4uZGlzYWJsZWQgPSBmYWxzZSkpO1xuICAgICAgICB3YWl0aW5nKGZhbHNlKTtcbiAgICAgICAgY2FuQmVTdGFydGVkKCk7XG4gICAgICAgIGlmIChwVmNCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgICAgICBzZXRJbml0TWVzc2FnZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgaGFuZGxlQ3ZDID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHdhaXRpbmcodHJ1ZSk7XG4gICAgICAgIGFsbEJ0bnMuZm9yRWFjaCgoYnRuKSA9PiAoYnRuLmRpc2FibGVkID0gdHJ1ZSkpO1xuICAgICAgICB5aWVsZCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBnZXRTcGVlZFZhbHVlKCkpKTtcbiAgICAgICAgYWxsQnRucy5mb3JFYWNoKChidG4pID0+IChidG4uZGlzYWJsZWQgPSBmYWxzZSkpO1xuICAgICAgICB3YWl0aW5nKGZhbHNlKTtcbiAgICAgICAgc3RhcnRCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICByYW5kb21CdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBjVmNCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0pO1xuICAgIGNvbnN0IGhhbmRsZUdhbWVNb2RlID0gKHNlbGVjdGVkRWxlbWVudCwgZGVzZWxlY3RlZEVsZW1lbnQpID0+IHtcbiAgICAgICAgZGVzZWxlY3RlZEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgaWYgKCFzZWxlY3RlZEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEVsZW1lbnQgPT09IHBWY0J0bikge1xuICAgICAgICAgICAgICAgIGhhbmRsZVB2QygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudCA9PT0gY1ZjQnRuKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlQ3ZDKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250cm9sbGVyLnJlc3RhcnQoKTtcbiAgICAgICAgICAgIHNldFJlc3RhcnRNZXNzYWdlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHdhaXRpbmcgPSAoYm9vbCkgPT4ge1xuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnd2FpdCcsIGJvb2wpO1xuICAgIH07XG4gICAgY29uc3Qgc2V0Qm9hcmRQb2ludGVyID0gKHdoaWNoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlY29uZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZWNvbmRCb2FyZCcpO1xuICAgICAgICBpZiAod2hpY2ggPT09ICdwbGF5ZXInKSB7XG4gICAgICAgICAgICBzZWNvbmQuY2xhc3NMaXN0LmFkZCgnYm9hcmRPdXRsaW5lJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAod2hpY2ggPT09ICdjb21wdXRlcicpIHtcbiAgICAgICAgICAgIHNlY29uZC5jbGFzc0xpc3QucmVtb3ZlKCdib2FyZE91dGxpbmUnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlQm9hcmRQb2ludGVyID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBzZWNvbmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2Vjb25kQm9hcmQnKTtcbiAgICAgICAgc2Vjb25kLmNsYXNzTGlzdC5yZW1vdmUoJ2JvYXJkT3V0bGluZScpO1xuICAgIH07XG4gICAgY29uc3QgY3JlYXRlU2hpcEVsZW1lbnQgPSAoZmlyc3RDZWxsKSA9PiB7XG4gICAgICAgIGNvbnN0IHNoaXBFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnN0IHNoaXBOYW1lID0gZmlyc3RDZWxsLnRha2VuQnkubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBzaGlwU2l6ZSA9IGZpcnN0Q2VsbC50YWtlbkJ5LnNpemU7XG4gICAgICAgIHNoaXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NoaXAnLCBzaGlwTmFtZSwgJ2RyYWdnYWJsZScpO1xuICAgICAgICBzaGlwRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2l6ZScsIGAke3NoaXBTaXplfWApO1xuICAgICAgICBzaGlwRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScsIGAke3NoaXBOYW1lfWApO1xuICAgICAgICBzaGlwRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XG4gICAgICAgIHJldHVybiBzaGlwRWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IHNldFNoaXBTdHlsZSA9IChzaGlwRWxlbWVudCwgc2hpcFNpemUsIGNlbGxTaXplLCBpc1ZlcnRpY2FsKSA9PiB7XG4gICAgICAgIGNvbnN0IGh0bWxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpO1xuICAgICAgICBjb25zdCByb290Rm9udFNpemUgPSBwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGh0bWxFbGVtZW50LCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKCdmb250LXNpemUnKSk7XG4gICAgICAgIGlmICghaXNWZXJ0aWNhbCkge1xuICAgICAgICAgICAgc2hpcEVsZW1lbnQuc3R5bGUud2lkdGggPSBzaGlwU2l6ZSAqIChjZWxsU2l6ZSAvIHJvb3RGb250U2l6ZSkgKyAncmVtJztcbiAgICAgICAgICAgIHNoaXBFbGVtZW50LnN0eWxlLmhlaWdodCA9IGNlbGxTaXplIC8gcm9vdEZvbnRTaXplICsgJ3JlbSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzaGlwRWxlbWVudC5zdHlsZS53aWR0aCA9IGNlbGxTaXplIC8gcm9vdEZvbnRTaXplICsgJ3JlbSc7XG4gICAgICAgICAgICBzaGlwRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBzaGlwU2l6ZSAqIChjZWxsU2l6ZSAvIHJvb3RGb250U2l6ZSkgKyAncmVtJztcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVzaXplSGFuZGxlciA9IChzaGlwRWxlbWVudCwgc2hpcFNpemUsIGlzVmVydGljYWwpID0+IHtcbiAgICAgICAgY29uc3QgY2VsbFNpemUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm9hcmQgLmNlbGwnKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgICAgc2V0U2hpcFN0eWxlKHNoaXBFbGVtZW50LCBzaGlwU2l6ZSwgY2VsbFNpemUsIGlzVmVydGljYWwpO1xuICAgIH07XG4gICAgY29uc3QgY3JlYXRlU2hpcE92ZXJsYXkgPSAoZ2FtZWJvYXJkKSA9PiB7XG4gICAgICAgIGdhbWVib2FyZC5zaGlwc1BsYWNlZC5mb3JFYWNoKChmaXJzdENlbGwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNoaXBFbGVtZW50ID0gY3JlYXRlU2hpcEVsZW1lbnQoZmlyc3RDZWxsKTtcbiAgICAgICAgICAgIGNvbnN0IGNlbGxTaXplID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvYXJkIC5jZWxsJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgICAgICAgICBjb25zdCBzaGlwU2l6ZSA9IGZpcnN0Q2VsbC50YWtlbkJ5LnNpemU7XG4gICAgICAgICAgICBjb25zdCBpc1ZlcnRpY2FsID0gZmlyc3RDZWxsLnRha2VuQnkuaXNWZXJ0aWNhbDtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0Q2VsbEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtnZXRCb2FyZElkKGdhbWVib2FyZCl9IC5jZWxsW2RhdGEtY29sPVwiJHtmaXJzdENlbGwuY29sfVwiXVtkYXRhLXJvdz1cIiR7Zmlyc3RDZWxsLnJvd31cIl1gKTtcbiAgICAgICAgICAgIGZpcnN0Q2VsbEVsZW1lbnQuYXBwZW5kQ2hpbGQoc2hpcEVsZW1lbnQpO1xuICAgICAgICAgICAgc2V0U2hpcFN0eWxlKHNoaXBFbGVtZW50LCBzaGlwU2l6ZSwgY2VsbFNpemUsIGlzVmVydGljYWwpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHJlc2l6ZUhhbmRsZXIoc2hpcEVsZW1lbnQsIHNoaXBTaXplLCBpc1ZlcnRpY2FsKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgY2FuQmVTdGFydGVkID0gKCkgPT4ge1xuICAgICAgICBpZiAoY29udHJvbGxlci5odW1hbkdhbWVib2FyZC5zaGlwc1BsYWNlZC5sZW5ndGggPT09IDUgJiYgY29udHJvbGxlci5jb21wdXRlckdhbWVib2FyZC5zaGlwc1BsYWNlZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGZpbGxDZWxscygnc2Vjb25kJyk7XG4gICAgICAgICAgICBzdGFydEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdGFydEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldEluaXRNZXNzYWdlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBzdGF0dXNUZXh0TW9iaWxlID0gXCJVc2UgJ1JhbmRvbSBQbGFjZW1lbnQnIGJ1dHRvbiwgdGhlbiBwcmVzcyBTdGFydCFcIjtcbiAgICAgICAgY29uc3Qgc3RhdHVzVGV4dERlc2t0b3AgPSBcIkRyYWcgYW5kIGRyb3Agc2hpcHMgb250byB0aGUgbGVmdCBib2FyZCBvciB1c2UgJ1JhbmRvbSBQbGFjZW1lbnQnIGJ1dHRvbi4gUmlnaHQgY2xpY2sgdG8gcm90YXRlLiBXaGVuIHJlYWR5LCBwcmVzcyBTdGFydCFcIjtcbiAgICAgICAgaWYgKHN0YXR1c0JveC50ZXh0Q29udGVudCA9PT0gc3RhdHVzVGV4dE1vYmlsZSB8fFxuICAgICAgICAgICAgc3RhdHVzQm94LnRleHRDb250ZW50ID09PSBzdGF0dXNUZXh0RGVza3RvcCB8fFxuICAgICAgICAgICAgc3RhdHVzQm94LnRleHRDb250ZW50ID09PSAnUmVzdGFydGluZy4uLicgfHxcbiAgICAgICAgICAgIHN0YXR1c0JveC50ZXh0Q29udGVudCA9PT0gJ1lvdSBjYW4gbm93IGJlZ2luIHRoZSBnYW1lLiBQcmVzcyBzdGFydCEnKSB7XG4gICAgICAgICAgICBzdGF0dXNCb3gudGV4dENvbnRlbnQgPSBzdGF0dXNUZXh0TW9iaWxlO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcykge1xuICAgICAgICAgICAgICAgIHN0YXR1c0JveC50ZXh0Q29udGVudCA9IHN0YXR1c1RleHREZXNrdG9wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRTdGFydE1lc3NhZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmIChjYW5CZVN0YXJ0ZWQoKSkge1xuICAgICAgICAgICAgc3RhdHVzQm94LnRleHRDb250ZW50ID0gJ1lvdSBjYW4gbm93IGJlZ2luIHRoZSBnYW1lLiBQcmVzcyBzdGFydCEnO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRUdXJuTWVzc2FnZVB2QyA9IChpc1BsYXllclR1cm4pID0+IHtcbiAgICAgICAgaWYgKGlzUGxheWVyVHVybikge1xuICAgICAgICAgICAgc3RhdHVzQm94LnRleHRDb250ZW50ID0gXCJQbGF5ZXIncyB0dXJuLiBUYWtlIGFpbSBhbmQgYXR0YWNrIVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdHVzQm94LnRleHRDb250ZW50ID0gXCJDb21wdXRlcidzIHR1cm4uIFRoZSBzaG90IGlzIGNvbWluZyFcIjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2V0VHVybk1lc3NhZ2VDdkMgPSAoaXNQbGF5ZXJUdXJuKSA9PiB7XG4gICAgICAgIGlmIChpc1BsYXllclR1cm4pIHtcbiAgICAgICAgICAgIHN0YXR1c0JveC50ZXh0Q29udGVudCA9IFwiVmlvbGV0J3MgdHVyblwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdHVzQm94LnRleHRDb250ZW50ID0gXCJCbHVlJ3MgdHVyblwiO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRHYW1lT3Zlck1lc3NhZ2VQdkMgPSAod2hvKSA9PiB7XG4gICAgICAgIGlmICh3aG8gPT09ICdwbGF5ZXInKSB7XG4gICAgICAgICAgICBzdGF0dXNCb3gudGV4dENvbnRlbnQgPSAnR2FtZSBvdmVyLCBQbGF5ZXIgd2lucyEnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHdobyA9PT0gJ2NvbXB1dGVyJykge1xuICAgICAgICAgICAgc3RhdHVzQm94LnRleHRDb250ZW50ID0gJ0dhbWUgb3ZlciwgQ29tcHV0ZXIgd2lucyEnO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRHYW1lT3Zlck1lc3NhZ2VDdkMgPSAod2hvKSA9PiB7XG4gICAgICAgIGlmICh3aG8gPT09ICdwbGF5ZXInKSB7XG4gICAgICAgICAgICBzdGF0dXNCb3gudGV4dENvbnRlbnQgPSAnR2FtZSBvdmVyLCBCbHVlIENvbXB1dGVyIHdpbnMhJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh3aG8gPT09ICdjb21wdXRlcicpIHtcbiAgICAgICAgICAgIHN0YXR1c0JveC50ZXh0Q29udGVudCA9ICdHYW1lIG92ZXIsIFZpb2xldCBDb21wdXRlciB3aW5zISc7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldFJlc3RhcnRNZXNzYWdlID0gKCkgPT4ge1xuICAgICAgICBzdGF0dXNCb3gudGV4dENvbnRlbnQgPSAnUmVzdGFydGluZy4uLic7XG4gICAgfTtcbiAgICBjb25zdCBmaWxsQ2VsbHMgPSAoaW5wdXQpID0+IHtcbiAgICAgICAgbGV0IGJvYXJkO1xuICAgICAgICBpZiAoaW5wdXQgPT09ICdmaXJzdCcpIHtcbiAgICAgICAgICAgIGJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpcnN0Qm9hcmQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbnB1dCA9PT0gJ3NlY29uZCcpIHtcbiAgICAgICAgICAgIGJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NlY29uZEJvYXJkJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2VsbHMgPSBib2FyZC5xdWVyeVNlbGVjdG9yQWxsKCcuY2VsbCcpO1xuICAgICAgICBjZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ2ZpbGxlZCcpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHVuRmlsbENlbGxzID0gKGlucHV0KSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgd2FpdGluZyh0cnVlKTtcbiAgICAgICAgbGV0IGJvYXJkO1xuICAgICAgICBpZiAoaW5wdXQgPT09ICdmaXJzdCcpIHtcbiAgICAgICAgICAgIGJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpcnN0Qm9hcmQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbnB1dCA9PT0gJ3NlY29uZCcpIHtcbiAgICAgICAgICAgIGJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NlY29uZEJvYXJkJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2VsbHMgPSBib2FyZC5xdWVyeVNlbGVjdG9yQWxsKCcuY2VsbCcpO1xuICAgICAgICBjZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ2ZpbGxlZCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgeWllbGQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGNlbGxzLmZvckVhY2goKGNlbGwsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZSgnZmlsbGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gY2VsbHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgoaW5kZXggKyAxKSAlIDYgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdW5kcy5wbGF5KCd0aWNrJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAoZ2V0U3BlZWRWYWx1ZSgpIC8gMTIwKSAqIGluZGV4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgd2FpdGluZyhmYWxzZSk7XG4gICAgfSk7XG4gICAgY29uc3QgdG9nZ2xlTXV0ZSA9ICgpID0+IHtcbiAgICAgICAgY29uc3Qgc3BlYWtlckljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3BlYWtlcicpO1xuICAgICAgICBpZiAoIWlzTXV0ZWQpIHtcbiAgICAgICAgICAgIG11dGVCdG4uY2xhc3NMaXN0LmFkZCgnbXV0ZWQnKTtcbiAgICAgICAgICAgIHNwZWFrZXJJY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhLXZvbHVtZS1oaWdoJyk7XG4gICAgICAgICAgICBzcGVha2VySWNvbi5jbGFzc0xpc3QuYWRkKCdmYS12b2x1bWUteG1hcmsnKTtcbiAgICAgICAgICAgIGlmIChzb3VuZHMubXV0ZUFsbCkge1xuICAgICAgICAgICAgICAgIHNvdW5kcy5tdXRlQWxsKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbXV0ZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdtdXRlZCcpO1xuICAgICAgICAgICAgc3BlYWtlckljb24uY2xhc3NMaXN0LnJlbW92ZSgnZmEtdm9sdW1lLXhtYXJrJyk7XG4gICAgICAgICAgICBzcGVha2VySWNvbi5jbGFzc0xpc3QuYWRkKCdmYS12b2x1bWUtaGlnaCcpO1xuICAgICAgICAgICAgaWYgKHNvdW5kcy5tdXRlQWxsKSB7XG4gICAgICAgICAgICAgICAgc291bmRzLm11dGVBbGwoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlzTXV0ZWQgPSAhaXNNdXRlZDtcbiAgICAgICAgc291bmRzLnBsYXkoJ3NlbGVjdCcpO1xuICAgIH07XG4gICAgcFZjQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBmaWxsQ2VsbHMoJ2ZpcnN0Jyk7XG4gICAgICAgIGhhbmRsZUdhbWVNb2RlKHBWY0J0biwgY1ZjQnRuKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NlY29uZEJvYXJkJyk7XG4gICAgICAgIHNlY29uZC5jbGFzc0xpc3QucmVtb3ZlKCdzdGFydCcpO1xuICAgICAgICBzdGFydEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHBWY0J0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHNvdW5kcy5wbGF5KCdzZWxlY3QnKTtcbiAgICAgICAgdW5GaWxsQ2VsbHMoJ2ZpcnN0Jyk7XG4gICAgfSk7XG4gICAgY1ZjQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBmaWxsQ2VsbHMoJ2ZpcnN0Jyk7XG4gICAgICAgIGZpbGxDZWxscygnc2Vjb25kJyk7XG4gICAgICAgIGhhbmRsZUdhbWVNb2RlKGNWY0J0biwgcFZjQnRuKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NlY29uZEJvYXJkJyk7XG4gICAgICAgIHNlY29uZC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XG4gICAgICAgIHNlY29uZC5jbGFzc0xpc3QuYWRkKCdzdGFydCcpO1xuICAgICAgICBzdGFydEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHJhbmRvbUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGNWY0J0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHNvdW5kcy5wbGF5KCdzZWxlY3QnKTtcbiAgICAgICAgUHJvbWlzZS5hbGwoW3VuRmlsbENlbGxzKCdmaXJzdCcpLCB1bkZpbGxDZWxscygnc2Vjb25kJyldKTtcbiAgICB9KTtcbiAgICBuZXdHYW1lQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHJlbW92ZUJvYXJkUG9pbnRlcigpO1xuICAgICAgICBmaWxsQ2VsbHMoJ2ZpcnN0Jyk7XG4gICAgICAgIGlmIChjVmNCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgICAgICBmaWxsQ2VsbHMoJ3NlY29uZCcpO1xuICAgICAgICAgICAgc3RhcnRCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmFuZG9tQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNWY0J0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgc291bmRzLnBsYXkoJ3NlbGVjdCcpO1xuICAgICAgICB5aWVsZCBoYW5kbGVOZXdHYW1lKCk7XG4gICAgICAgIGNvbnN0IHNlY29uZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZWNvbmRCb2FyZCcpO1xuICAgICAgICBzZWNvbmQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpO1xuICAgICAgICBpZiAocFZjQnRuLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgc2Vjb25kLmNsYXNzTGlzdC5yZW1vdmUoJ3N0YXJ0Jyk7XG4gICAgICAgICAgICB1bkZpbGxDZWxscygnZmlyc3QnKTtcbiAgICAgICAgICAgIHN0YXJ0QnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHBWY0J0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNWY0J0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgICAgIHNlY29uZC5jbGFzc0xpc3QuYWRkKCdzdGFydCcpO1xuICAgICAgICAgICAgcmFuZG9tQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIFByb21pc2UuYWxsKFt1bkZpbGxDZWxscygnZmlyc3QnKSwgdW5GaWxsQ2VsbHMoJ3NlY29uZCcpXSk7XG4gICAgICAgICAgICBzdGFydEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICByYW5kb21CdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgY1ZjQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0pKTtcbiAgICBzdGFydEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29udHJvbGxlci5zdGFydCgpO1xuICAgICAgICBjb25zdCBzZWNvbmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2Vjb25kQm9hcmQnKTtcbiAgICAgICAgc2Vjb25kLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTtcbiAgICAgICAgc2Vjb25kLmNsYXNzTGlzdC5hZGQoJ3N0YXJ0Jyk7XG4gICAgICAgIHN0YXJ0QnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgcmFuZG9tQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgdW5GaWxsQ2VsbHMoJ3NlY29uZCcpO1xuICAgIH0pO1xuICAgIHJhbmRvbUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29udHJvbGxlci5jb21wdXRlckdhbWVib2FyZC5jbGVhckJvYXJkKCk7XG4gICAgICAgIHJlZnJlc2hCb2FyZChjb250cm9sbGVyLmNvbXB1dGVyR2FtZWJvYXJkKTtcbiAgICAgICAgY29udHJvbGxlci5yYW5kb21pemVTaGlwc1BsYWNlbWVudChjb250cm9sbGVyLmh1bWFuR2FtZWJvYXJkKTtcbiAgICAgICAgZHJhZ0FuZERyb3AoY29udHJvbGxlci5odW1hbkdhbWVib2FyZCwgY29udHJvbGxlci5jb21wdXRlckdhbWVib2FyZCwgY29udHJvbGxlci5odW1hblNoaXBzKTtcbiAgICAgICAgY2FuQmVTdGFydGVkKCk7XG4gICAgICAgIHNldFN0YXJ0TWVzc2FnZSgpO1xuICAgICAgICBmaWxsQ2VsbHMoJ3NlY29uZCcpO1xuICAgICAgICBzb3VuZHMucGxheSgncmFuZG9tJyk7XG4gICAgfSk7XG4gICAgY29uc3Qgc2V0U3BlZWRWYWx1ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgaW5wdXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGlmIChpbnB1dC5jaGVja2VkKSB7XG4gICAgICAgICAgICBzcGVlZFZhbHVlID0gTnVtYmVyKGlucHV0LnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZ2V0U3BlZWRWYWx1ZSA9ICgpID0+IHNwZWVkVmFsdWU7XG4gICAgc3BlZWRzLmZvckVhY2goKHNwZWVkQnRuKSA9PiB7XG4gICAgICAgIHNwZWVkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIHNldFNwZWVkVmFsdWUoZSk7XG4gICAgICAgICAgICBzb3VuZHMucGxheSgnc2VsZWN0Jyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIG11dGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGVNdXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc2V0SW5pdE1lc3NhZ2UpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlckJvYXJkLFxuICAgICAgICBjbGVhclNoaXAsXG4gICAgICAgIHJlZnJlc2hCb2FyZCxcbiAgICAgICAgaGFuZGxlVXNlcklucHV0LFxuICAgICAgICBwVmNCdG4sXG4gICAgICAgIGNWY0J0bixcbiAgICAgICAgd2FpdGluZyxcbiAgICAgICAgc2V0Qm9hcmRQb2ludGVyLFxuICAgICAgICByZW1vdmVCb2FyZFBvaW50ZXIsXG4gICAgICAgIGNyZWF0ZVNoaXBPdmVybGF5LFxuICAgICAgICBjYW5CZVN0YXJ0ZWQsXG4gICAgICAgIHNldEluaXRNZXNzYWdlLFxuICAgICAgICBzZXRTdGFydE1lc3NhZ2UsXG4gICAgICAgIHNldFR1cm5NZXNzYWdlUHZDLFxuICAgICAgICBzZXRUdXJuTWVzc2FnZUN2QyxcbiAgICAgICAgc2V0R2FtZU92ZXJNZXNzYWdlUHZDLFxuICAgICAgICBzZXRHYW1lT3Zlck1lc3NhZ2VDdkMsXG4gICAgICAgIHNldFJlc3RhcnRNZXNzYWdlLFxuICAgICAgICBnZXRTcGVlZFZhbHVlLFxuICAgICAgICBmaWxsQ2VsbHMsXG4gICAgICAgIHVuRmlsbENlbGxzLFxuICAgIH07XG59KSgpO1xuZXhwb3J0IGRlZmF1bHQgdWk7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCBnYW1lYm9hcmRGYWN0b3J5IGZyb20gJy4vZ2FtZWJvYXJkJztcbmltcG9ydCBzaGlwRmFjdG9yeSBmcm9tICcuL3NoaXAnO1xuaW1wb3J0IHBsYXllckZhY3RvcnkgZnJvbSAnLi9wbGF5ZXInO1xuaW1wb3J0IHVpIGZyb20gJy4vdWknO1xuaW1wb3J0IGRyYWdBbmREcm9wIGZyb20gJy4vZHJhZ0FuZERyb3AnO1xuaW1wb3J0IHNvdW5kcyBmcm9tICcuL3NvdW5kcyc7XG5jb25zdCBjb250cm9sbGVyID0gKCgpID0+IHtcbiAgICBjb25zdCBodW1hbkdhbWVib2FyZCA9IGdhbWVib2FyZEZhY3RvcnkoKTtcbiAgICBjb25zdCBjb21wdXRlckdhbWVib2FyZCA9IGdhbWVib2FyZEZhY3RvcnkoKTtcbiAgICBjb25zdCBodW1hbiA9IHBsYXllckZhY3RvcnkoKTtcbiAgICBjb25zdCBjb21wdXRlciA9IHBsYXllckZhY3RvcnkoKTtcbiAgICBsZXQgaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICBsZXQgaHVtYW5DYXJyaWVyO1xuICAgIGxldCBodW1hbkJhdHRsZXNoaXA7XG4gICAgbGV0IGh1bWFuRGVzdHJveWVyO1xuICAgIGxldCBodW1hblN1Ym1hcmluZTtcbiAgICBsZXQgaHVtYW5QYXRyb2xib2F0O1xuICAgIGxldCBodW1hblNoaXBzID0gW2h1bWFuQ2FycmllciwgaHVtYW5CYXR0bGVzaGlwLCBodW1hbkRlc3Ryb3llciwgaHVtYW5TdWJtYXJpbmUsIGh1bWFuUGF0cm9sYm9hdF07XG4gICAgY29uc3QgcG9wdWxhdGVTaGlwcyA9ICgpID0+IHtcbiAgICAgICAgaHVtYW5DYXJyaWVyID0gc2hpcEZhY3RvcnkoJ0NhcnJpZXInKTtcbiAgICAgICAgaHVtYW5CYXR0bGVzaGlwID0gc2hpcEZhY3RvcnkoJ0JhdHRsZXNoaXAnKTtcbiAgICAgICAgaHVtYW5EZXN0cm95ZXIgPSBzaGlwRmFjdG9yeSgnRGVzdHJveWVyJyk7XG4gICAgICAgIGh1bWFuU3VibWFyaW5lID0gc2hpcEZhY3RvcnkoJ1N1Ym1hcmluZScpO1xuICAgICAgICBodW1hblBhdHJvbGJvYXQgPSBzaGlwRmFjdG9yeSgnUGF0cm9sQm9hdCcpO1xuICAgICAgICBodW1hblNoaXBzID0gW2h1bWFuQ2FycmllciwgaHVtYW5CYXR0bGVzaGlwLCBodW1hbkRlc3Ryb3llciwgaHVtYW5TdWJtYXJpbmUsIGh1bWFuUGF0cm9sYm9hdF07XG4gICAgICAgIGNvbXB1dGVyR2FtZWJvYXJkLnBsYWNlU2hpcChodW1hbkNhcnJpZXIsICdBJywgJzEnLCAnaG9yaXpvbnRhbCcpO1xuICAgICAgICBjb21wdXRlckdhbWVib2FyZC5wbGFjZVNoaXAoaHVtYW5CYXR0bGVzaGlwLCAnQScsICczJywgJ2hvcml6b250YWwnKTtcbiAgICAgICAgY29tcHV0ZXJHYW1lYm9hcmQucGxhY2VTaGlwKGh1bWFuRGVzdHJveWVyLCAnQScsICc1JywgJ2hvcml6b250YWwnKTtcbiAgICAgICAgY29tcHV0ZXJHYW1lYm9hcmQucGxhY2VTaGlwKGh1bWFuU3VibWFyaW5lLCAnQScsICc3JywgJ2hvcml6b250YWwnKTtcbiAgICAgICAgY29tcHV0ZXJHYW1lYm9hcmQucGxhY2VTaGlwKGh1bWFuUGF0cm9sYm9hdCwgJ0EnLCAnOScsICdob3Jpem9udGFsJyk7XG4gICAgICAgIGNvbXB1dGVyR2FtZWJvYXJkLnJlc2VydmVTcGFjZUZvckFsbChjb21wdXRlckdhbWVib2FyZCk7XG4gICAgfTtcbiAgICBjb25zdCByZW5ldyA9ICgpID0+IHtcbiAgICAgICAgdWkucmVmcmVzaEJvYXJkKGh1bWFuR2FtZWJvYXJkKTtcbiAgICAgICAgdWkucmVmcmVzaEJvYXJkKGNvbXB1dGVyR2FtZWJvYXJkKTtcbiAgICAgICAgdWkuY3JlYXRlU2hpcE92ZXJsYXkoaHVtYW5HYW1lYm9hcmQpO1xuICAgICAgICB1aS5jcmVhdGVTaGlwT3ZlcmxheShjb21wdXRlckdhbWVib2FyZCk7XG4gICAgICAgIGRyYWdBbmREcm9wKGh1bWFuR2FtZWJvYXJkLCBjb21wdXRlckdhbWVib2FyZCwgaHVtYW5TaGlwcyk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVHYW1lT3ZlciA9ICh3aW5uZXIpID0+IHtcbiAgICAgICAgdWkucmVtb3ZlQm9hcmRQb2ludGVyKCk7XG4gICAgICAgIGlmICh1aS5wVmNCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgICAgICB1aS5zZXRHYW1lT3Zlck1lc3NhZ2VQdkMod2lubmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodWkuY1ZjQnRuLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgdWkuc2V0R2FtZU92ZXJNZXNzYWdlQ3ZDKHdpbm5lcik7XG4gICAgICAgIH1cbiAgICAgICAgc291bmRzLnBsYXkoJ2dhbWVPdmVyJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgY29uc3QgaXNHYW1lT3ZlciA9ICgpID0+IHtcbiAgICAgICAgaWYgKGNvbXB1dGVyR2FtZWJvYXJkLmFsbFN1bmsoY29tcHV0ZXJHYW1lYm9hcmQpKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlR2FtZU92ZXIoJ3BsYXllcicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChodW1hbkdhbWVib2FyZC5hbGxTdW5rKGh1bWFuR2FtZWJvYXJkKSkge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUdhbWVPdmVyKCdjb21wdXRlcicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIGNvbnN0IGNvbXB1dGVyQUkgPSAoZ2FtZWJvYXJkKSA9PiB7XG4gICAgICAgIGxldCBwbGF5ZXI7XG4gICAgICAgIGlmIChnYW1lYm9hcmQgPT09IGh1bWFuR2FtZWJvYXJkKSB7XG4gICAgICAgICAgICBwbGF5ZXIgPSBjb21wdXRlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChnYW1lYm9hcmQgPT09IGNvbXB1dGVyR2FtZWJvYXJkKSB7XG4gICAgICAgICAgICBwbGF5ZXIgPSBodW1hbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2FtZWJvYXJkLmhpdEJ1dE5vdFN1bmsoZ2FtZWJvYXJkKSkge1xuICAgICAgICAgICAgY29uc3QgbGFzdEhpdCA9IHBsYXllci5nZXRMYXN0SGl0KCk7XG4gICAgICAgICAgICBjb25zdCBwcmV2SGl0ID0gcGxheWVyLmdldFByZXZIaXQoKTtcbiAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBnYW1lYm9hcmQuZ2V0Q2VsbChsYXN0SGl0LmNvbCwgbGFzdEhpdC5yb3cpO1xuICAgICAgICAgICAgY29uc3QgaGl0Q291bnQgPSBjZWxsLnRha2VuQnkuaGl0Q291bnQ7XG4gICAgICAgICAgICBpZiAocHJldkhpdCAhPT0gbnVsbCAmJiBsYXN0SGl0ICE9PSBudWxsICYmIGhpdENvdW50ID49IDIgJiYgaGl0Q291bnQgPD0gNCkge1xuICAgICAgICAgICAgICAgIHBsYXllci5maW5pc2hpbmdBdHRhY2soZ2FtZWJvYXJkLCBsYXN0SGl0LmNvbCwgbGFzdEhpdC5yb3csIHByZXZIaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGl0Q291bnQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXIuZm9sbG93dXBBdHRhY2soZ2FtZWJvYXJkLCBsYXN0SGl0LmNvbCwgbGFzdEhpdC5yb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5jYW5CZVN1bmsoY2VsbCkpIHtcbiAgICAgICAgICAgICAgICBnYW1lYm9hcmQuc2lua1NoaXAoZ2FtZWJvYXJkLCBsYXN0SGl0LmNvbCwgbGFzdEhpdC5yb3cpO1xuICAgICAgICAgICAgICAgIHNvdW5kcy5wbGF5KCdzdW5rJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNHYW1lT3ZlcigpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgeyBjb2wsIHJvdyB9ID0gcGxheWVyLnJhbmRvbUF0dGFjayhnYW1lYm9hcmQpO1xuICAgICAgICAgICAgY29uc3QgY2VsbCA9IGdhbWVib2FyZC5nZXRDZWxsKGNvbCwgcm93KTtcbiAgICAgICAgICAgIGlmIChjZWxsLnN0YXR1cyA9PT0gJ2hpdCcpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc2V0UHJldkhpdChwbGF5ZXIuZ2V0TGFzdEhpdCgpKTtcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc2V0TGFzdEhpdCh7IGNvbCwgcm93IH0pO1xuICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuY2FuQmVTdW5rKGNlbGwpKSB7XG4gICAgICAgICAgICAgICAgICAgIGdhbWVib2FyZC5zaW5rU2hpcChnYW1lYm9hcmQsIGNvbCwgcm93KTtcbiAgICAgICAgICAgICAgICAgICAgc291bmRzLnBsYXkoJ3N1bmsnKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNldFByZXZIaXQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5zZXRMYXN0SGl0KG51bGwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNHYW1lT3ZlcigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHBsYXllclR1cm4gPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgdWkuc2V0VHVybk1lc3NhZ2VQdkModHJ1ZSk7XG4gICAgICAgIHVpLnNldEJvYXJkUG9pbnRlcigncGxheWVyJyk7XG4gICAgICAgIHVpLndhaXRpbmcoZmFsc2UpO1xuICAgICAgICBjb25zdCB7IGNvbCwgcm93IH0gPSB5aWVsZCB1aS5oYW5kbGVVc2VySW5wdXQoKTtcbiAgICAgICAgaHVtYW4uYXR0YWNrKGNvbXB1dGVyR2FtZWJvYXJkLCBjb2wsIHJvdyk7XG4gICAgICAgIGNvbnN0IGNlbGwgPSBjb21wdXRlckdhbWVib2FyZC5nZXRDZWxsKGNvbCwgcm93KTtcbiAgICAgICAgaWYgKGNvbXB1dGVyR2FtZWJvYXJkLmNhbkJlU3VuayhjZWxsKSkge1xuICAgICAgICAgICAgY29tcHV0ZXJHYW1lYm9hcmQuc2lua1NoaXAoY29tcHV0ZXJHYW1lYm9hcmQsIGNvbCwgcm93KTtcbiAgICAgICAgICAgIHNvdW5kcy5wbGF5KCdzdW5rJyk7XG4gICAgICAgIH1cbiAgICAgICAgdWkucmVmcmVzaEJvYXJkKGNvbXB1dGVyR2FtZWJvYXJkKTtcbiAgICB9KTtcbiAgICBjb25zdCBjb21wdXRlclR1cm4gPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgdWkuc2V0VHVybk1lc3NhZ2VQdkMoZmFsc2UpO1xuICAgICAgICB1aS5zZXRCb2FyZFBvaW50ZXIoJ2NvbXB1dGVyJyk7XG4gICAgICAgIHVpLndhaXRpbmcodHJ1ZSk7XG4gICAgICAgIHlpZWxkIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHVpLmdldFNwZWVkVmFsdWUoKSkpO1xuICAgICAgICBpZiAoIXVpLnBWY0J0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHwgaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29tcHV0ZXJBSShodW1hbkdhbWVib2FyZCk7XG4gICAgICAgIHVpLnJlZnJlc2hCb2FyZChodW1hbkdhbWVib2FyZCk7XG4gICAgfSk7XG4gICAgY29uc3QgcGxheWVyVnNDb21wdXRlck1vZGUgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgbGV0IGlzUGxheWVyVHVybiA9IHRydWU7XG4gICAgICAgIHdoaWxlICghaXNHYW1lT3ZlcigpICYmICFpc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGlmIChpc1BsYXllclR1cm4pIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBwbGF5ZXJUdXJuKCk7XG4gICAgICAgICAgICAgICAgaXNQbGF5ZXJUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNHYW1lT3ZlcigpIHx8IGlzU3RvcHBlZCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1BsYXllclR1cm4pIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBjb21wdXRlclR1cm4oKTtcbiAgICAgICAgICAgICAgICBpc1BsYXllclR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB1aS53YWl0aW5nKGZhbHNlKTtcbiAgICB9KTtcbiAgICBjb25zdCBjcHVUdXJuID0gKGlzUGxheWVyVHVybiwgZ2FtZWJvYXJkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgdWkud2FpdGluZyh0cnVlKTtcbiAgICAgICAgdWkuc2V0VHVybk1lc3NhZ2VDdkMoaXNQbGF5ZXJUdXJuKTtcbiAgICAgICAgeWllbGQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdWkuZ2V0U3BlZWRWYWx1ZSgpKSk7XG4gICAgICAgIGlmICghdWkuY1ZjQnRuLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fCBpc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb21wdXRlckFJKGdhbWVib2FyZCk7XG4gICAgICAgIHVpLnJlZnJlc2hCb2FyZChnYW1lYm9hcmQpO1xuICAgIH0pO1xuICAgIGNvbnN0IGNvbXB1dGVyVnNDb21wdXRlck1vZGUgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgdWkucmVtb3ZlQm9hcmRQb2ludGVyKCk7XG4gICAgICAgIGxldCBpc1BsYXllclR1cm4gPSB0cnVlO1xuICAgICAgICB3aGlsZSAoIWlzR2FtZU92ZXIoKSAmJiAhaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB5aWVsZCBjcHVUdXJuKGlzUGxheWVyVHVybiwgaXNQbGF5ZXJUdXJuID8gaHVtYW5HYW1lYm9hcmQgOiBjb21wdXRlckdhbWVib2FyZCk7XG4gICAgICAgICAgICBpc1BsYXllclR1cm4gPSAhaXNQbGF5ZXJUdXJuO1xuICAgICAgICB9XG4gICAgICAgIGlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB1aS53YWl0aW5nKGZhbHNlKTtcbiAgICB9KTtcbiAgICBjb25zdCByYW5kb21QbGFjZW1lbnQgPSAoZ2FtZWJvYXJkKSA9PiB7XG4gICAgICAgIGxldCBhbGxTaGlwcztcbiAgICAgICAgaWYgKGdhbWVib2FyZCA9PT0gaHVtYW5HYW1lYm9hcmQpIHtcbiAgICAgICAgICAgIGh1bWFuQ2FycmllciA9IHNoaXBGYWN0b3J5KCdDYXJyaWVyJyk7XG4gICAgICAgICAgICBodW1hbkJhdHRsZXNoaXAgPSBzaGlwRmFjdG9yeSgnQmF0dGxlc2hpcCcpO1xuICAgICAgICAgICAgaHVtYW5EZXN0cm95ZXIgPSBzaGlwRmFjdG9yeSgnRGVzdHJveWVyJyk7XG4gICAgICAgICAgICBodW1hblN1Ym1hcmluZSA9IHNoaXBGYWN0b3J5KCdTdWJtYXJpbmUnKTtcbiAgICAgICAgICAgIGh1bWFuUGF0cm9sYm9hdCA9IHNoaXBGYWN0b3J5KCdQYXRyb2xCb2F0Jyk7XG4gICAgICAgICAgICBhbGxTaGlwcyA9IFtodW1hbkNhcnJpZXIsIGh1bWFuQmF0dGxlc2hpcCwgaHVtYW5EZXN0cm95ZXIsIGh1bWFuU3VibWFyaW5lLCBodW1hblBhdHJvbGJvYXRdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdhbWVib2FyZCA9PT0gY29tcHV0ZXJHYW1lYm9hcmQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVyQ2FycmllciA9IHNoaXBGYWN0b3J5KCdDYXJyaWVyJyk7XG4gICAgICAgICAgICBjb25zdCBjb21wdXRlckJhdHRsZXNoaXAgPSBzaGlwRmFjdG9yeSgnQmF0dGxlc2hpcCcpO1xuICAgICAgICAgICAgY29uc3QgY29tcHV0ZXJEZXN0cm95ZXIgPSBzaGlwRmFjdG9yeSgnRGVzdHJveWVyJyk7XG4gICAgICAgICAgICBjb25zdCBjb21wdXRlclN1Ym1hcmluZSA9IHNoaXBGYWN0b3J5KCdTdWJtYXJpbmUnKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVyUGF0cm9sYm9hdCA9IHNoaXBGYWN0b3J5KCdQYXRyb2xCb2F0Jyk7XG4gICAgICAgICAgICBhbGxTaGlwcyA9IFtjb21wdXRlckNhcnJpZXIsIGNvbXB1dGVyQmF0dGxlc2hpcCwgY29tcHV0ZXJEZXN0cm95ZXIsIGNvbXB1dGVyU3VibWFyaW5lLCBjb21wdXRlclBhdHJvbGJvYXRdO1xuICAgICAgICB9XG4gICAgICAgIGh1bWFuU2hpcHMubGVuZ3RoID0gMDtcbiAgICAgICAgY29uc3QgY29scyA9IFsnQScsICdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSiddO1xuICAgICAgICBjb25zdCByYW5kb21Db2wgPSAoKSA9PiBjb2xzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvbHMubGVuZ3RoKV07XG4gICAgICAgIGNvbnN0IHJhbmRvbVJvdyA9ICgpID0+IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogMTApLnRvU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IHJhbmRvbU9yaWVudGF0aW9uID0gKCkgPT4gKE1hdGgucmFuZG9tKCkgPiAwLjUgPyAnaG9yaXpvbnRhbCcgOiAndmVydGljYWwnKTtcbiAgICAgICAgYWxsU2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICAgICAgICAgICAgbGV0IGNvbCA9IHJhbmRvbUNvbCgpO1xuICAgICAgICAgICAgbGV0IHJvdyA9IHJhbmRvbVJvdygpO1xuICAgICAgICAgICAgbGV0IG9yaWVudGF0aW9uID0gcmFuZG9tT3JpZW50YXRpb24oKTtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBnYW1lYm9hcmQuY2FuQmVQbGFjZWQoc2hpcC5zaXplLCBjb2wsIHJvdywgb3JpZW50YXRpb24pO1xuICAgICAgICAgICAgd2hpbGUgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBjb2wgPSByYW5kb21Db2woKTtcbiAgICAgICAgICAgICAgICByb3cgPSByYW5kb21Sb3coKTtcbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9IHJhbmRvbU9yaWVudGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZ2FtZWJvYXJkLmNhbkJlUGxhY2VkKHNoaXAuc2l6ZSwgY29sLCByb3csIG9yaWVudGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBnYW1lYm9hcmQucGxhY2VTaGlwKHNoaXAsIGNvbCwgcm93LCBvcmllbnRhdGlvbik7XG4gICAgICAgICAgICAgICAgZ2FtZWJvYXJkLnJlc2VydmVTcGFjZShnYW1lYm9hcmQsIGNvbCwgcm93KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGh1bWFuU2hpcHMucHVzaChzaGlwKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCByYW5kb21pemVTaGlwc1BsYWNlbWVudCA9IChnYW1lYm9hcmQpID0+IHtcbiAgICAgICAgZ2FtZWJvYXJkLmNsZWFyQm9hcmQoKTtcbiAgICAgICAgcmFuZG9tUGxhY2VtZW50KGdhbWVib2FyZCk7XG4gICAgICAgIHVpLnJlZnJlc2hCb2FyZChnYW1lYm9hcmQpO1xuICAgICAgICBpZiAoZ2FtZWJvYXJkID09PSBodW1hbkdhbWVib2FyZCkge1xuICAgICAgICAgICAgdWkuY3JlYXRlU2hpcE92ZXJsYXkoZ2FtZWJvYXJkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcGlja0dhbWVNb2RlID0gKCkgPT4ge1xuICAgICAgICBpZiAodWkuY1ZjQnRuLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgcmFuZG9taXplU2hpcHNQbGFjZW1lbnQoaHVtYW5HYW1lYm9hcmQpO1xuICAgICAgICAgICAgcmFuZG9taXplU2hpcHNQbGFjZW1lbnQoY29tcHV0ZXJHYW1lYm9hcmQpO1xuICAgICAgICAgICAgaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgICAgICBjb21wdXRlclZzQ29tcHV0ZXJNb2RlKCk7XG4gICAgICAgICAgICB1aS5yZWZyZXNoQm9hcmQoaHVtYW5HYW1lYm9hcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzdGFydCA9ICgpID0+IHtcbiAgICAgICAgdWkucmVmcmVzaEJvYXJkKGh1bWFuR2FtZWJvYXJkKTtcbiAgICAgICAgcmFuZG9taXplU2hpcHNQbGFjZW1lbnQoY29tcHV0ZXJHYW1lYm9hcmQpO1xuICAgICAgICBpc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgcGxheWVyVnNDb21wdXRlck1vZGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlc3RhcnQgPSAoKSA9PiB7XG4gICAgICAgIGlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIGh1bWFuLnNldFByZXZIaXQobnVsbCk7XG4gICAgICAgIGh1bWFuLnNldExhc3RIaXQobnVsbCk7XG4gICAgICAgIGNvbXB1dGVyLnNldFByZXZIaXQobnVsbCk7XG4gICAgICAgIGNvbXB1dGVyLnNldExhc3RIaXQobnVsbCk7XG4gICAgICAgIGh1bWFuR2FtZWJvYXJkLmNsZWFyQm9hcmQoKTtcbiAgICAgICAgY29tcHV0ZXJHYW1lYm9hcmQuY2xlYXJCb2FyZCgpO1xuICAgICAgICBwb3B1bGF0ZVNoaXBzKCk7XG4gICAgICAgIHVpLnJlZnJlc2hCb2FyZChodW1hbkdhbWVib2FyZCk7XG4gICAgICAgIHVpLnJlZnJlc2hCb2FyZChjb21wdXRlckdhbWVib2FyZCk7XG4gICAgICAgIHVpLmNyZWF0ZVNoaXBPdmVybGF5KGNvbXB1dGVyR2FtZWJvYXJkKTtcbiAgICAgICAgZHJhZ0FuZERyb3AoaHVtYW5HYW1lYm9hcmQsIGNvbXB1dGVyR2FtZWJvYXJkLCBodW1hblNoaXBzKTtcbiAgICAgICAgdWkuY2FuQmVTdGFydGVkKCk7XG4gICAgICAgIHBpY2tHYW1lTW9kZSgpO1xuICAgIH07XG4gICAgY29uc3QgbmV3R2FtZSA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBpc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICB5aWVsZCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCB1aS5nZXRTcGVlZFZhbHVlKCkpKTtcbiAgICAgICAgaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHJlc3RhcnQoKTtcbiAgICB9KTtcbiAgICBjb25zdCBpbml0ID0gKCkgPT4ge1xuICAgICAgICB1aS5zZXRJbml0TWVzc2FnZSgpO1xuICAgICAgICBodW1hbkdhbWVib2FyZC5nZW5lcmF0ZUFycmF5KCk7XG4gICAgICAgIGNvbXB1dGVyR2FtZWJvYXJkLmdlbmVyYXRlQXJyYXkoKTtcbiAgICAgICAgdWkucmVuZGVyQm9hcmQoaHVtYW5HYW1lYm9hcmQpO1xuICAgICAgICB1aS5yZW5kZXJCb2FyZChjb21wdXRlckdhbWVib2FyZCk7XG4gICAgICAgIHBvcHVsYXRlU2hpcHMoKTtcbiAgICAgICAgdWkucmVmcmVzaEJvYXJkKGNvbXB1dGVyR2FtZWJvYXJkKTtcbiAgICAgICAgdWkuY3JlYXRlU2hpcE92ZXJsYXkoY29tcHV0ZXJHYW1lYm9hcmQpO1xuICAgICAgICBkcmFnQW5kRHJvcChodW1hbkdhbWVib2FyZCwgY29tcHV0ZXJHYW1lYm9hcmQsIGh1bWFuU2hpcHMpO1xuICAgICAgICB1aS5jYW5CZVN0YXJ0ZWQoKTtcbiAgICAgICAgcGlja0dhbWVNb2RlKCk7XG4gICAgICAgIHVpLnBWY0J0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4geyBpbml0LCByZW5ldywgaHVtYW5HYW1lYm9hcmQsIGNvbXB1dGVyR2FtZWJvYXJkLCByZXN0YXJ0LCBuZXdHYW1lLCBzdGFydCwgcmFuZG9taXplU2hpcHNQbGFjZW1lbnQsIGh1bWFuU2hpcHMgfTtcbn0pKCk7XG5leHBvcnQgZGVmYXVsdCBjb250cm9sbGVyO1xuIiwiaW1wb3J0ICdub3JtYWxpemUuY3NzJztcbmltcG9ydCAnLi9zdHlsZS9zdHlsZS5jc3MnO1xuaW1wb3J0IGNvbnRyb2xsZXIgZnJvbSAnLi9tb2R1bGVzL2NvbnRyb2xsZXInO1xuY29udHJvbGxlci5pbml0KCk7XG4iXSwibmFtZXMiOlsiY29scyIsInJvd3MiLCJhcnJheSIsInNoaXBzUGxhY2VkIiwiZ2V0Q2VsbCIsImNvbCIsInJvdyIsImNvbEluZGV4IiwiaW5kZXhPZiIsInJvd0luZGV4Iiwic2V0Q2VsbCIsIm5ld1N0YXR1cyIsIm5ld1Rha2VuQnkiLCJzdGF0dXMiLCJ0YWtlbkJ5IiwiZ2VuZXJhdGVBcnJheSIsImkiLCJqIiwiY2xlYXJCb2FyZCIsImZsYXQiLCJmb3JFYWNoIiwiY2VsbCIsInVuZGVmaW5lZCIsImxlbmd0aCIsInJlbW92ZVNoaXAiLCJzaGlwIiwiZ2FtZWJvYXJkIiwibmFtZSIsInNoaXBJbmRleCIsInNwbGljZSIsInBsYWNlU2hpcCIsIm9yaWVudGF0aW9uIiwiaXNIb3Jpem9udGFsIiwiY2VsbHMiLCJzdGFydCIsImlzVmVydGljYWwiLCJzaGlwQ2VsbHMiLCJzaXplIiwiY3VycmVudENvbCIsImN1cnJlbnRSb3ciLCJwdXNoIiwicmVjZWl2ZUF0dGFjayIsImhpdCIsInJlY2VpdmVBcm91bmQiLCJyZXNlcnZlU3BhY2UiLCJmaWx0ZXIiLCJjIiwiZGlyZWN0aW9uIiwibmV3Q29sIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiY2hhckNvZGVBdCIsIm5ld1JvdyIsIk51bWJlciIsInRvU3RyaW5nIiwicmVzZXJ2ZVNwYWNlRm9yQWxsIiwiaGl0QnV0Tm90U3VuayIsInNvbWUiLCJpc1N1bmsiLCJjYW5CZVN1bmsiLCJzaW5rU2hpcCIsImFsbFN1bmsiLCJ0YWtlbkJ5Q2VsbHMiLCJldmVyeSIsImNhbkJlUGxhY2VkIiwiYXJlRW1wdHkiLCJpdGVtIiwicmVtb3ZlUmVzZXJ2ZWRTcGFjZSIsImhpdENvdW50Iiwicm90YXRlIiwidGhpcyIsInNvdW5kcyIsInVhIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaXNTYWZhcmkiLCJ0ZXN0IiwiaXNJT1MiLCJpbmNsdWRlcyIsImRvY3VtZW50IiwiaXNTYWZhcmlPcklPU0Jyb3dzZXIiLCJhdWRpb0N0eCIsIkF1ZGlvQ29udGV4dCIsImJ1ZmZlcnMiLCJnYWluTm9kZSIsImNyZWF0ZUdhaW4iLCJjb25uZWN0IiwiZGVzdGluYXRpb24iLCJsb2FkU291bmQiLCJ1cmwiLCJrZXkiLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwicmVzcG9uc2VUeXBlIiwib25sb2FkIiwiZGVjb2RlQXVkaW9EYXRhIiwicmVzcG9uc2UiLCJidWZmZXIiLCJlcnJvciIsImNvbnNvbGUiLCJzZW5kIiwicGxheWluZ1NvdXJjZXMiLCJwbGF5QXVkaW8iLCJzdG9wIiwib25lbmRlZCIsInNvdXJjZSIsImNyZWF0ZUJ1ZmZlclNvdXJjZSIsIm11dGVBbGwiLCJtdXRlIiwiZ2FpbiIsInZhbHVlIiwicGxheSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXN1bWUiLCJ0aGVuIiwibG9nIiwiY2F0Y2giLCJPYmplY3QiLCJrZXlzIiwicGxheVNvdW5kIiwiY3VycmVudFRpbWUiLCJwYXVzZSIsImNhbGwiLCJpc011dGVkIiwidmFsdWVzIiwic291bmQiLCJIVE1MQXVkaW9FbGVtZW50Iiwidm9sdW1lIiwiYXVkaW8iLCJtaXNzIiwiQXVkaW8iLCJzdW5rIiwiZ2FtZU92ZXIiLCJkcm9wIiwicmFuZG9tIiwic2VsZWN0IiwidGljayIsImdyYWIiLCJhc3NpZ24iLCJsb2FkIiwicHJldkhpdCIsImxhc3RIaXQiLCJyYW5nZSIsImdvUmlnaHQiLCJnb0Rvd24iLCJmaW5pc2hpbmdBdHRhY2siLCJzZXRQcmV2SGl0Iiwic2V0TGFzdEhpdCIsIm5ld1ByZXZIaXQiLCJuZXdMYXN0SGl0IiwiYXR0YWNrIiwicmVzdWx0IiwicmFuZG9tQXR0YWNrIiwicmFuZG9tQ29sIiwicmFuZG9tUm93IiwiTWF0aCIsImZsb29yIiwiY2VpbCIsImZvbGxvd3VwQXR0YWNrIiwidmFsaWREaXJlY3Rpb25zIiwicmFuZG9tRGlyZWN0aW9uIiwiZ2V0UHJldkhpdCIsImdldExhc3RIaXQiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwiZG9uZSIsImFwcGx5IiwiZmlyc3RHYW1lYm9hcmQiLCJzZWNvbmRHYW1lYm9hcmQiLCJzaGlwcyIsImZpcnN0Qm9hcmRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsInNlY29uZEJvYXJkRWxlbWVudCIsImZpcnN0Qm9hcmRDZWxscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzZWNvbmRCb2FyZENlbGxzIiwic2hpcE5hbWUiLCJzaGlwU2l6ZSIsInNoaXBPYmoiLCJncmFiUG9pbnRYIiwiZ3JhYlBvaW50WSIsImhpZ2hsaWdodGVkQ2VsbHMiLCJzaGlwTmFtZVRvT2JqIiwiY2FycmllciIsImJhdHRsZXNoaXAiLCJkZXN0cm95ZXIiLCJzdWJtYXJpbmUiLCJwYXRyb2xib2F0IiwibGFzdERyYWdnZWQiLCJkcmFnZ2FibGVzIiwiZ2V0Tm9uU2hpcENlbGxzIiwiYm9hcmRDZWxscyIsIkFycmF5IiwiZnJvbSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwibm9uU2hpcENlbGxzIiwiZ2V0TGFzdFNoaXBTaXplRWxlbWVudHMiLCJzbGljZSIsIm1pbiIsImdldEdhbWVib2FyZCIsInRhcmdldCIsImJvYXJkSWQiLCJjbG9zZXN0IiwiaWQiLCJzZXRTaGlwQXR0cmlidXRlcyIsImdldEF0dHJpYnV0ZSIsIm9mZnNldFgiLCJvZmZzZXRZIiwicmVtb3ZlSGlnaGxpZ2h0IiwiaGlnaGxpZ2h0ZWRDZWxsIiwicmVtb3ZlIiwiaXNCb2FyZFZhbGlkIiwiaGFuZGxlTW91c2Vkb3duIiwidGFyZ2V0U2hpcE5hbWUiLCJyZW1haW5pbmdTaGlwcyIsInRvTG93ZXJDYXNlIiwicmVzZXJ2ZVNwYWNlRm9yUmVtYWluaW5nU2hpcHMiLCJyZW5ldyIsInNldEluaXRNZXNzYWdlIiwiYnV0dG9uIiwiaGFuZGxlRHJhZ1N0YXJ0Iiwic2V0VGltZW91dCIsInN0eWxlIiwidmlzaWJpbGl0eSIsImNsZWFyU2hpcCIsImhhbmRsZURyYWdPdmVyIiwiaW5kZXgiLCJwcmV2ZW50RGVmYXVsdCIsInN0YXJ0Q2VsbCIsIm9mZnNldEhlaWdodCIsIm9mZnNldFdpZHRoIiwiZ2V0U3RhcnRDZWxsIiwiZ2V0Qm9hcmRDZWxscyIsInRvSGlnaGxpZ2h0IiwiY2VsbEluZGV4IiwiaGlnaGxpZ2h0Q2VsbHNPbkJvYXJkIiwiZGF0YXNldCIsImlzVmFsaWRQbGFjZW1lbnQiLCJhZGQiLCJoaWdobGlnaHRDZWxscyIsImhhbmRsZURyYWdMZWF2ZSIsImhhbmRsZURyb3AiLCJsYXN0IiwicGxhY2VTaGlwT25Cb2FyZCIsImNhbkJlU3RhcnRlZCIsInNldFN0YXJ0TWVzc2FnZSIsImhhbmRsZURyYWdFbmQiLCJib2FyZCIsInByZXZlbnRPZmZCb2FyZFBsYWNlbWVudCIsImZpbGxDZWxscyIsImhhbmRsZU1vdXNldXAiLCJoYW5kbGVSb3RhdGUiLCJjdXJyZW50IiwiYmxvY2tSaWdodENsaWNrIiwiYWRkRXZlbnRMaXN0ZW5lcnNUb0NlbGxzIiwiZHJhZ2dhYmxlIiwidWkiLCJzdGF0dXNCb3giLCJib2FyZHMiLCJwVmNCdG4iLCJuZXdHYW1lQnRuIiwiY1ZjQnRuIiwic3RhcnRCdG4iLCJyYW5kb21CdG4iLCJhbGxCdG5zIiwic3BlZWRzIiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJzcGVlZFZhbHVlIiwibXV0ZUJ0biIsInJlbmRlckNlbGxzIiwiZWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjcmVhdGVDZWxsIiwiYXBwZW5kIiwiZ2V0Qm9hcmRJZCIsImh1bWFuR2FtZWJvYXJkIiwiY29tcHV0ZXJHYW1lYm9hcmQiLCJyZWZyZXNoQm9hcmQiLCJpbm5lckhUTUwiLCJnZXRVc2VySW5wdXQiLCJoYW5kbGVHYW1lTW9kZSIsInNlbGVjdGVkRWxlbWVudCIsImRlc2VsZWN0ZWRFbGVtZW50Iiwid2FpdGluZyIsImJ0biIsImRpc2FibGVkIiwiZ2V0U3BlZWRWYWx1ZSIsInJlc3RhcnQiLCJzZXRSZXN0YXJ0TWVzc2FnZSIsImJvb2wiLCJkb2N1bWVudEVsZW1lbnQiLCJ0b2dnbGUiLCJyZW1vdmVCb2FyZFBvaW50ZXIiLCJzZXRTaGlwU3R5bGUiLCJzaGlwRWxlbWVudCIsImNlbGxTaXplIiwiaHRtbEVsZW1lbnQiLCJyb290Rm9udFNpemUiLCJwYXJzZUZsb2F0Iiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJ3aWR0aCIsImhlaWdodCIsInN0YXR1c1RleHRNb2JpbGUiLCJzdGF0dXNUZXh0RGVza3RvcCIsInRleHRDb250ZW50IiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJpbnB1dCIsInVuRmlsbENlbGxzIiwic2Vjb25kIiwiYWxsIiwibmV3R2FtZSIsInJhbmRvbWl6ZVNoaXBzUGxhY2VtZW50IiwiaHVtYW5TaGlwcyIsInNwZWVkQnRuIiwiZXZlbnQiLCJjaGVja2VkIiwic2V0U3BlZWRWYWx1ZSIsInNwZWFrZXJJY29uIiwicmVuZGVyQm9hcmQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJoYW5kbGVVc2VySW5wdXQiLCJ1c2VySW5wdXQiLCJvbmNlIiwic2V0Qm9hcmRQb2ludGVyIiwid2hpY2giLCJjcmVhdGVTaGlwT3ZlcmxheSIsImZpcnN0Q2VsbCIsImNyZWF0ZVNoaXBFbGVtZW50IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYXBwZW5kQ2hpbGQiLCJyZXNpemVIYW5kbGVyIiwic2V0VHVybk1lc3NhZ2VQdkMiLCJpc1BsYXllclR1cm4iLCJzZXRUdXJuTWVzc2FnZUN2QyIsInNldEdhbWVPdmVyTWVzc2FnZVB2QyIsIndobyIsInNldEdhbWVPdmVyTWVzc2FnZUN2QyIsImh1bWFuIiwicGxheWVyIiwiY29tcHV0ZXIiLCJodW1hbkNhcnJpZXIiLCJodW1hbkJhdHRsZXNoaXAiLCJodW1hbkRlc3Ryb3llciIsImh1bWFuU3VibWFyaW5lIiwiaHVtYW5QYXRyb2xib2F0IiwiaXNTdG9wcGVkIiwicG9wdWxhdGVTaGlwcyIsImhhbmRsZUdhbWVPdmVyIiwid2lubmVyIiwiaXNHYW1lT3ZlciIsImNvbXB1dGVyQUkiLCJjcHVUdXJuIiwiYWxsU2hpcHMiLCJyYW5kb21PcmllbnRhdGlvbiIsInJhbmRvbVBsYWNlbWVudCIsInBpY2tHYW1lTW9kZSIsImluaXQiXSwic291cmNlUm9vdCI6IiJ9